"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var __Html5QrcodeLibrary__;(function () {
  var t = { 449: function _(t, e, r) {
      !function (t) {
        "use strict";
        function e(t) {
          return null == t;
        }var n = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) {
          t.__proto__ = e;
        } || function (t, e) {
          for (var r in e) {
            e.hasOwnProperty(r) && (t[r] = e[r]);
          }
        };var i,
            o = function (t) {
          function e(e) {
            var r,
                n,
                i,
                o = this.constructor,
                s = t.call(this, e) || this;return Object.defineProperty(s, "name", { value: o.name, enumerable: !1 }), r = s, n = o.prototype, (i = Object.setPrototypeOf) ? i(r, n) : r.__proto__ = n, function (t, e) {
              void 0 === e && (e = t.constructor);var r = Error.captureStackTrace;r && r(t, e);
            }(s), s;
          }return function (t, e) {
            function r() {
              this.constructor = t;
            }n(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());
          }(e, t), e;
        }(Error);
        var s = function (_o) {
          _inherits(s, _o);

          function s() {
            var _this;

            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;

            _classCallCheck(this, s);

            (_this = _possibleConstructorReturn(this, (s.__proto__ || Object.getPrototypeOf(s)).call(this, t)), _this), _this.message = t;return _this;
          }

          _createClass(s, [{
            key: "getKind",
            value: function getKind() {
              return this.constructor.kind;
            }
          }]);

          return s;
        }(o);

        s.kind = "Exception";
        var a = function (_s) {
          _inherits(a, _s);

          function a() {
            _classCallCheck(this, a);

            return _possibleConstructorReturn(this, (a.__proto__ || Object.getPrototypeOf(a)).apply(this, arguments));
          }

          return a;
        }(s);

        a.kind = "ArgumentException";
        var c = function (_s2) {
          _inherits(c, _s2);

          function c() {
            _classCallCheck(this, c);

            return _possibleConstructorReturn(this, (c.__proto__ || Object.getPrototypeOf(c)).apply(this, arguments));
          }

          return c;
        }(s);

        c.kind = "IllegalArgumentException";
        var l = function () {
          function l(t) {
            _classCallCheck(this, l);

            if (this.binarizer = t, null === t) throw new c("Binarizer must be non-null.");
          }

          _createClass(l, [{
            key: "getWidth",
            value: function getWidth() {
              return this.binarizer.getWidth();
            }
          }, {
            key: "getHeight",
            value: function getHeight() {
              return this.binarizer.getHeight();
            }
          }, {
            key: "getBlackRow",
            value: function getBlackRow(t, e) {
              return this.binarizer.getBlackRow(t, e);
            }
          }, {
            key: "getBlackMatrix",
            value: function getBlackMatrix() {
              return null !== this.matrix && void 0 !== this.matrix || (this.matrix = this.binarizer.getBlackMatrix()), this.matrix;
            }
          }, {
            key: "isCropSupported",
            value: function isCropSupported() {
              return this.binarizer.getLuminanceSource().isCropSupported();
            }
          }, {
            key: "crop",
            value: function crop(t, e, r, n) {
              var i = this.binarizer.getLuminanceSource().crop(t, e, r, n);return new l(this.binarizer.createBinarizer(i));
            }
          }, {
            key: "isRotateSupported",
            value: function isRotateSupported() {
              return this.binarizer.getLuminanceSource().isRotateSupported();
            }
          }, {
            key: "rotateCounterClockwise",
            value: function rotateCounterClockwise() {
              var t = this.binarizer.getLuminanceSource().rotateCounterClockwise();return new l(this.binarizer.createBinarizer(t));
            }
          }, {
            key: "rotateCounterClockwise45",
            value: function rotateCounterClockwise45() {
              var t = this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new l(this.binarizer.createBinarizer(t));
            }
          }, {
            key: "toString",
            value: function toString() {
              try {
                return this.getBlackMatrix().toString();
              } catch (t) {
                return "";
              }
            }
          }]);

          return l;
        }();

        var h = function (_s3) {
          _inherits(h, _s3);

          function h() {
            _classCallCheck(this, h);

            return _possibleConstructorReturn(this, (h.__proto__ || Object.getPrototypeOf(h)).apply(this, arguments));
          }

          _createClass(h, null, [{
            key: "getChecksumInstance",
            value: function getChecksumInstance() {
              return new h();
            }
          }]);

          return h;
        }(s);

        h.kind = "ChecksumException";
        var u = function () {
          function u(t) {
            _classCallCheck(this, u);

            this.source = t;
          }

          _createClass(u, [{
            key: "getLuminanceSource",
            value: function getLuminanceSource() {
              return this.source;
            }
          }, {
            key: "getWidth",
            value: function getWidth() {
              return this.source.getWidth();
            }
          }, {
            key: "getHeight",
            value: function getHeight() {
              return this.source.getHeight();
            }
          }]);

          return u;
        }();

        var d = function () {
          function d() {
            _classCallCheck(this, d);
          }

          _createClass(d, null, [{
            key: "arraycopy",
            value: function arraycopy(t, e, r, n, i) {
              for (; i--;) {
                r[n++] = t[e++];
              }
            }
          }, {
            key: "currentTimeMillis",
            value: function currentTimeMillis() {
              return Date.now();
            }
          }]);

          return d;
        }();

        var f = function (_s4) {
          _inherits(f, _s4);

          function f() {
            _classCallCheck(this, f);

            return _possibleConstructorReturn(this, (f.__proto__ || Object.getPrototypeOf(f)).apply(this, arguments));
          }

          return f;
        }(s);

        f.kind = "IndexOutOfBoundsException";
        var g = function (_f) {
          _inherits(g, _f);

          function g() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;

            var _this6;

            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

            _classCallCheck(this, g);

            (_this6 = _possibleConstructorReturn(this, (g.__proto__ || Object.getPrototypeOf(g)).call(this, e)), _this6), _this6.index = t, _this6.message = e;return _this6;
          }

          return g;
        }(f);

        g.kind = "ArrayIndexOutOfBoundsException";
        var w = function () {
          function w() {
            _classCallCheck(this, w);
          }

          _createClass(w, null, [{
            key: "fill",
            value: function fill(t, e) {
              for (var _r2 = 0, _n = t.length; _r2 < _n; _r2++) {
                t[_r2] = e;
              }
            }
          }, {
            key: "fillWithin",
            value: function fillWithin(t, e, r, n) {
              w.rangeCheck(t.length, e, r);for (var _i = e; _i < r; _i++) {
                t[_i] = n;
              }
            }
          }, {
            key: "rangeCheck",
            value: function rangeCheck(t, e, r) {
              if (e > r) throw new c("fromIndex(" + e + ") > toIndex(" + r + ")");if (e < 0) throw new g(e);if (r > t) throw new g(r);
            }
          }, {
            key: "asList",
            value: function asList() {
              for (var _len = arguments.length, t = Array(_len), _key = 0; _key < _len; _key++) {
                t[_key] = arguments[_key];
              }

              return t;
            }
          }, {
            key: "create",
            value: function create(t, e, r) {
              return Array.from({ length: t }).map(function (t) {
                return Array.from({ length: e }).fill(r);
              });
            }
          }, {
            key: "createInt32Array",
            value: function createInt32Array(t, e, r) {
              return Array.from({ length: t }).map(function (t) {
                return Int32Array.from({ length: e }).fill(r);
              });
            }
          }, {
            key: "equals",
            value: function equals(t, e) {
              if (!t) return !1;if (!e) return !1;if (!t.length) return !1;if (!e.length) return !1;if (t.length !== e.length) return !1;for (var _r3 = 0, _n2 = t.length; _r3 < _n2; _r3++) {
                if (t[_r3] !== e[_r3]) return !1;
              }return !0;
            }
          }, {
            key: "hashCode",
            value: function hashCode(t) {
              if (null === t) return 0;var e = 1;var _iteratorNormalCompletion = true;
              var _didIteratorError = false;
              var _iteratorError = undefined;

              try {
                for (var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  var _r4 = _step.value;
                  e = 31 * e + _r4;
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }

              return e;
            }
          }, {
            key: "fillUint8Array",
            value: function fillUint8Array(t, e) {
              for (var _r5 = 0; _r5 !== t.length; _r5++) {
                t[_r5] = e;
              }
            }
          }, {
            key: "copyOf",
            value: function copyOf(t, e) {
              return t.slice(0, e);
            }
          }, {
            key: "copyOfUint8Array",
            value: function copyOfUint8Array(t, e) {
              if (t.length <= e) {
                var _r6 = new Uint8Array(e);return _r6.set(t), _r6;
              }return t.slice(0, e);
            }
          }, {
            key: "copyOfRange",
            value: function copyOfRange(t, e, r) {
              var n = r - e,
                  i = new Int32Array(n);return d.arraycopy(t, e, i, 0, n), i;
            }
          }, {
            key: "binarySearch",
            value: function binarySearch(t, e, r) {
              void 0 === r && (r = w.numberComparator);var n = 0,
                  i = t.length - 1;for (; n <= i;) {
                var _o2 = i + n >> 1,
                    _s5 = r(e, t[_o2]);if (_s5 > 0) n = _o2 + 1;else {
                  if (!(_s5 < 0)) return _o2;i = _o2 - 1;
                }
              }return -n - 1;
            }
          }, {
            key: "numberComparator",
            value: function numberComparator(t, e) {
              return t - e;
            }
          }]);

          return w;
        }();

        var m = function () {
          function m() {
            _classCallCheck(this, m);
          }

          _createClass(m, null, [{
            key: "numberOfTrailingZeros",
            value: function numberOfTrailingZeros(t) {
              var e = void 0;if (0 === t) return 32;var r = 31;return e = t << 16, 0 !== e && (r -= 16, t = e), e = t << 8, 0 !== e && (r -= 8, t = e), e = t << 4, 0 !== e && (r -= 4, t = e), e = t << 2, 0 !== e && (r -= 2, t = e), r - (t << 1 >>> 31);
            }
          }, {
            key: "numberOfLeadingZeros",
            value: function numberOfLeadingZeros(t) {
              if (0 === t) return 32;var e = 1;return t >>> 16 == 0 && (e += 16, t <<= 16), t >>> 24 == 0 && (e += 8, t <<= 8), t >>> 28 == 0 && (e += 4, t <<= 4), t >>> 30 == 0 && (e += 2, t <<= 2), e -= t >>> 31, e;
            }
          }, {
            key: "toHexString",
            value: function toHexString(t) {
              return t.toString(16);
            }
          }, {
            key: "toBinaryString",
            value: function toBinaryString(t) {
              return String(parseInt(String(t), 2));
            }
          }, {
            key: "bitCount",
            value: function bitCount(t) {
              return t = (t = (858993459 & (t -= t >>> 1 & 1431655765)) + (t >>> 2 & 858993459)) + (t >>> 4) & 252645135, 63 & (t += t >>> 8) + (t >>> 16);
            }
          }, {
            key: "truncDivision",
            value: function truncDivision(t, e) {
              return Math.trunc(t / e);
            }
          }, {
            key: "parseInt",
            value: function (_parseInt) {
              function parseInt(_x4) {
                return _parseInt.apply(this, arguments);
              }

              parseInt.toString = function () {
                return _parseInt.toString();
              };

              return parseInt;
            }(function (t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
              return parseInt(t, e);
            })
          }]);

          return m;
        }();

        m.MIN_VALUE_32_BITS = -2147483648, m.MAX_VALUE = Number.MAX_SAFE_INTEGER;
        var p = function () {
          function p(t, e) {
            _classCallCheck(this, p);

            void 0 === t ? (this.size = 0, this.bits = new Int32Array(1)) : (this.size = t, this.bits = null == e ? p.makeArray(t) : e);
          }

          _createClass(p, [{
            key: "getSize",
            value: function getSize() {
              return this.size;
            }
          }, {
            key: "getSizeInBytes",
            value: function getSizeInBytes() {
              return Math.floor((this.size + 7) / 8);
            }
          }, {
            key: "ensureCapacity",
            value: function ensureCapacity(t) {
              if (t > 32 * this.bits.length) {
                var _e2 = p.makeArray(t);d.arraycopy(this.bits, 0, _e2, 0, this.bits.length), this.bits = _e2;
              }
            }
          }, {
            key: "get",
            value: function get(t) {
              return 0 != (this.bits[Math.floor(t / 32)] & 1 << (31 & t));
            }
          }, {
            key: "set",
            value: function set(t) {
              this.bits[Math.floor(t / 32)] |= 1 << (31 & t);
            }
          }, {
            key: "flip",
            value: function flip(t) {
              this.bits[Math.floor(t / 32)] ^= 1 << (31 & t);
            }
          }, {
            key: "getNextSet",
            value: function getNextSet(t) {
              var e = this.size;if (t >= e) return e;var r = this.bits;var n = Math.floor(t / 32),
                  i = r[n];i &= ~((1 << (31 & t)) - 1);var o = r.length;for (; 0 === i;) {
                if (++n === o) return e;i = r[n];
              }var s = 32 * n + m.numberOfTrailingZeros(i);return s > e ? e : s;
            }
          }, {
            key: "getNextUnset",
            value: function getNextUnset(t) {
              var e = this.size;if (t >= e) return e;var r = this.bits;var n = Math.floor(t / 32),
                  i = ~r[n];i &= ~((1 << (31 & t)) - 1);var o = r.length;for (; 0 === i;) {
                if (++n === o) return e;i = ~r[n];
              }var s = 32 * n + m.numberOfTrailingZeros(i);return s > e ? e : s;
            }
          }, {
            key: "setBulk",
            value: function setBulk(t, e) {
              this.bits[Math.floor(t / 32)] = e;
            }
          }, {
            key: "setRange",
            value: function setRange(t, e) {
              if (e < t || t < 0 || e > this.size) throw new c();if (e === t) return;e--;var r = Math.floor(t / 32),
                  n = Math.floor(e / 32),
                  i = this.bits;for (var _o3 = r; _o3 <= n; _o3++) {
                var _s6 = (2 << (_o3 < n ? 31 : 31 & e)) - (1 << (_o3 > r ? 0 : 31 & t));i[_o3] |= _s6;
              }
            }
          }, {
            key: "clear",
            value: function clear() {
              var t = this.bits.length,
                  e = this.bits;for (var _r7 = 0; _r7 < t; _r7++) {
                e[_r7] = 0;
              }
            }
          }, {
            key: "isRange",
            value: function isRange(t, e, r) {
              if (e < t || t < 0 || e > this.size) throw new c();if (e === t) return !0;e--;var n = Math.floor(t / 32),
                  i = Math.floor(e / 32),
                  o = this.bits;for (var _s7 = n; _s7 <= i; _s7++) {
                var _a = (2 << (_s7 < i ? 31 : 31 & e)) - (1 << (_s7 > n ? 0 : 31 & t)) & 4294967295;if ((o[_s7] & _a) !== (r ? _a : 0)) return !1;
              }return !0;
            }
          }, {
            key: "appendBit",
            value: function appendBit(t) {
              this.ensureCapacity(this.size + 1), t && (this.bits[Math.floor(this.size / 32)] |= 1 << (31 & this.size)), this.size++;
            }
          }, {
            key: "appendBits",
            value: function appendBits(t, e) {
              if (e < 0 || e > 32) throw new c("Num bits must be between 0 and 32");this.ensureCapacity(this.size + e);for (var _r8 = e; _r8 > 0; _r8--) {
                this.appendBit(1 == (t >> _r8 - 1 & 1));
              }
            }
          }, {
            key: "appendBitArray",
            value: function appendBitArray(t) {
              var e = t.size;this.ensureCapacity(this.size + e);for (var _r9 = 0; _r9 < e; _r9++) {
                this.appendBit(t.get(_r9));
              }
            }
          }, {
            key: "xor",
            value: function xor(t) {
              if (this.size !== t.size) throw new c("Sizes don't match");var e = this.bits;for (var _r10 = 0, _n3 = e.length; _r10 < _n3; _r10++) {
                e[_r10] ^= t.bits[_r10];
              }
            }
          }, {
            key: "toBytes",
            value: function toBytes(t, e, r, n) {
              for (var _i2 = 0; _i2 < n; _i2++) {
                var _n4 = 0;for (var _e3 = 0; _e3 < 8; _e3++) {
                  this.get(t) && (_n4 |= 1 << 7 - _e3), t++;
                }e[r + _i2] = _n4;
              }
            }
          }, {
            key: "getBitArray",
            value: function getBitArray() {
              return this.bits;
            }
          }, {
            key: "reverse",
            value: function reverse() {
              var t = new Int32Array(this.bits.length),
                  e = Math.floor((this.size - 1) / 32),
                  r = e + 1,
                  n = this.bits;for (var _i3 = 0; _i3 < r; _i3++) {
                var _r11 = n[_i3];_r11 = _r11 >> 1 & 1431655765 | (1431655765 & _r11) << 1, _r11 = _r11 >> 2 & 858993459 | (858993459 & _r11) << 2, _r11 = _r11 >> 4 & 252645135 | (252645135 & _r11) << 4, _r11 = _r11 >> 8 & 16711935 | (16711935 & _r11) << 8, _r11 = _r11 >> 16 & 65535 | (65535 & _r11) << 16, t[e - _i3] = _r11;
              }if (this.size !== 32 * r) {
                var _e4 = 32 * r - this.size;var _n5 = t[0] >>> _e4;for (var _i4 = 1; _i4 < r; _i4++) {
                  var _r12 = t[_i4];_n5 |= _r12 << 32 - _e4, t[_i4 - 1] = _n5, _n5 = _r12 >>> _e4;
                }t[r - 1] = _n5;
              }this.bits = t;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof p)) return !1;var e = t;return this.size === e.size && w.equals(this.bits, e.bits);
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              return 31 * this.size + w.hashCode(this.bits);
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = "";for (var _e5 = 0, _r13 = this.size; _e5 < _r13; _e5++) {
                0 == (7 & _e5) && (t += " "), t += this.get(_e5) ? "X" : ".";
              }return t;
            }
          }, {
            key: "clone",
            value: function clone() {
              return new p(this.size, this.bits.slice());
            }
          }], [{
            key: "makeArray",
            value: function makeArray(t) {
              return new Int32Array(Math.floor((t + 31) / 32));
            }
          }]);

          return p;
        }();

        !function (t) {
          t[t.OTHER = 0] = "OTHER", t[t.PURE_BARCODE = 1] = "PURE_BARCODE", t[t.POSSIBLE_FORMATS = 2] = "POSSIBLE_FORMATS", t[t.TRY_HARDER = 3] = "TRY_HARDER", t[t.CHARACTER_SET = 4] = "CHARACTER_SET", t[t.ALLOWED_LENGTHS = 5] = "ALLOWED_LENGTHS", t[t.ASSUME_CODE_39_CHECK_DIGIT = 6] = "ASSUME_CODE_39_CHECK_DIGIT", t[t.ASSUME_GS1 = 7] = "ASSUME_GS1", t[t.RETURN_CODABAR_START_END = 8] = "RETURN_CODABAR_START_END", t[t.NEED_RESULT_POINT_CALLBACK = 9] = "NEED_RESULT_POINT_CALLBACK", t[t.ALLOWED_EAN_EXTENSIONS = 10] = "ALLOWED_EAN_EXTENSIONS";
        }(i || (i = {}));var A,
            C = i;
        var E = function (_s8) {
          _inherits(E, _s8);

          function E() {
            _classCallCheck(this, E);

            return _possibleConstructorReturn(this, (E.__proto__ || Object.getPrototypeOf(E)).apply(this, arguments));
          }

          _createClass(E, null, [{
            key: "getFormatInstance",
            value: function getFormatInstance() {
              return new E();
            }
          }]);

          return E;
        }(s);

        E.kind = "FormatException", function (t) {
          t[t.Cp437 = 0] = "Cp437", t[t.ISO8859_1 = 1] = "ISO8859_1", t[t.ISO8859_2 = 2] = "ISO8859_2", t[t.ISO8859_3 = 3] = "ISO8859_3", t[t.ISO8859_4 = 4] = "ISO8859_4", t[t.ISO8859_5 = 5] = "ISO8859_5", t[t.ISO8859_6 = 6] = "ISO8859_6", t[t.ISO8859_7 = 7] = "ISO8859_7", t[t.ISO8859_8 = 8] = "ISO8859_8", t[t.ISO8859_9 = 9] = "ISO8859_9", t[t.ISO8859_10 = 10] = "ISO8859_10", t[t.ISO8859_11 = 11] = "ISO8859_11", t[t.ISO8859_13 = 12] = "ISO8859_13", t[t.ISO8859_14 = 13] = "ISO8859_14", t[t.ISO8859_15 = 14] = "ISO8859_15", t[t.ISO8859_16 = 15] = "ISO8859_16", t[t.SJIS = 16] = "SJIS", t[t.Cp1250 = 17] = "Cp1250", t[t.Cp1251 = 18] = "Cp1251", t[t.Cp1252 = 19] = "Cp1252", t[t.Cp1256 = 20] = "Cp1256", t[t.UnicodeBigUnmarked = 21] = "UnicodeBigUnmarked", t[t.UTF8 = 22] = "UTF8", t[t.ASCII = 23] = "ASCII", t[t.Big5 = 24] = "Big5", t[t.GB18030 = 25] = "GB18030", t[t.EUC_KR = 26] = "EUC_KR";
        }(A || (A = {}));
        var I = function () {
          function I(t, e, r) {
            _classCallCheck(this, I);

            for (var _len2 = arguments.length, n = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
              n[_key2 - 3] = arguments[_key2];
            }

            this.valueIdentifier = t, this.name = r, this.values = "number" == typeof e ? Int32Array.from([e]) : e, this.otherEncodingNames = n, I.VALUE_IDENTIFIER_TO_ECI.set(t, this), I.NAME_TO_ECI.set(r, this);var i = this.values;for (var _t2 = 0, _e6 = i.length; _t2 !== _e6; _t2++) {
              var _e7 = i[_t2];I.VALUES_TO_ECI.set(_e7, this);
            }var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
              for (var _iterator2 = n[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                var _t3 = _step2.value;
                I.NAME_TO_ECI.set(_t3, this);
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator2.return) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }
          }

          _createClass(I, [{
            key: "getValueIdentifier",
            value: function getValueIdentifier() {
              return this.valueIdentifier;
            }
          }, {
            key: "getName",
            value: function getName() {
              return this.name;
            }
          }, {
            key: "getValue",
            value: function getValue() {
              return this.values[0];
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof I)) return !1;var e = t;return this.getName() === e.getName();
            }
          }], [{
            key: "getCharacterSetECIByValue",
            value: function getCharacterSetECIByValue(t) {
              if (t < 0 || t >= 900) throw new E("incorect value");var e = I.VALUES_TO_ECI.get(t);if (void 0 === e) throw new E("incorect value");return e;
            }
          }, {
            key: "getCharacterSetECIByName",
            value: function getCharacterSetECIByName(t) {
              var e = I.NAME_TO_ECI.get(t);if (void 0 === e) throw new E("incorect value");return e;
            }
          }]);

          return I;
        }();

        I.VALUE_IDENTIFIER_TO_ECI = new Map(), I.VALUES_TO_ECI = new Map(), I.NAME_TO_ECI = new Map(), I.Cp437 = new I(A.Cp437, Int32Array.from([0, 2]), "Cp437"), I.ISO8859_1 = new I(A.ISO8859_1, Int32Array.from([1, 3]), "ISO-8859-1", "ISO88591", "ISO8859_1"), I.ISO8859_2 = new I(A.ISO8859_2, 4, "ISO-8859-2", "ISO88592", "ISO8859_2"), I.ISO8859_3 = new I(A.ISO8859_3, 5, "ISO-8859-3", "ISO88593", "ISO8859_3"), I.ISO8859_4 = new I(A.ISO8859_4, 6, "ISO-8859-4", "ISO88594", "ISO8859_4"), I.ISO8859_5 = new I(A.ISO8859_5, 7, "ISO-8859-5", "ISO88595", "ISO8859_5"), I.ISO8859_6 = new I(A.ISO8859_6, 8, "ISO-8859-6", "ISO88596", "ISO8859_6"), I.ISO8859_7 = new I(A.ISO8859_7, 9, "ISO-8859-7", "ISO88597", "ISO8859_7"), I.ISO8859_8 = new I(A.ISO8859_8, 10, "ISO-8859-8", "ISO88598", "ISO8859_8"), I.ISO8859_9 = new I(A.ISO8859_9, 11, "ISO-8859-9", "ISO88599", "ISO8859_9"), I.ISO8859_10 = new I(A.ISO8859_10, 12, "ISO-8859-10", "ISO885910", "ISO8859_10"), I.ISO8859_11 = new I(A.ISO8859_11, 13, "ISO-8859-11", "ISO885911", "ISO8859_11"), I.ISO8859_13 = new I(A.ISO8859_13, 15, "ISO-8859-13", "ISO885913", "ISO8859_13"), I.ISO8859_14 = new I(A.ISO8859_14, 16, "ISO-8859-14", "ISO885914", "ISO8859_14"), I.ISO8859_15 = new I(A.ISO8859_15, 17, "ISO-8859-15", "ISO885915", "ISO8859_15"), I.ISO8859_16 = new I(A.ISO8859_16, 18, "ISO-8859-16", "ISO885916", "ISO8859_16"), I.SJIS = new I(A.SJIS, 20, "SJIS", "Shift_JIS"), I.Cp1250 = new I(A.Cp1250, 21, "Cp1250", "windows-1250"), I.Cp1251 = new I(A.Cp1251, 22, "Cp1251", "windows-1251"), I.Cp1252 = new I(A.Cp1252, 23, "Cp1252", "windows-1252"), I.Cp1256 = new I(A.Cp1256, 24, "Cp1256", "windows-1256"), I.UnicodeBigUnmarked = new I(A.UnicodeBigUnmarked, 25, "UnicodeBigUnmarked", "UTF-16BE", "UnicodeBig"), I.UTF8 = new I(A.UTF8, 26, "UTF8", "UTF-8"), I.ASCII = new I(A.ASCII, Int32Array.from([27, 170]), "ASCII", "US-ASCII"), I.Big5 = new I(A.Big5, 28, "Big5"), I.GB18030 = new I(A.GB18030, 29, "GB18030", "GB2312", "EUC_CN", "GBK"), I.EUC_KR = new I(A.EUC_KR, 30, "EUC_KR", "EUC-KR");
        var S = function (_s9) {
          _inherits(S, _s9);

          function S() {
            _classCallCheck(this, S);

            return _possibleConstructorReturn(this, (S.__proto__ || Object.getPrototypeOf(S)).apply(this, arguments));
          }

          return S;
        }(s);

        S.kind = "UnsupportedOperationException";
        var _ = function () {
          function _() {
            _classCallCheck(this, _);
          }

          _createClass(_, null, [{
            key: "decode",
            value: function decode(t, e) {
              var r = this.encodingName(e);return this.customDecoder ? this.customDecoder(t, r) : "undefined" == typeof TextDecoder || this.shouldDecodeOnFallback(r) ? this.decodeFallback(t, r) : new TextDecoder(r).decode(t);
            }
          }, {
            key: "shouldDecodeOnFallback",
            value: function shouldDecodeOnFallback(t) {
              return !_.isBrowser() && "ISO-8859-1" === t;
            }
          }, {
            key: "encode",
            value: function encode(t, e) {
              var r = this.encodingName(e);return this.customEncoder ? this.customEncoder(t, r) : "undefined" == typeof TextEncoder ? this.encodeFallback(t) : new TextEncoder().encode(t);
            }
          }, {
            key: "isBrowser",
            value: function isBrowser() {
              return "undefined" != typeof window && "[object Window]" === {}.toString.call(window);
            }
          }, {
            key: "encodingName",
            value: function encodingName(t) {
              return "string" == typeof t ? t : t.getName();
            }
          }, {
            key: "encodingCharacterSet",
            value: function encodingCharacterSet(t) {
              return t instanceof I ? t : I.getCharacterSetECIByName(t);
            }
          }, {
            key: "decodeFallback",
            value: function decodeFallback(t, e) {
              var r = this.encodingCharacterSet(e);if (_.isDecodeFallbackSupported(r)) {
                var _e8 = "";for (var _r14 = 0, _n6 = t.length; _r14 < _n6; _r14++) {
                  var _n7 = t[_r14].toString(16);_n7.length < 2 && (_n7 = "0" + _n7), _e8 += "%" + _n7;
                }return decodeURIComponent(_e8);
              }if (r.equals(I.UnicodeBigUnmarked)) return String.fromCharCode.apply(null, new Uint16Array(t.buffer));throw new S("Encoding " + this.encodingName(e) + " not supported by fallback.");
            }
          }, {
            key: "isDecodeFallbackSupported",
            value: function isDecodeFallbackSupported(t) {
              return t.equals(I.UTF8) || t.equals(I.ISO8859_1) || t.equals(I.ASCII);
            }
          }, {
            key: "encodeFallback",
            value: function encodeFallback(t) {
              var e = btoa(unescape(encodeURIComponent(t))).split(""),
                  r = [];for (var _t4 = 0; _t4 < e.length; _t4++) {
                r.push(e[_t4].charCodeAt(0));
              }return new Uint8Array(r);
            }
          }]);

          return _;
        }();

        var T = function () {
          function T() {
            _classCallCheck(this, T);
          }

          _createClass(T, null, [{
            key: "castAsNonUtf8Char",
            value: function castAsNonUtf8Char(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var r = e ? e.getName() : this.ISO88591;return _.decode(new Uint8Array([t]), r);
            }
          }, {
            key: "guessEncoding",
            value: function guessEncoding(t, e) {
              if (null != e && void 0 !== e.get(C.CHARACTER_SET)) return e.get(C.CHARACTER_SET).toString();var r = t.length;var n = !0,
                  i = !0,
                  o = !0,
                  s = 0,
                  a = 0,
                  c = 0,
                  l = 0,
                  h = 0,
                  u = 0,
                  d = 0,
                  f = 0,
                  g = 0,
                  w = 0,
                  m = 0;var p = t.length > 3 && 239 === t[0] && 187 === t[1] && 191 === t[2];for (var _e9 = 0; _e9 < r && (n || i || o); _e9++) {
                var _r15 = 255 & t[_e9];o && (s > 0 ? 0 == (128 & _r15) ? o = !1 : s-- : 0 != (128 & _r15) && (0 == (64 & _r15) ? o = !1 : (s++, 0 == (32 & _r15) ? a++ : (s++, 0 == (16 & _r15) ? c++ : (s++, 0 == (8 & _r15) ? l++ : o = !1))))), n && (_r15 > 127 && _r15 < 160 ? n = !1 : _r15 > 159 && (_r15 < 192 || 215 === _r15 || 247 === _r15) && m++), i && (h > 0 ? _r15 < 64 || 127 === _r15 || _r15 > 252 ? i = !1 : h-- : 128 === _r15 || 160 === _r15 || _r15 > 239 ? i = !1 : _r15 > 160 && _r15 < 224 ? (u++, f = 0, d++, d > g && (g = d)) : _r15 > 127 ? (h++, d = 0, f++, f > w && (w = f)) : (d = 0, f = 0));
              }return o && s > 0 && (o = !1), i && h > 0 && (i = !1), o && (p || a + c + l > 0) ? T.UTF8 : i && (T.ASSUME_SHIFT_JIS || g >= 3 || w >= 3) ? T.SHIFT_JIS : n && i ? 2 === g && 2 === u || 10 * m >= r ? T.SHIFT_JIS : T.ISO88591 : n ? T.ISO88591 : i ? T.SHIFT_JIS : o ? T.UTF8 : T.PLATFORM_DEFAULT_ENCODING;
            }
          }, {
            key: "format",
            value: function format(t) {
              for (var _len3 = arguments.length, e = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
                e[_key3 - 1] = arguments[_key3];
              }

              var r = -1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g, function (t, n, i, o, s, a) {
                if ("%%" === t) return "%";if (void 0 === e[++r]) return;t = o ? parseInt(o.substr(1)) : void 0;var c = void 0,
                    l = s ? parseInt(s.substr(1)) : void 0;switch (a) {case "s":
                    c = e[r];break;case "c":
                    c = e[r][0];break;case "f":
                    c = parseFloat(e[r]).toFixed(t);break;case "p":
                    c = parseFloat(e[r]).toPrecision(t);break;case "e":
                    c = parseFloat(e[r]).toExponential(t);break;case "x":
                    c = parseInt(e[r]).toString(l || 16);break;case "d":
                    c = parseFloat(parseInt(e[r], l || 10).toPrecision(t)).toFixed(0);}c = "object" == (typeof c === "undefined" ? "undefined" : _typeof(c)) ? JSON.stringify(c) : (+c).toString(l);var h = parseInt(i),
                    u = i && i[0] + "" == "0" ? "0" : " ";for (; c.length < h;) {
                  c = void 0 !== n ? c + u : u + c;
                }return c;
              });
            }
          }, {
            key: "getBytes",
            value: function getBytes(t, e) {
              return _.encode(t, e);
            }
          }, {
            key: "getCharCode",
            value: function getCharCode(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
              return t.charCodeAt(e);
            }
          }, {
            key: "getCharAt",
            value: function getCharAt(t) {
              return String.fromCharCode(t);
            }
          }]);

          return T;
        }();

        T.SHIFT_JIS = I.SJIS.getName(), T.GB2312 = "GB2312", T.ISO88591 = I.ISO8859_1.getName(), T.EUC_JP = "EUC_JP", T.UTF8 = I.UTF8.getName(), T.PLATFORM_DEFAULT_ENCODING = T.UTF8, T.ASSUME_SHIFT_JIS = !1;
        var y = function () {
          function y() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";

            _classCallCheck(this, y);

            this.value = t;
          }

          _createClass(y, [{
            key: "enableDecoding",
            value: function enableDecoding(t) {
              return this.encoding = t, this;
            }
          }, {
            key: "append",
            value: function append(t) {
              return "string" == typeof t ? this.value += t.toString() : this.encoding ? this.value += T.castAsNonUtf8Char(t, this.encoding) : this.value += String.fromCharCode(t), this;
            }
          }, {
            key: "appendChars",
            value: function appendChars(t, e, r) {
              for (var _n8 = e; e < e + r; _n8++) {
                this.append(t[_n8]);
              }return this;
            }
          }, {
            key: "length",
            value: function length() {
              return this.value.length;
            }
          }, {
            key: "charAt",
            value: function charAt(t) {
              return this.value.charAt(t);
            }
          }, {
            key: "deleteCharAt",
            value: function deleteCharAt(t) {
              this.value = this.value.substr(0, t) + this.value.substring(t + 1);
            }
          }, {
            key: "setCharAt",
            value: function setCharAt(t, e) {
              this.value = this.value.substr(0, t) + e + this.value.substr(t + 1);
            }
          }, {
            key: "substring",
            value: function substring(t, e) {
              return this.value.substring(t, e);
            }
          }, {
            key: "setLengthToZero",
            value: function setLengthToZero() {
              this.value = "";
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.value;
            }
          }, {
            key: "insert",
            value: function insert(t, e) {
              this.value = this.value.substr(0, t) + e + this.value.substr(t + e.length);
            }
          }]);

          return y;
        }();

        var N = function () {
          function N(t, e, r, n) {
            _classCallCheck(this, N);

            if (this.width = t, this.height = e, this.rowSize = r, this.bits = n, null == e && (e = t), this.height = e, t < 1 || e < 1) throw new c("Both dimensions must be greater than 0");null == r && (r = Math.floor((t + 31) / 32)), this.rowSize = r, null == n && (this.bits = new Int32Array(this.rowSize * this.height));
          }

          _createClass(N, [{
            key: "get",
            value: function get(t, e) {
              var r = e * this.rowSize + Math.floor(t / 32);return 0 != (this.bits[r] >>> (31 & t) & 1);
            }
          }, {
            key: "set",
            value: function set(t, e) {
              var r = e * this.rowSize + Math.floor(t / 32);this.bits[r] |= 1 << (31 & t) & 4294967295;
            }
          }, {
            key: "unset",
            value: function unset(t, e) {
              var r = e * this.rowSize + Math.floor(t / 32);this.bits[r] &= ~(1 << (31 & t) & 4294967295);
            }
          }, {
            key: "flip",
            value: function flip(t, e) {
              var r = e * this.rowSize + Math.floor(t / 32);this.bits[r] ^= 1 << (31 & t) & 4294967295;
            }
          }, {
            key: "xor",
            value: function xor(t) {
              if (this.width !== t.getWidth() || this.height !== t.getHeight() || this.rowSize !== t.getRowSize()) throw new c("input matrix dimensions do not match");var e = new p(Math.floor(this.width / 32) + 1),
                  r = this.rowSize,
                  n = this.bits;for (var _i5 = 0, _o4 = this.height; _i5 < _o4; _i5++) {
                var _o5 = _i5 * r,
                    _s10 = t.getRow(_i5, e).getBitArray();for (var _t5 = 0; _t5 < r; _t5++) {
                  n[_o5 + _t5] ^= _s10[_t5];
                }
              }
            }
          }, {
            key: "clear",
            value: function clear() {
              var t = this.bits,
                  e = t.length;for (var _r16 = 0; _r16 < e; _r16++) {
                t[_r16] = 0;
              }
            }
          }, {
            key: "setRegion",
            value: function setRegion(t, e, r, n) {
              if (e < 0 || t < 0) throw new c("Left and top must be nonnegative");if (n < 1 || r < 1) throw new c("Height and width must be at least 1");var i = t + r,
                  o = e + n;if (o > this.height || i > this.width) throw new c("The region must fit inside the matrix");var s = this.rowSize,
                  a = this.bits;for (var _r17 = e; _r17 < o; _r17++) {
                var _e10 = _r17 * s;for (var _r18 = t; _r18 < i; _r18++) {
                  a[_e10 + Math.floor(_r18 / 32)] |= 1 << (31 & _r18) & 4294967295;
                }
              }
            }
          }, {
            key: "getRow",
            value: function getRow(t, e) {
              null == e || e.getSize() < this.width ? e = new p(this.width) : e.clear();var r = this.rowSize,
                  n = this.bits,
                  i = t * r;for (var _t6 = 0; _t6 < r; _t6++) {
                e.setBulk(32 * _t6, n[i + _t6]);
              }return e;
            }
          }, {
            key: "setRow",
            value: function setRow(t, e) {
              d.arraycopy(e.getBitArray(), 0, this.bits, t * this.rowSize, this.rowSize);
            }
          }, {
            key: "rotate180",
            value: function rotate180() {
              var t = this.getWidth(),
                  e = this.getHeight();var r = new p(t),
                  n = new p(t);for (var _t7 = 0, _i6 = Math.floor((e + 1) / 2); _t7 < _i6; _t7++) {
                r = this.getRow(_t7, r), n = this.getRow(e - 1 - _t7, n), r.reverse(), n.reverse(), this.setRow(_t7, n), this.setRow(e - 1 - _t7, r);
              }
            }
          }, {
            key: "getEnclosingRectangle",
            value: function getEnclosingRectangle() {
              var t = this.width,
                  e = this.height,
                  r = this.rowSize,
                  n = this.bits;var i = t,
                  o = e,
                  s = -1,
                  a = -1;for (var _t8 = 0; _t8 < e; _t8++) {
                for (var _e11 = 0; _e11 < r; _e11++) {
                  var _c = n[_t8 * r + _e11];if (0 !== _c) {
                    if (_t8 < o && (o = _t8), _t8 > a && (a = _t8), 32 * _e11 < i) {
                      var _t9 = 0;for (; 0 == (_c << 31 - _t9 & 4294967295);) {
                        _t9++;
                      }32 * _e11 + _t9 < i && (i = 32 * _e11 + _t9);
                    }if (32 * _e11 + 31 > s) {
                      var _t10 = 31;for (; _c >>> _t10 == 0;) {
                        _t10--;
                      }32 * _e11 + _t10 > s && (s = 32 * _e11 + _t10);
                    }
                  }
                }
              }return s < i || a < o ? null : Int32Array.from([i, o, s - i + 1, a - o + 1]);
            }
          }, {
            key: "getTopLeftOnBit",
            value: function getTopLeftOnBit() {
              var t = this.rowSize,
                  e = this.bits;var r = 0;for (; r < e.length && 0 === e[r];) {
                r++;
              }if (r === e.length) return null;var n = r / t;var i = r % t * 32;var o = e[r];var s = 0;for (; 0 == (o << 31 - s & 4294967295);) {
                s++;
              }return i += s, Int32Array.from([i, n]);
            }
          }, {
            key: "getBottomRightOnBit",
            value: function getBottomRightOnBit() {
              var t = this.rowSize,
                  e = this.bits;var r = e.length - 1;for (; r >= 0 && 0 === e[r];) {
                r--;
              }if (r < 0) return null;var n = Math.floor(r / t);var i = 32 * Math.floor(r % t);var o = e[r];var s = 31;for (; o >>> s == 0;) {
                s--;
              }return i += s, Int32Array.from([i, n]);
            }
          }, {
            key: "getWidth",
            value: function getWidth() {
              return this.width;
            }
          }, {
            key: "getHeight",
            value: function getHeight() {
              return this.height;
            }
          }, {
            key: "getRowSize",
            value: function getRowSize() {
              return this.rowSize;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof N)) return !1;var e = t;return this.width === e.width && this.height === e.height && this.rowSize === e.rowSize && w.equals(this.bits, e.bits);
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              var t = this.width;return t = 31 * t + this.width, t = 31 * t + this.height, t = 31 * t + this.rowSize, t = 31 * t + w.hashCode(this.bits), t;
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "X ";
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "  ";
              var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "\n";
              return this.buildToString(t, e, r);
            }
          }, {
            key: "buildToString",
            value: function buildToString(t, e, r) {
              var n = new y();for (var _i7 = 0, _o6 = this.height; _i7 < _o6; _i7++) {
                for (var _r19 = 0, _o7 = this.width; _r19 < _o7; _r19++) {
                  n.append(this.get(_r19, _i7) ? t : e);
                }n.append(r);
              }return n.toString();
            }
          }, {
            key: "clone",
            value: function clone() {
              return new N(this.width, this.height, this.rowSize, this.bits.slice());
            }
          }], [{
            key: "parseFromBooleanArray",
            value: function parseFromBooleanArray(t) {
              var e = t.length,
                  r = t[0].length,
                  n = new N(r, e);for (var _i8 = 0; _i8 < e; _i8++) {
                var _e12 = t[_i8];for (var _t11 = 0; _t11 < r; _t11++) {
                  _e12[_t11] && n.set(_t11, _i8);
                }
              }return n;
            }
          }, {
            key: "parseFromString",
            value: function parseFromString(t, e, r) {
              if (null === t) throw new c("stringRepresentation cannot be null");var n = new Array(t.length);var i = 0,
                  o = 0,
                  s = -1,
                  a = 0,
                  l = 0;for (; l < t.length;) {
                if ("\n" === t.charAt(l) || "\r" === t.charAt(l)) {
                  if (i > o) {
                    if (-1 === s) s = i - o;else if (i - o !== s) throw new c("row lengths do not match");o = i, a++;
                  }l++;
                } else if (t.substring(l, l + e.length) === e) l += e.length, n[i] = !0, i++;else {
                  if (t.substring(l, l + r.length) !== r) throw new c("illegal character encountered: " + t.substring(l));l += r.length, n[i] = !1, i++;
                }
              }if (i > o) {
                if (-1 === s) s = i - o;else if (i - o !== s) throw new c("row lengths do not match");a++;
              }var h = new N(s, a);for (var _t12 = 0; _t12 < i; _t12++) {
                n[_t12] && h.set(Math.floor(_t12 % s), Math.floor(_t12 / s));
              }return h;
            }
          }]);

          return N;
        }();

        var D = function (_s11) {
          _inherits(D, _s11);

          function D() {
            _classCallCheck(this, D);

            return _possibleConstructorReturn(this, (D.__proto__ || Object.getPrototypeOf(D)).apply(this, arguments));
          }

          _createClass(D, null, [{
            key: "getNotFoundInstance",
            value: function getNotFoundInstance() {
              return new D();
            }
          }]);

          return D;
        }(s);

        D.kind = "NotFoundException";
        var M = function (_u) {
          _inherits(M, _u);

          function M(t) {
            var _this10;

            _classCallCheck(this, M);

            (_this10 = _possibleConstructorReturn(this, (M.__proto__ || Object.getPrototypeOf(M)).call(this, t)), _this10), _this10.luminances = M.EMPTY, _this10.buckets = new Int32Array(M.LUMINANCE_BUCKETS);return _this10;
          }

          _createClass(M, [{
            key: "getBlackRow",
            value: function getBlackRow(t, e) {
              var r = this.getLuminanceSource(),
                  n = r.getWidth();null == e || e.getSize() < n ? e = new p(n) : e.clear(), this.initArrays(n);var i = r.getRow(t, this.luminances),
                  o = this.buckets;for (var _t13 = 0; _t13 < n; _t13++) {
                o[(255 & i[_t13]) >> M.LUMINANCE_SHIFT]++;
              }var s = M.estimateBlackPoint(o);if (n < 3) for (var _t14 = 0; _t14 < n; _t14++) {
                (255 & i[_t14]) < s && e.set(_t14);
              } else {
                var _t15 = 255 & i[0],
                    _r20 = 255 & i[1];for (var _o8 = 1; _o8 < n - 1; _o8++) {
                  var _n9 = 255 & i[_o8 + 1];(4 * _r20 - _t15 - _n9) / 2 < s && e.set(_o8), _t15 = _r20, _r20 = _n9;
                }
              }return e;
            }
          }, {
            key: "getBlackMatrix",
            value: function getBlackMatrix() {
              var t = this.getLuminanceSource(),
                  e = t.getWidth(),
                  r = t.getHeight(),
                  n = new N(e, r);this.initArrays(e);var i = this.buckets;for (var _n10 = 1; _n10 < 5; _n10++) {
                var _o9 = Math.floor(r * _n10 / 5),
                    _s12 = t.getRow(_o9, this.luminances),
                    _a2 = Math.floor(4 * e / 5);for (var _t16 = Math.floor(e / 5); _t16 < _a2; _t16++) {
                  i[(255 & _s12[_t16]) >> M.LUMINANCE_SHIFT]++;
                }
              }var o = M.estimateBlackPoint(i),
                  s = t.getMatrix();for (var _t17 = 0; _t17 < r; _t17++) {
                var _r21 = _t17 * e;for (var _i9 = 0; _i9 < e; _i9++) {
                  (255 & s[_r21 + _i9]) < o && n.set(_i9, _t17);
                }
              }return n;
            }
          }, {
            key: "createBinarizer",
            value: function createBinarizer(t) {
              return new M(t);
            }
          }, {
            key: "initArrays",
            value: function initArrays(t) {
              this.luminances.length < t && (this.luminances = new Uint8ClampedArray(t));var e = this.buckets;for (var _t18 = 0; _t18 < M.LUMINANCE_BUCKETS; _t18++) {
                e[_t18] = 0;
              }
            }
          }], [{
            key: "estimateBlackPoint",
            value: function estimateBlackPoint(t) {
              var e = t.length;var r = 0,
                  n = 0,
                  i = 0;for (var _o10 = 0; _o10 < e; _o10++) {
                t[_o10] > i && (n = _o10, i = t[_o10]), t[_o10] > r && (r = t[_o10]);
              }var o = 0,
                  s = 0;for (var _r22 = 0; _r22 < e; _r22++) {
                var _e13 = _r22 - n,
                    _i10 = t[_r22] * _e13 * _e13;_i10 > s && (o = _r22, s = _i10);
              }if (n > o) {
                var _t19 = n;n = o, o = _t19;
              }if (o - n <= e / 16) throw new D();var a = o - 1,
                  c = -1;for (var _e14 = o - 1; _e14 > n; _e14--) {
                var _i11 = _e14 - n,
                    _s13 = _i11 * _i11 * (o - _e14) * (r - t[_e14]);_s13 > c && (a = _e14, c = _s13);
              }return a << M.LUMINANCE_SHIFT;
            }
          }]);

          return M;
        }(u);

        M.LUMINANCE_BITS = 5, M.LUMINANCE_SHIFT = 8 - M.LUMINANCE_BITS, M.LUMINANCE_BUCKETS = 1 << M.LUMINANCE_BITS, M.EMPTY = Uint8ClampedArray.from([0]);
        var R = function (_M) {
          _inherits(R, _M);

          function R(t) {
            var _this11;

            _classCallCheck(this, R);

            (_this11 = _possibleConstructorReturn(this, (R.__proto__ || Object.getPrototypeOf(R)).call(this, t)), _this11), _this11.matrix = null;return _this11;
          }

          _createClass(R, [{
            key: "getBlackMatrix",
            value: function getBlackMatrix() {
              if (null !== this.matrix) return this.matrix;var t = this.getLuminanceSource(),
                  e = t.getWidth(),
                  r = t.getHeight();if (e >= R.MINIMUM_DIMENSION && r >= R.MINIMUM_DIMENSION) {
                var _n11 = t.getMatrix();var _i12 = e >> R.BLOCK_SIZE_POWER;0 != (e & R.BLOCK_SIZE_MASK) && _i12++;var _o11 = r >> R.BLOCK_SIZE_POWER;0 != (r & R.BLOCK_SIZE_MASK) && _o11++;var _s14 = R.calculateBlackPoints(_n11, _i12, _o11, e, r),
                    _a3 = new N(e, r);R.calculateThresholdForBlock(_n11, _i12, _o11, e, r, _s14, _a3), this.matrix = _a3;
              } else this.matrix = _get(R.prototype.__proto__ || Object.getPrototypeOf(R.prototype), "getBlackMatrix", this).call(this);return this.matrix;
            }
          }, {
            key: "createBinarizer",
            value: function createBinarizer(t) {
              return new R(t);
            }
          }], [{
            key: "calculateThresholdForBlock",
            value: function calculateThresholdForBlock(t, e, r, n, i, o, s) {
              var a = i - R.BLOCK_SIZE,
                  c = n - R.BLOCK_SIZE;for (var _i13 = 0; _i13 < r; _i13++) {
                var _l = _i13 << R.BLOCK_SIZE_POWER;_l > a && (_l = a);var _h = R.cap(_i13, 2, r - 3);for (var _r23 = 0; _r23 < e; _r23++) {
                  var _i14 = _r23 << R.BLOCK_SIZE_POWER;_i14 > c && (_i14 = c);var _a4 = R.cap(_r23, 2, e - 3);var _u2 = 0;for (var _t20 = -2; _t20 <= 2; _t20++) {
                    var _e15 = o[_h + _t20];_u2 += _e15[_a4 - 2] + _e15[_a4 - 1] + _e15[_a4] + _e15[_a4 + 1] + _e15[_a4 + 2];
                  }var _d = _u2 / 25;R.thresholdBlock(t, _i14, _l, _d, n, s);
                }
              }
            }
          }, {
            key: "cap",
            value: function cap(t, e, r) {
              return t < e ? e : t > r ? r : t;
            }
          }, {
            key: "thresholdBlock",
            value: function thresholdBlock(t, e, r, n, i, o) {
              for (var _s15 = 0, _a5 = r * i + e; _s15 < R.BLOCK_SIZE; _s15++, _a5 += i) {
                for (var _i15 = 0; _i15 < R.BLOCK_SIZE; _i15++) {
                  (255 & t[_a5 + _i15]) <= n && o.set(e + _i15, r + _s15);
                }
              }
            }
          }, {
            key: "calculateBlackPoints",
            value: function calculateBlackPoints(t, e, r, n, i) {
              var o = i - R.BLOCK_SIZE,
                  s = n - R.BLOCK_SIZE,
                  a = new Array(r);for (var _i16 = 0; _i16 < r; _i16++) {
                a[_i16] = new Int32Array(e);var _r24 = _i16 << R.BLOCK_SIZE_POWER;_r24 > o && (_r24 = o);for (var _o12 = 0; _o12 < e; _o12++) {
                  var _e16 = _o12 << R.BLOCK_SIZE_POWER;_e16 > s && (_e16 = s);var _c2 = 0,
                      _l2 = 255,
                      _h2 = 0;for (var _i17 = 0, _o13 = _r24 * n + _e16; _i17 < R.BLOCK_SIZE; _i17++, _o13 += n) {
                    for (var _e17 = 0; _e17 < R.BLOCK_SIZE; _e17++) {
                      var _r25 = 255 & t[_o13 + _e17];_c2 += _r25, _r25 < _l2 && (_l2 = _r25), _r25 > _h2 && (_h2 = _r25);
                    }if (_h2 - _l2 > R.MIN_DYNAMIC_RANGE) for (_i17++, _o13 += n; _i17 < R.BLOCK_SIZE; _i17++, _o13 += n) {
                      for (var _e18 = 0; _e18 < R.BLOCK_SIZE; _e18++) {
                        _c2 += 255 & t[_o13 + _e18];
                      }
                    }
                  }var _u3 = _c2 >> 2 * R.BLOCK_SIZE_POWER;if (_h2 - _l2 <= R.MIN_DYNAMIC_RANGE && (_u3 = _l2 / 2, _i16 > 0 && _o12 > 0)) {
                    var _t21 = (a[_i16 - 1][_o12] + 2 * a[_i16][_o12 - 1] + a[_i16 - 1][_o12 - 1]) / 4;_l2 < _t21 && (_u3 = _t21);
                  }a[_i16][_o12] = _u3;
                }
              }return a;
            }
          }]);

          return R;
        }(M);

        R.BLOCK_SIZE_POWER = 3, R.BLOCK_SIZE = 1 << R.BLOCK_SIZE_POWER, R.BLOCK_SIZE_MASK = R.BLOCK_SIZE - 1, R.MINIMUM_DIMENSION = 5 * R.BLOCK_SIZE, R.MIN_DYNAMIC_RANGE = 24;
        var O = function () {
          function O(t, e) {
            _classCallCheck(this, O);

            this.width = t, this.height = e;
          }

          _createClass(O, [{
            key: "getWidth",
            value: function getWidth() {
              return this.width;
            }
          }, {
            key: "getHeight",
            value: function getHeight() {
              return this.height;
            }
          }, {
            key: "isCropSupported",
            value: function isCropSupported() {
              return !1;
            }
          }, {
            key: "crop",
            value: function crop(t, e, r, n) {
              throw new S("This luminance source does not support cropping.");
            }
          }, {
            key: "isRotateSupported",
            value: function isRotateSupported() {
              return !1;
            }
          }, {
            key: "rotateCounterClockwise",
            value: function rotateCounterClockwise() {
              throw new S("This luminance source does not support rotation by 90 degrees.");
            }
          }, {
            key: "rotateCounterClockwise45",
            value: function rotateCounterClockwise45() {
              throw new S("This luminance source does not support rotation by 45 degrees.");
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = new Uint8ClampedArray(this.width);var e = new y();for (var _r26 = 0; _r26 < this.height; _r26++) {
                var _n12 = this.getRow(_r26, t);for (var _t22 = 0; _t22 < this.width; _t22++) {
                  var _r27 = 255 & _n12[_t22];var _i18 = void 0;_i18 = _r27 < 64 ? "#" : _r27 < 128 ? "+" : _r27 < 192 ? "." : " ", e.append(_i18);
                }e.append("\n");
              }return e.toString();
            }
          }]);

          return O;
        }();

        var b = function (_O) {
          _inherits(b, _O);

          function b(t) {
            var _this12;

            _classCallCheck(this, b);

            (_this12 = _possibleConstructorReturn(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this, t.getWidth(), t.getHeight())), _this12), _this12.delegate = t;return _this12;
          }

          _createClass(b, [{
            key: "getRow",
            value: function getRow(t, e) {
              var r = this.delegate.getRow(t, e),
                  n = this.getWidth();for (var _t23 = 0; _t23 < n; _t23++) {
                r[_t23] = 255 - (255 & r[_t23]);
              }return r;
            }
          }, {
            key: "getMatrix",
            value: function getMatrix() {
              var t = this.delegate.getMatrix(),
                  e = this.getWidth() * this.getHeight(),
                  r = new Uint8ClampedArray(e);for (var _n13 = 0; _n13 < e; _n13++) {
                r[_n13] = 255 - (255 & t[_n13]);
              }return r;
            }
          }, {
            key: "isCropSupported",
            value: function isCropSupported() {
              return this.delegate.isCropSupported();
            }
          }, {
            key: "crop",
            value: function crop(t, e, r, n) {
              return new b(this.delegate.crop(t, e, r, n));
            }
          }, {
            key: "isRotateSupported",
            value: function isRotateSupported() {
              return this.delegate.isRotateSupported();
            }
          }, {
            key: "invert",
            value: function invert() {
              return this.delegate;
            }
          }, {
            key: "rotateCounterClockwise",
            value: function rotateCounterClockwise() {
              return new b(this.delegate.rotateCounterClockwise());
            }
          }, {
            key: "rotateCounterClockwise45",
            value: function rotateCounterClockwise45() {
              return new b(this.delegate.rotateCounterClockwise45());
            }
          }]);

          return b;
        }(O);

        var B = function (_O2) {
          _inherits(B, _O2);

          function B(t) {
            var _this13;

            _classCallCheck(this, B);

            (_this13 = _possibleConstructorReturn(this, (B.__proto__ || Object.getPrototypeOf(B)).call(this, t.width, t.height)), _this13), _this13.canvas = t, _this13.tempCanvasElement = null, _this13.buffer = B.makeBufferFromCanvasImageData(t);return _this13;
          }

          _createClass(B, [{
            key: "getRow",
            value: function getRow(t, e) {
              if (t < 0 || t >= this.getHeight()) throw new c("Requested row is outside the image: " + t);var r = this.getWidth(),
                  n = t * r;return null === e ? e = this.buffer.slice(n, n + r) : (e.length < r && (e = new Uint8ClampedArray(r)), e.set(this.buffer.slice(n, n + r))), e;
            }
          }, {
            key: "getMatrix",
            value: function getMatrix() {
              return this.buffer;
            }
          }, {
            key: "isCropSupported",
            value: function isCropSupported() {
              return !0;
            }
          }, {
            key: "crop",
            value: function crop(t, e, r, n) {
              return _get(B.prototype.__proto__ || Object.getPrototypeOf(B.prototype), "crop", this).call(this, t, e, r, n), this;
            }
          }, {
            key: "isRotateSupported",
            value: function isRotateSupported() {
              return !0;
            }
          }, {
            key: "rotateCounterClockwise",
            value: function rotateCounterClockwise() {
              return this.rotate(-90), this;
            }
          }, {
            key: "rotateCounterClockwise45",
            value: function rotateCounterClockwise45() {
              return this.rotate(-45), this;
            }
          }, {
            key: "getTempCanvasElement",
            value: function getTempCanvasElement() {
              if (null === this.tempCanvasElement) {
                var t = this.canvas.ownerDocument.createElement("canvas");t.width = this.canvas.width, t.height = this.canvas.height, this.tempCanvasElement = t;
              }return this.tempCanvasElement;
            }
          }, {
            key: "rotate",
            value: function rotate(t) {
              var e = this.getTempCanvasElement(),
                  r = e.getContext("2d"),
                  n = t * B.DEGREE_TO_RADIANS,
                  i = this.canvas.width,
                  o = this.canvas.height,
                  s = Math.ceil(Math.abs(Math.cos(n)) * i + Math.abs(Math.sin(n)) * o),
                  a = Math.ceil(Math.abs(Math.sin(n)) * i + Math.abs(Math.cos(n)) * o);return e.width = s, e.height = a, r.translate(s / 2, a / 2), r.rotate(n), r.drawImage(this.canvas, i / -2, o / -2), this.buffer = B.makeBufferFromCanvasImageData(e), this;
            }
          }, {
            key: "invert",
            value: function invert() {
              return new b(this);
            }
          }], [{
            key: "makeBufferFromCanvasImageData",
            value: function makeBufferFromCanvasImageData(t) {
              var e = t.getContext("2d").getImageData(0, 0, t.width, t.height);return B.toGrayscaleBuffer(e.data, t.width, t.height);
            }
          }, {
            key: "toGrayscaleBuffer",
            value: function toGrayscaleBuffer(t, e, r) {
              var n = new Uint8ClampedArray(e * r);for (var _e19 = 0, _r28 = 0, _i19 = t.length; _e19 < _i19; _e19 += 4, _r28++) {
                var _i20 = void 0;_i20 = 0 === t[_e19 + 3] ? 255 : 306 * t[_e19] + 601 * t[_e19 + 1] + 117 * t[_e19 + 2] + 512 >> 10, n[_r28] = _i20;
              }return n;
            }
          }]);

          return B;
        }(O);

        B.DEGREE_TO_RADIANS = Math.PI / 180;
        var L = function () {
          function L(t, e, r) {
            _classCallCheck(this, L);

            this.deviceId = t, this.label = e, this.kind = "videoinput", this.groupId = r || void 0;
          }

          _createClass(L, [{
            key: "toJSON",
            value: function toJSON() {
              return { kind: this.kind, groupId: this.groupId, deviceId: this.deviceId, label: this.label };
            }
          }]);

          return L;
        }();

        var P,
            v = (globalThis || r.g || self || window ? (globalThis || r.g || self || window || void 0).__awaiter : void 0) || function (t, e, r, n) {
          return new (r || (r = Promise))(function (i, o) {
            function s(t) {
              try {
                c(n.next(t));
              } catch (t) {
                o(t);
              }
            }function a(t) {
              try {
                c(n.throw(t));
              } catch (t) {
                o(t);
              }
            }function c(t) {
              var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
                t(e);
              })).then(s, a);
            }c((n = n.apply(t, e || [])).next());
          });
        };
        var F = function () {
          function F(t) {
            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
            var r = arguments[2];

            _classCallCheck(this, F);

            this.reader = t, this.timeBetweenScansMillis = e, this._hints = r, this._stopContinuousDecode = !1, this._stopAsyncDecode = !1, this._timeBetweenDecodingAttempts = 0;
          }

          _createClass(F, [{
            key: "listVideoInputDevices",
            value: function listVideoInputDevices() {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
                var t, e, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, _r29, _t24, _n14;

                return regeneratorRuntime.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        if (this.hasNavigator) {
                          _context.next = 2;
                          break;
                        }

                        throw new Error("Can't enumerate devices, navigator is not present.");

                      case 2:
                        if (this.canEnumerateDevices) {
                          _context.next = 4;
                          break;
                        }

                        throw new Error("Can't enumerate devices, method not supported.");

                      case 4:
                        _context.next = 6;
                        return navigator.mediaDevices.enumerateDevices();

                      case 6:
                        t = _context.sent;
                        e = [];
                        _iteratorNormalCompletion3 = true;
                        _didIteratorError3 = false;
                        _iteratorError3 = undefined;
                        _context.prev = 11;
                        _iterator3 = t[Symbol.iterator]();

                      case 13:
                        if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {
                          _context.next = 23;
                          break;
                        }

                        _r29 = _step3.value;
                        _t24 = "video" === _r29.kind ? "videoinput" : _r29.kind;

                        if (!("videoinput" !== _t24)) {
                          _context.next = 18;
                          break;
                        }

                        return _context.abrupt("continue", 20);

                      case 18:
                        _n14 = { deviceId: _r29.deviceId || _r29.id, label: _r29.label || "Video device " + (e.length + 1), kind: _t24, groupId: _r29.groupId };
                        e.push(_n14);

                      case 20:
                        _iteratorNormalCompletion3 = true;
                        _context.next = 13;
                        break;

                      case 23:
                        _context.next = 29;
                        break;

                      case 25:
                        _context.prev = 25;
                        _context.t0 = _context["catch"](11);
                        _didIteratorError3 = true;
                        _iteratorError3 = _context.t0;

                      case 29:
                        _context.prev = 29;
                        _context.prev = 30;

                        if (!_iteratorNormalCompletion3 && _iterator3.return) {
                          _iterator3.return();
                        }

                      case 32:
                        _context.prev = 32;

                        if (!_didIteratorError3) {
                          _context.next = 35;
                          break;
                        }

                        throw _iteratorError3;

                      case 35:
                        return _context.finish(32);

                      case 36:
                        return _context.finish(29);

                      case 37:
                        return _context.abrupt("return", e);

                      case 38:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee, this, [[11, 25, 29, 37], [30,, 32, 36]]);
              }));
            }
          }, {
            key: "getVideoInputDevices",
            value: function getVideoInputDevices() {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {
                return regeneratorRuntime.wrap(function _callee2$(_context2) {
                  while (1) {
                    switch (_context2.prev = _context2.next) {
                      case 0:
                        _context2.next = 2;
                        return this.listVideoInputDevices();

                      case 2:
                        _context2.t0 = function (t) {
                          return new L(t.deviceId, t.label);
                        };

                        return _context2.abrupt("return", _context2.sent.map(_context2.t0));

                      case 4:
                      case "end":
                        return _context2.stop();
                    }
                  }
                }, _callee2, this);
              }));
            }
          }, {
            key: "findDeviceById",
            value: function findDeviceById(t) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {
                var e;
                return regeneratorRuntime.wrap(function _callee3$(_context3) {
                  while (1) {
                    switch (_context3.prev = _context3.next) {
                      case 0:
                        _context3.next = 2;
                        return this.listVideoInputDevices();

                      case 2:
                        e = _context3.sent;
                        return _context3.abrupt("return", e ? e.find(function (e) {
                          return e.deviceId === t;
                        }) : null);

                      case 4:
                      case "end":
                        return _context3.stop();
                    }
                  }
                }, _callee3, this);
              }));
            }
          }, {
            key: "decodeFromInputVideoDevice",
            value: function decodeFromInputVideoDevice(t, e) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {
                return regeneratorRuntime.wrap(function _callee4$(_context4) {
                  while (1) {
                    switch (_context4.prev = _context4.next) {
                      case 0:
                        _context4.next = 2;
                        return this.decodeOnceFromVideoDevice(t, e);

                      case 2:
                        return _context4.abrupt("return", _context4.sent);

                      case 3:
                      case "end":
                        return _context4.stop();
                    }
                  }
                }, _callee4, this);
              }));
            }
          }, {
            key: "decodeOnceFromVideoDevice",
            value: function decodeOnceFromVideoDevice(t, e) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {
                var r, n;
                return regeneratorRuntime.wrap(function _callee5$(_context5) {
                  while (1) {
                    switch (_context5.prev = _context5.next) {
                      case 0:
                        r = void 0;
                        this.reset(), r = t ? { deviceId: { exact: t } } : { facingMode: "environment" };n = { video: r };
                        _context5.next = 5;
                        return this.decodeOnceFromConstraints(n, e);

                      case 5:
                        return _context5.abrupt("return", _context5.sent);

                      case 6:
                      case "end":
                        return _context5.stop();
                    }
                  }
                }, _callee5, this);
              }));
            }
          }, {
            key: "decodeOnceFromConstraints",
            value: function decodeOnceFromConstraints(t, e) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {
                var r;
                return regeneratorRuntime.wrap(function _callee6$(_context6) {
                  while (1) {
                    switch (_context6.prev = _context6.next) {
                      case 0:
                        _context6.next = 2;
                        return navigator.mediaDevices.getUserMedia(t);

                      case 2:
                        r = _context6.sent;
                        _context6.next = 5;
                        return this.decodeOnceFromStream(r, e);

                      case 5:
                        return _context6.abrupt("return", _context6.sent);

                      case 6:
                      case "end":
                        return _context6.stop();
                    }
                  }
                }, _callee6, this);
              }));
            }
          }, {
            key: "decodeOnceFromStream",
            value: function decodeOnceFromStream(t, e) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {
                var r;
                return regeneratorRuntime.wrap(function _callee7$(_context7) {
                  while (1) {
                    switch (_context7.prev = _context7.next) {
                      case 0:
                        this.reset();_context7.next = 3;
                        return this.attachStreamToVideo(t, e);

                      case 3:
                        r = _context7.sent;
                        _context7.next = 6;
                        return this.decodeOnce(r);

                      case 6:
                        return _context7.abrupt("return", _context7.sent);

                      case 7:
                      case "end":
                        return _context7.stop();
                    }
                  }
                }, _callee7, this);
              }));
            }
          }, {
            key: "decodeFromInputVideoDeviceContinuously",
            value: function decodeFromInputVideoDeviceContinuously(t, e, r) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {
                return regeneratorRuntime.wrap(function _callee8$(_context8) {
                  while (1) {
                    switch (_context8.prev = _context8.next) {
                      case 0:
                        _context8.next = 2;
                        return this.decodeFromVideoDevice(t, e, r);

                      case 2:
                        return _context8.abrupt("return", _context8.sent);

                      case 3:
                      case "end":
                        return _context8.stop();
                    }
                  }
                }, _callee8, this);
              }));
            }
          }, {
            key: "decodeFromVideoDevice",
            value: function decodeFromVideoDevice(t, e, r) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {
                var n, i;
                return regeneratorRuntime.wrap(function _callee9$(_context9) {
                  while (1) {
                    switch (_context9.prev = _context9.next) {
                      case 0:
                        n = void 0;
                        n = t ? { deviceId: { exact: t } } : { facingMode: "environment" };i = { video: n };
                        _context9.next = 5;
                        return this.decodeFromConstraints(i, e, r);

                      case 5:
                        return _context9.abrupt("return", _context9.sent);

                      case 6:
                      case "end":
                        return _context9.stop();
                    }
                  }
                }, _callee9, this);
              }));
            }
          }, {
            key: "decodeFromConstraints",
            value: function decodeFromConstraints(t, e, r) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {
                var n;
                return regeneratorRuntime.wrap(function _callee10$(_context10) {
                  while (1) {
                    switch (_context10.prev = _context10.next) {
                      case 0:
                        _context10.next = 2;
                        return navigator.mediaDevices.getUserMedia(t);

                      case 2:
                        n = _context10.sent;
                        _context10.next = 5;
                        return this.decodeFromStream(n, e, r);

                      case 5:
                        return _context10.abrupt("return", _context10.sent);

                      case 6:
                      case "end":
                        return _context10.stop();
                    }
                  }
                }, _callee10, this);
              }));
            }
          }, {
            key: "decodeFromStream",
            value: function decodeFromStream(t, e, r) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {
                var n;
                return regeneratorRuntime.wrap(function _callee11$(_context11) {
                  while (1) {
                    switch (_context11.prev = _context11.next) {
                      case 0:
                        this.reset();_context11.next = 3;
                        return this.attachStreamToVideo(t, e);

                      case 3:
                        n = _context11.sent;
                        _context11.next = 6;
                        return this.decodeContinuously(n, r);

                      case 6:
                        return _context11.abrupt("return", _context11.sent);

                      case 7:
                      case "end":
                        return _context11.stop();
                    }
                  }
                }, _callee11, this);
              }));
            }
          }, {
            key: "stopAsyncDecode",
            value: function stopAsyncDecode() {
              this._stopAsyncDecode = !0;
            }
          }, {
            key: "stopContinuousDecode",
            value: function stopContinuousDecode() {
              this._stopContinuousDecode = !0;
            }
          }, {
            key: "attachStreamToVideo",
            value: function attachStreamToVideo(t, e) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {
                var r;
                return regeneratorRuntime.wrap(function _callee12$(_context12) {
                  while (1) {
                    switch (_context12.prev = _context12.next) {
                      case 0:
                        r = this.prepareVideoElement(e);
                        this.addVideoSource(r, t);
                        this.videoElement = r;
                        this.stream = t;
                        _context12.next = 6;
                        return this.playVideoOnLoadAsync(r);

                      case 6:
                        return _context12.abrupt("return", r);

                      case 7:
                      case "end":
                        return _context12.stop();
                    }
                  }
                }, _callee12, this);
              }));
            }
          }, {
            key: "playVideoOnLoadAsync",
            value: function playVideoOnLoadAsync(t) {
              var _this14 = this;

              return new Promise(function (e, r) {
                return _this14.playVideoOnLoad(t, function () {
                  return e();
                });
              });
            }
          }, {
            key: "playVideoOnLoad",
            value: function playVideoOnLoad(t, e) {
              var _this15 = this;

              this.videoEndedListener = function () {
                return _this15.stopStreams();
              }, this.videoCanPlayListener = function () {
                return _this15.tryPlayVideo(t);
              }, t.addEventListener("ended", this.videoEndedListener), t.addEventListener("canplay", this.videoCanPlayListener), t.addEventListener("playing", e), this.tryPlayVideo(t);
            }
          }, {
            key: "isVideoPlaying",
            value: function isVideoPlaying(t) {
              return t.currentTime > 0 && !t.paused && !t.ended && t.readyState > 2;
            }
          }, {
            key: "tryPlayVideo",
            value: function tryPlayVideo(t) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee13() {
                return regeneratorRuntime.wrap(function _callee13$(_context13) {
                  while (1) {
                    switch (_context13.prev = _context13.next) {
                      case 0:
                        if (!this.isVideoPlaying(t)) {
                          _context13.next = 4;
                          break;
                        }

                        console.warn("Trying to play video that is already playing.");_context13.next = 12;
                        break;

                      case 4:
                        _context13.prev = 4;
                        _context13.next = 7;
                        return t.play();

                      case 7:
                        _context13.next = 12;
                        break;

                      case 9:
                        _context13.prev = 9;
                        _context13.t0 = _context13["catch"](4);
                        console.warn("It was not possible to play the video.");
                      case 12:
                      case "end":
                        return _context13.stop();
                    }
                  }
                }, _callee13, this, [[4, 9]]);
              }));
            }
          }, {
            key: "getMediaElement",
            value: function getMediaElement(t, e) {
              var r = document.getElementById(t);if (!r) throw new a("element with id '" + t + "' not found");if (r.nodeName.toLowerCase() !== e.toLowerCase()) throw new a("element with id '" + t + "' must be an " + e + " element");return r;
            }
          }, {
            key: "decodeFromImage",
            value: function decodeFromImage(t, e) {
              if (!t && !e) throw new a("either imageElement with a src set or an url must be provided");return e && !t ? this.decodeFromImageUrl(e) : this.decodeFromImageElement(t);
            }
          }, {
            key: "decodeFromVideo",
            value: function decodeFromVideo(t, e) {
              if (!t && !e) throw new a("Either an element with a src set or an URL must be provided");return e && !t ? this.decodeFromVideoUrl(e) : this.decodeFromVideoElement(t);
            }
          }, {
            key: "decodeFromVideoContinuously",
            value: function decodeFromVideoContinuously(t, e, r) {
              if (void 0 === t && void 0 === e) throw new a("Either an element with a src set or an URL must be provided");return e && !t ? this.decodeFromVideoUrlContinuously(e, r) : this.decodeFromVideoElementContinuously(t, r);
            }
          }, {
            key: "decodeFromImageElement",
            value: function decodeFromImageElement(t) {
              if (!t) throw new a("An image element must be provided.");this.reset();var e = this.prepareImageElement(t);var r = void 0;return this.imageElement = e, r = this.isImageLoaded(e) ? this.decodeOnce(e, !1, !0) : this._decodeOnLoadImage(e), r;
            }
          }, {
            key: "decodeFromVideoElement",
            value: function decodeFromVideoElement(t) {
              var e = this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e);
            }
          }, {
            key: "decodeFromVideoElementContinuously",
            value: function decodeFromVideoElementContinuously(t, e) {
              var r = this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r, e);
            }
          }, {
            key: "_decodeFromVideoElementSetup",
            value: function _decodeFromVideoElementSetup(t) {
              if (!t) throw new a("A video element must be provided.");this.reset();var e = this.prepareVideoElement(t);return this.videoElement = e, e;
            }
          }, {
            key: "decodeFromImageUrl",
            value: function decodeFromImageUrl(t) {
              if (!t) throw new a("An URL must be provided.");this.reset();var e = this.prepareImageElement();this.imageElement = e;var r = this._decodeOnLoadImage(e);return e.src = t, r;
            }
          }, {
            key: "decodeFromVideoUrl",
            value: function decodeFromVideoUrl(t) {
              if (!t) throw new a("An URL must be provided.");this.reset();var e = this.prepareVideoElement(),
                  r = this.decodeFromVideoElement(e);return e.src = t, r;
            }
          }, {
            key: "decodeFromVideoUrlContinuously",
            value: function decodeFromVideoUrlContinuously(t, e) {
              if (!t) throw new a("An URL must be provided.");this.reset();var r = this.prepareVideoElement(),
                  n = this.decodeFromVideoElementContinuously(r, e);return r.src = t, n;
            }
          }, {
            key: "_decodeOnLoadImage",
            value: function _decodeOnLoadImage(t) {
              var _this16 = this;

              return new Promise(function (e, r) {
                _this16.imageLoadedListener = function () {
                  return _this16.decodeOnce(t, !1, !0).then(e, r);
                }, t.addEventListener("load", _this16.imageLoadedListener);
              });
            }
          }, {
            key: "_decodeOnLoadVideo",
            value: function _decodeOnLoadVideo(t) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee14() {
                return regeneratorRuntime.wrap(function _callee14$(_context14) {
                  while (1) {
                    switch (_context14.prev = _context14.next) {
                      case 0:
                        _context14.next = 2;
                        return this.playVideoOnLoadAsync(t);

                      case 2:
                        _context14.next = 4;
                        return this.decodeOnce(t);

                      case 4:
                        return _context14.abrupt("return", _context14.sent);

                      case 5:
                      case "end":
                        return _context14.stop();
                    }
                  }
                }, _callee14, this);
              }));
            }
          }, {
            key: "_decodeOnLoadVideoContinuously",
            value: function _decodeOnLoadVideoContinuously(t, e) {
              return v(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee15() {
                return regeneratorRuntime.wrap(function _callee15$(_context15) {
                  while (1) {
                    switch (_context15.prev = _context15.next) {
                      case 0:
                        _context15.next = 2;
                        return this.playVideoOnLoadAsync(t);

                      case 2:
                        this.decodeContinuously(t, e);

                      case 3:
                      case "end":
                        return _context15.stop();
                    }
                  }
                }, _callee15, this);
              }));
            }
          }, {
            key: "isImageLoaded",
            value: function isImageLoaded(t) {
              return !!t.complete && 0 !== t.naturalWidth;
            }
          }, {
            key: "prepareImageElement",
            value: function prepareImageElement(t) {
              var e = void 0;return void 0 === t && (e = document.createElement("img"), e.width = 200, e.height = 200), "string" == typeof t && (e = this.getMediaElement(t, "img")), t instanceof HTMLImageElement && (e = t), e;
            }
          }, {
            key: "prepareVideoElement",
            value: function prepareVideoElement(t) {
              var e = void 0;return t || "undefined" == typeof document || (e = document.createElement("video"), e.width = 200, e.height = 200), "string" == typeof t && (e = this.getMediaElement(t, "video")), t instanceof HTMLVideoElement && (e = t), e.setAttribute("autoplay", "true"), e.setAttribute("muted", "true"), e.setAttribute("playsinline", "true"), e;
            }
          }, {
            key: "decodeOnce",
            value: function decodeOnce(t) {
              var _this17 = this;

              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
              var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;
              this._stopAsyncDecode = !1;var n = function n(i, o) {
                if (_this17._stopAsyncDecode) return o(new D("Video stream has ended before any code could be detected.")), void (_this17._stopAsyncDecode = void 0);try {
                  i(_this17.decode(t));
                } catch (t) {
                  if (e && t instanceof D || (t instanceof h || t instanceof E) && r) return setTimeout(n, _this17._timeBetweenDecodingAttempts, i, o);o(t);
                }
              };return new Promise(function (t, e) {
                return n(t, e);
              });
            }
          }, {
            key: "decodeContinuously",
            value: function decodeContinuously(t, e) {
              var _this18 = this;

              this._stopContinuousDecode = !1;var r = function r() {
                if (_this18._stopContinuousDecode) _this18._stopContinuousDecode = void 0;else try {
                  var _n15 = _this18.decode(t);e(_n15, null), setTimeout(r, _this18.timeBetweenScansMillis);
                } catch (t) {
                  e(null, t), (t instanceof h || t instanceof E || t instanceof D) && setTimeout(r, _this18._timeBetweenDecodingAttempts);
                }
              };r();
            }
          }, {
            key: "decode",
            value: function decode(t) {
              var e = this.createBinaryBitmap(t);return this.decodeBitmap(e);
            }
          }, {
            key: "_isHTMLVideoElement",
            value: function _isHTMLVideoElement(t) {
              return 0 !== t.videoWidth;
            }
          }, {
            key: "drawFrameOnCanvas",
            value: function drawFrameOnCanvas(t, e, r) {
              e || (e = { sx: 0, sy: 0, sWidth: t.videoWidth, sHeight: t.videoHeight, dx: 0, dy: 0, dWidth: t.videoWidth, dHeight: t.videoHeight }), r || (r = this.captureCanvasContext), r.drawImage(t, e.sx, e.sy, e.sWidth, e.sHeight, e.dx, e.dy, e.dWidth, e.dHeight);
            }
          }, {
            key: "drawImageOnCanvas",
            value: function drawImageOnCanvas(t, e) {
              var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.captureCanvasContext;
              e || (e = { sx: 0, sy: 0, sWidth: t.naturalWidth, sHeight: t.naturalHeight, dx: 0, dy: 0, dWidth: t.naturalWidth, dHeight: t.naturalHeight }), r || (r = this.captureCanvasContext), r.drawImage(t, e.sx, e.sy, e.sWidth, e.sHeight, e.dx, e.dy, e.dWidth, e.dHeight);
            }
          }, {
            key: "createBinaryBitmap",
            value: function createBinaryBitmap(t) {
              this.getCaptureCanvasContext(t), this._isHTMLVideoElement(t) ? this.drawFrameOnCanvas(t) : this.drawImageOnCanvas(t);var e = this.getCaptureCanvas(t),
                  r = new B(e),
                  n = new R(r);return new l(n);
            }
          }, {
            key: "getCaptureCanvasContext",
            value: function getCaptureCanvasContext(t) {
              if (!this.captureCanvasContext) {
                var e = this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext = e;
              }return this.captureCanvasContext;
            }
          }, {
            key: "getCaptureCanvas",
            value: function getCaptureCanvas(t) {
              if (!this.captureCanvas) {
                var e = this.createCaptureCanvas(t);this.captureCanvas = e;
              }return this.captureCanvas;
            }
          }, {
            key: "decodeBitmap",
            value: function decodeBitmap(t) {
              return this.reader.decode(t, this._hints);
            }
          }, {
            key: "createCaptureCanvas",
            value: function createCaptureCanvas(t) {
              if ("undefined" == typeof document) return this._destroyCaptureCanvas(), null;var e = document.createElement("canvas");var r = void 0,
                  n = void 0;return void 0 !== t && (t instanceof HTMLVideoElement ? (r = t.videoWidth, n = t.videoHeight) : t instanceof HTMLImageElement && (r = t.naturalWidth || t.width, n = t.naturalHeight || t.height)), e.style.width = r + "px", e.style.height = n + "px", e.width = r, e.height = n, e;
            }
          }, {
            key: "stopStreams",
            value: function stopStreams() {
              this.stream && (this.stream.getVideoTracks().forEach(function (t) {
                return t.stop();
              }), this.stream = void 0), !1 === this._stopAsyncDecode && this.stopAsyncDecode(), !1 === this._stopContinuousDecode && this.stopContinuousDecode();
            }
          }, {
            key: "reset",
            value: function reset() {
              this.stopStreams(), this._destroyVideoElement(), this._destroyImageElement(), this._destroyCaptureCanvas();
            }
          }, {
            key: "_destroyVideoElement",
            value: function _destroyVideoElement() {
              this.videoElement && (void 0 !== this.videoEndedListener && this.videoElement.removeEventListener("ended", this.videoEndedListener), void 0 !== this.videoPlayingEventListener && this.videoElement.removeEventListener("playing", this.videoPlayingEventListener), void 0 !== this.videoCanPlayListener && this.videoElement.removeEventListener("loadedmetadata", this.videoCanPlayListener), this.cleanVideoSource(this.videoElement), this.videoElement = void 0);
            }
          }, {
            key: "_destroyImageElement",
            value: function _destroyImageElement() {
              this.imageElement && (void 0 !== this.imageLoadedListener && this.imageElement.removeEventListener("load", this.imageLoadedListener), this.imageElement.src = void 0, this.imageElement.removeAttribute("src"), this.imageElement = void 0);
            }
          }, {
            key: "_destroyCaptureCanvas",
            value: function _destroyCaptureCanvas() {
              this.captureCanvasContext = void 0, this.captureCanvas = void 0;
            }
          }, {
            key: "addVideoSource",
            value: function addVideoSource(t, e) {
              try {
                t.srcObject = e;
              } catch (r) {
                t.src = URL.createObjectURL(e);
              }
            }
          }, {
            key: "cleanVideoSource",
            value: function cleanVideoSource(t) {
              try {
                t.srcObject = null;
              } catch (e) {
                t.src = "";
              }this.videoElement.removeAttribute("src");
            }
          }, {
            key: "hasNavigator",
            get: function get() {
              return "undefined" != typeof navigator;
            }
          }, {
            key: "isMediaDevicesSuported",
            get: function get() {
              return this.hasNavigator && !!navigator.mediaDevices;
            }
          }, {
            key: "canEnumerateDevices",
            get: function get() {
              return !(!this.isMediaDevicesSuported || !navigator.mediaDevices.enumerateDevices);
            }
          }, {
            key: "timeBetweenDecodingAttempts",
            get: function get() {
              return this._timeBetweenDecodingAttempts;
            },
            set: function set(t) {
              this._timeBetweenDecodingAttempts = t < 0 ? 0 : t;
            }
          }, {
            key: "hints",
            set: function set(t) {
              this._hints = t || null;
            },
            get: function get() {
              return this._hints;
            }
          }]);

          return F;
        }();

        var x = function () {
          function x(t, e) {
            var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null == e ? 0 : 8 * e.length;
            var n = arguments[3];
            var i = arguments[4];
            var o = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : d.currentTimeMillis();

            _classCallCheck(this, x);

            this.text = t, this.rawBytes = e, this.numBits = r, this.resultPoints = n, this.format = i, this.timestamp = o, this.text = t, this.rawBytes = e, this.numBits = null == r ? null == e ? 0 : 8 * e.length : r, this.resultPoints = n, this.format = i, this.resultMetadata = null, this.timestamp = null == o ? d.currentTimeMillis() : o;
          }

          _createClass(x, [{
            key: "getText",
            value: function getText() {
              return this.text;
            }
          }, {
            key: "getRawBytes",
            value: function getRawBytes() {
              return this.rawBytes;
            }
          }, {
            key: "getNumBits",
            value: function getNumBits() {
              return this.numBits;
            }
          }, {
            key: "getResultPoints",
            value: function getResultPoints() {
              return this.resultPoints;
            }
          }, {
            key: "getBarcodeFormat",
            value: function getBarcodeFormat() {
              return this.format;
            }
          }, {
            key: "getResultMetadata",
            value: function getResultMetadata() {
              return this.resultMetadata;
            }
          }, {
            key: "putMetadata",
            value: function putMetadata(t, e) {
              null === this.resultMetadata && (this.resultMetadata = new Map()), this.resultMetadata.set(t, e);
            }
          }, {
            key: "putAllMetadata",
            value: function putAllMetadata(t) {
              null !== t && (null === this.resultMetadata ? this.resultMetadata = t : this.resultMetadata = new Map(t));
            }
          }, {
            key: "addResultPoints",
            value: function addResultPoints(t) {
              var e = this.resultPoints;if (null === e) this.resultPoints = t;else if (null !== t && t.length > 0) {
                var r = new Array(e.length + t.length);d.arraycopy(e, 0, r, 0, e.length), d.arraycopy(t, 0, r, e.length, t.length), this.resultPoints = r;
              }
            }
          }, {
            key: "getTimestamp",
            value: function getTimestamp() {
              return this.timestamp;
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.text;
            }
          }]);

          return x;
        }();

        !function (t) {
          t[t.AZTEC = 0] = "AZTEC", t[t.CODABAR = 1] = "CODABAR", t[t.CODE_39 = 2] = "CODE_39", t[t.CODE_93 = 3] = "CODE_93", t[t.CODE_128 = 4] = "CODE_128", t[t.DATA_MATRIX = 5] = "DATA_MATRIX", t[t.EAN_8 = 6] = "EAN_8", t[t.EAN_13 = 7] = "EAN_13", t[t.ITF = 8] = "ITF", t[t.MAXICODE = 9] = "MAXICODE", t[t.PDF_417 = 10] = "PDF_417", t[t.QR_CODE = 11] = "QR_CODE", t[t.RSS_14 = 12] = "RSS_14", t[t.RSS_EXPANDED = 13] = "RSS_EXPANDED", t[t.UPC_A = 14] = "UPC_A", t[t.UPC_E = 15] = "UPC_E", t[t.UPC_EAN_EXTENSION = 16] = "UPC_EAN_EXTENSION";
        }(P || (P = {}));var k,
            U = P;!function (t) {
          t[t.OTHER = 0] = "OTHER", t[t.ORIENTATION = 1] = "ORIENTATION", t[t.BYTE_SEGMENTS = 2] = "BYTE_SEGMENTS", t[t.ERROR_CORRECTION_LEVEL = 3] = "ERROR_CORRECTION_LEVEL", t[t.ISSUE_NUMBER = 4] = "ISSUE_NUMBER", t[t.SUGGESTED_PRICE = 5] = "SUGGESTED_PRICE", t[t.POSSIBLE_COUNTRY = 6] = "POSSIBLE_COUNTRY", t[t.UPC_EAN_EXTENSION = 7] = "UPC_EAN_EXTENSION", t[t.PDF417_EXTRA_METADATA = 8] = "PDF417_EXTRA_METADATA", t[t.STRUCTURED_APPEND_SEQUENCE = 9] = "STRUCTURED_APPEND_SEQUENCE", t[t.STRUCTURED_APPEND_PARITY = 10] = "STRUCTURED_APPEND_PARITY";
        }(k || (k = {}));var H,
            V,
            z,
            G,
            Y,
            X,
            W = k;
        var j = function () {
          function j(t, e, r, n) {
            var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;
            var o = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : -1;

            _classCallCheck(this, j);

            this.rawBytes = t, this.text = e, this.byteSegments = r, this.ecLevel = n, this.structuredAppendSequenceNumber = i, this.structuredAppendParity = o, this.numBits = null == t ? 0 : 8 * t.length;
          }

          _createClass(j, [{
            key: "getRawBytes",
            value: function getRawBytes() {
              return this.rawBytes;
            }
          }, {
            key: "getNumBits",
            value: function getNumBits() {
              return this.numBits;
            }
          }, {
            key: "setNumBits",
            value: function setNumBits(t) {
              this.numBits = t;
            }
          }, {
            key: "getText",
            value: function getText() {
              return this.text;
            }
          }, {
            key: "getByteSegments",
            value: function getByteSegments() {
              return this.byteSegments;
            }
          }, {
            key: "getECLevel",
            value: function getECLevel() {
              return this.ecLevel;
            }
          }, {
            key: "getErrorsCorrected",
            value: function getErrorsCorrected() {
              return this.errorsCorrected;
            }
          }, {
            key: "setErrorsCorrected",
            value: function setErrorsCorrected(t) {
              this.errorsCorrected = t;
            }
          }, {
            key: "getErasures",
            value: function getErasures() {
              return this.erasures;
            }
          }, {
            key: "setErasures",
            value: function setErasures(t) {
              this.erasures = t;
            }
          }, {
            key: "getOther",
            value: function getOther() {
              return this.other;
            }
          }, {
            key: "setOther",
            value: function setOther(t) {
              this.other = t;
            }
          }, {
            key: "hasStructuredAppend",
            value: function hasStructuredAppend() {
              return this.structuredAppendParity >= 0 && this.structuredAppendSequenceNumber >= 0;
            }
          }, {
            key: "getStructuredAppendParity",
            value: function getStructuredAppendParity() {
              return this.structuredAppendParity;
            }
          }, {
            key: "getStructuredAppendSequenceNumber",
            value: function getStructuredAppendSequenceNumber() {
              return this.structuredAppendSequenceNumber;
            }
          }]);

          return j;
        }();

        var Z = function () {
          function Z() {
            _classCallCheck(this, Z);
          }

          _createClass(Z, [{
            key: "exp",
            value: function exp(t) {
              return this.expTable[t];
            }
          }, {
            key: "log",
            value: function log(t) {
              if (0 === t) throw new c();return this.logTable[t];
            }
          }], [{
            key: "addOrSubtract",
            value: function addOrSubtract(t, e) {
              return t ^ e;
            }
          }]);

          return Z;
        }();

        var Q = function () {
          function Q(t, e) {
            _classCallCheck(this, Q);

            if (0 === e.length) throw new c();this.field = t;var r = e.length;if (r > 1 && 0 === e[0]) {
              var _t25 = 1;for (; _t25 < r && 0 === e[_t25];) {
                _t25++;
              }_t25 === r ? this.coefficients = Int32Array.from([0]) : (this.coefficients = new Int32Array(r - _t25), d.arraycopy(e, _t25, this.coefficients, 0, this.coefficients.length));
            } else this.coefficients = e;
          }

          _createClass(Q, [{
            key: "getCoefficients",
            value: function getCoefficients() {
              return this.coefficients;
            }
          }, {
            key: "getDegree",
            value: function getDegree() {
              return this.coefficients.length - 1;
            }
          }, {
            key: "isZero",
            value: function isZero() {
              return 0 === this.coefficients[0];
            }
          }, {
            key: "getCoefficient",
            value: function getCoefficient(t) {
              return this.coefficients[this.coefficients.length - 1 - t];
            }
          }, {
            key: "evaluateAt",
            value: function evaluateAt(t) {
              if (0 === t) return this.getCoefficient(0);var e = this.coefficients;var r = void 0;if (1 === t) {
                r = 0;for (var _t26 = 0, _n16 = e.length; _t26 !== _n16; _t26++) {
                  var _n17 = e[_t26];r = Z.addOrSubtract(r, _n17);
                }return r;
              }r = e[0];var n = e.length,
                  i = this.field;for (var o = 1; o < n; o++) {
                r = Z.addOrSubtract(i.multiply(t, r), e[o]);
              }return r;
            }
          }, {
            key: "addOrSubtract",
            value: function addOrSubtract(t) {
              if (!this.field.equals(t.field)) throw new c("GenericGFPolys do not have same GenericGF field");if (this.isZero()) return t;if (t.isZero()) return this;var e = this.coefficients,
                  r = t.coefficients;if (e.length > r.length) {
                var _t27 = e;e = r, r = _t27;
              }var n = new Int32Array(r.length);var i = r.length - e.length;d.arraycopy(r, 0, n, 0, i);for (var _t28 = i; _t28 < r.length; _t28++) {
                n[_t28] = Z.addOrSubtract(e[_t28 - i], r[_t28]);
              }return new Q(this.field, n);
            }
          }, {
            key: "multiply",
            value: function multiply(t) {
              if (!this.field.equals(t.field)) throw new c("GenericGFPolys do not have same GenericGF field");if (this.isZero() || t.isZero()) return this.field.getZero();var e = this.coefficients,
                  r = e.length,
                  n = t.coefficients,
                  i = n.length,
                  o = new Int32Array(r + i - 1),
                  s = this.field;for (var _t29 = 0; _t29 < r; _t29++) {
                var _r30 = e[_t29];for (var _e20 = 0; _e20 < i; _e20++) {
                  o[_t29 + _e20] = Z.addOrSubtract(o[_t29 + _e20], s.multiply(_r30, n[_e20]));
                }
              }return new Q(s, o);
            }
          }, {
            key: "multiplyScalar",
            value: function multiplyScalar(t) {
              if (0 === t) return this.field.getZero();if (1 === t) return this;var e = this.coefficients.length,
                  r = this.field,
                  n = new Int32Array(e),
                  i = this.coefficients;for (var o = 0; o < e; o++) {
                n[o] = r.multiply(i[o], t);
              }return new Q(r, n);
            }
          }, {
            key: "multiplyByMonomial",
            value: function multiplyByMonomial(t, e) {
              if (t < 0) throw new c();if (0 === e) return this.field.getZero();var r = this.coefficients,
                  n = r.length,
                  i = new Int32Array(n + t),
                  o = this.field;for (var _t30 = 0; _t30 < n; _t30++) {
                i[_t30] = o.multiply(r[_t30], e);
              }return new Q(o, i);
            }
          }, {
            key: "divide",
            value: function divide(t) {
              if (!this.field.equals(t.field)) throw new c("GenericGFPolys do not have same GenericGF field");if (t.isZero()) throw new c("Divide by 0");var e = this.field;var r = e.getZero(),
                  n = this;var i = t.getCoefficient(t.getDegree()),
                  o = e.inverse(i);for (; n.getDegree() >= t.getDegree() && !n.isZero();) {
                var _i21 = n.getDegree() - t.getDegree(),
                    _s16 = e.multiply(n.getCoefficient(n.getDegree()), o),
                    _a6 = t.multiplyByMonomial(_i21, _s16),
                    _c3 = e.buildMonomial(_i21, _s16);r = r.addOrSubtract(_c3), n = n.addOrSubtract(_a6);
              }return [r, n];
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = "";for (var e = this.getDegree(); e >= 0; e--) {
                var r = this.getCoefficient(e);if (0 !== r) {
                  if (r < 0 ? (t += " - ", r = -r) : t.length > 0 && (t += " + "), 0 === e || 1 !== r) {
                    var _e21 = this.field.log(r);0 === _e21 ? t += "1" : 1 === _e21 ? t += "a" : (t += "a^", t += _e21);
                  }0 !== e && (1 === e ? t += "x" : (t += "x^", t += e));
                }
              }return t;
            }
          }]);

          return Q;
        }();

        var K = function (_s17) {
          _inherits(K, _s17);

          function K() {
            _classCallCheck(this, K);

            return _possibleConstructorReturn(this, (K.__proto__ || Object.getPrototypeOf(K)).apply(this, arguments));
          }

          return K;
        }(s);

        K.kind = "ArithmeticException";
        var q = function (_Z) {
          _inherits(q, _Z);

          function q(t, e, r) {
            var _this20;

            _classCallCheck(this, q);

            (_this20 = _possibleConstructorReturn(this, (q.__proto__ || Object.getPrototypeOf(q)).call(this)), _this20), _this20.primitive = t, _this20.size = e, _this20.generatorBase = r;var n = new Int32Array(e);var i = 1;for (var _r31 = 0; _r31 < e; _r31++) {
              n[_r31] = i, i *= 2, i >= e && (i ^= t, i &= e - 1);
            }_this20.expTable = n;var o = new Int32Array(e);for (var _t31 = 0; _t31 < e - 1; _t31++) {
              o[n[_t31]] = _t31;
            }_this20.logTable = o, _this20.zero = new Q(_this20, Int32Array.from([0])), _this20.one = new Q(_this20, Int32Array.from([1]));return _this20;
          }

          _createClass(q, [{
            key: "getZero",
            value: function getZero() {
              return this.zero;
            }
          }, {
            key: "getOne",
            value: function getOne() {
              return this.one;
            }
          }, {
            key: "buildMonomial",
            value: function buildMonomial(t, e) {
              if (t < 0) throw new c();if (0 === e) return this.zero;var r = new Int32Array(t + 1);return r[0] = e, new Q(this, r);
            }
          }, {
            key: "inverse",
            value: function inverse(t) {
              if (0 === t) throw new K();return this.expTable[this.size - this.logTable[t] - 1];
            }
          }, {
            key: "multiply",
            value: function multiply(t, e) {
              return 0 === t || 0 === e ? 0 : this.expTable[(this.logTable[t] + this.logTable[e]) % (this.size - 1)];
            }
          }, {
            key: "getSize",
            value: function getSize() {
              return this.size;
            }
          }, {
            key: "getGeneratorBase",
            value: function getGeneratorBase() {
              return this.generatorBase;
            }
          }, {
            key: "toString",
            value: function toString() {
              return "GF(0x" + m.toHexString(this.primitive) + "," + this.size + ")";
            }
          }, {
            key: "equals",
            value: function equals(t) {
              return t === this;
            }
          }]);

          return q;
        }(Z);

        q.AZTEC_DATA_12 = new q(4201, 4096, 1), q.AZTEC_DATA_10 = new q(1033, 1024, 1), q.AZTEC_DATA_6 = new q(67, 64, 1), q.AZTEC_PARAM = new q(19, 16, 1), q.QR_CODE_FIELD_256 = new q(285, 256, 0), q.DATA_MATRIX_FIELD_256 = new q(301, 256, 1), q.AZTEC_DATA_8 = q.DATA_MATRIX_FIELD_256, q.MAXICODE_FIELD_64 = q.AZTEC_DATA_6;
        var J = function (_s18) {
          _inherits(J, _s18);

          function J() {
            _classCallCheck(this, J);

            return _possibleConstructorReturn(this, (J.__proto__ || Object.getPrototypeOf(J)).apply(this, arguments));
          }

          return J;
        }(s);

        J.kind = "ReedSolomonException";
        var $ = function (_s19) {
          _inherits($, _s19);

          function $() {
            _classCallCheck(this, $);

            return _possibleConstructorReturn(this, ($.__proto__ || Object.getPrototypeOf($)).apply(this, arguments));
          }

          return $;
        }(s);

        $.kind = "IllegalStateException";
        var tt = function () {
          function tt(t) {
            _classCallCheck(this, tt);

            this.field = t;
          }

          _createClass(tt, [{
            key: "decode",
            value: function decode(t, e) {
              var r = this.field,
                  n = new Q(r, t),
                  i = new Int32Array(e);var o = !0;for (var _t32 = 0; _t32 < e; _t32++) {
                var _e22 = n.evaluateAt(r.exp(_t32 + r.getGeneratorBase()));i[i.length - 1 - _t32] = _e22, 0 !== _e22 && (o = !1);
              }if (o) return;var s = new Q(r, i),
                  a = this.runEuclideanAlgorithm(r.buildMonomial(e, 1), s, e),
                  c = a[0],
                  l = a[1],
                  h = this.findErrorLocations(c),
                  u = this.findErrorMagnitudes(l, h);for (var _e23 = 0; _e23 < h.length; _e23++) {
                var _n18 = t.length - 1 - r.log(h[_e23]);if (_n18 < 0) throw new J("Bad error location");t[_n18] = q.addOrSubtract(t[_n18], u[_e23]);
              }
            }
          }, {
            key: "runEuclideanAlgorithm",
            value: function runEuclideanAlgorithm(t, e, r) {
              if (t.getDegree() < e.getDegree()) {
                var _r32 = t;t = e, e = _r32;
              }var n = this.field;var i = t,
                  o = e,
                  s = n.getZero(),
                  a = n.getOne();for (; o.getDegree() >= (r / 2 | 0);) {
                var _t33 = i,
                    _e24 = s;if (i = o, s = a, i.isZero()) throw new J("r_{i-1} was zero");o = _t33;var _r33 = n.getZero();var _c4 = i.getCoefficient(i.getDegree()),
                    _l3 = n.inverse(_c4);for (; o.getDegree() >= i.getDegree() && !o.isZero();) {
                  var _t34 = o.getDegree() - i.getDegree(),
                      _e25 = n.multiply(o.getCoefficient(o.getDegree()), _l3);_r33 = _r33.addOrSubtract(n.buildMonomial(_t34, _e25)), o = o.addOrSubtract(i.multiplyByMonomial(_t34, _e25));
                }if (a = _r33.multiply(s).addOrSubtract(_e24), o.getDegree() >= i.getDegree()) throw new $("Division algorithm failed to reduce polynomial?");
              }var c = a.getCoefficient(0);if (0 === c) throw new J("sigmaTilde(0) was zero");var l = n.inverse(c);return [a.multiplyScalar(l), o.multiplyScalar(l)];
            }
          }, {
            key: "findErrorLocations",
            value: function findErrorLocations(t) {
              var e = t.getDegree();if (1 === e) return Int32Array.from([t.getCoefficient(1)]);var r = new Int32Array(e);var n = 0;var i = this.field;for (var _o14 = 1; _o14 < i.getSize() && n < e; _o14++) {
                0 === t.evaluateAt(_o14) && (r[n] = i.inverse(_o14), n++);
              }if (n !== e) throw new J("Error locator degree does not match number of roots");return r;
            }
          }, {
            key: "findErrorMagnitudes",
            value: function findErrorMagnitudes(t, e) {
              var r = e.length,
                  n = new Int32Array(r),
                  i = this.field;for (var _o15 = 0; _o15 < r; _o15++) {
                var _s20 = i.inverse(e[_o15]);var _a7 = 1;for (var _t35 = 0; _t35 < r; _t35++) {
                  if (_o15 !== _t35) {
                    var _r34 = i.multiply(e[_t35], _s20),
                        _n19 = 0 == (1 & _r34) ? 1 | _r34 : -2 & _r34;_a7 = i.multiply(_a7, _n19);
                  }
                }n[_o15] = i.multiply(t.evaluateAt(_s20), i.inverse(_a7)), 0 !== i.getGeneratorBase() && (n[_o15] = i.multiply(n[_o15], _s20));
              }return n;
            }
          }]);

          return tt;
        }();

        !function (t) {
          t[t.UPPER = 0] = "UPPER", t[t.LOWER = 1] = "LOWER", t[t.MIXED = 2] = "MIXED", t[t.DIGIT = 3] = "DIGIT", t[t.PUNCT = 4] = "PUNCT", t[t.BINARY = 5] = "BINARY";
        }(H || (H = {}));
        var et = function () {
          function et() {
            _classCallCheck(this, et);
          }

          _createClass(et, [{
            key: "decode",
            value: function decode(t) {
              this.ddata = t;var e = t.getBits(),
                  r = this.extractBits(e),
                  n = this.correctBits(r),
                  i = et.convertBoolArrayToByteArray(n),
                  o = et.getEncodedData(n),
                  s = new j(i, o, null, null);return s.setNumBits(n.length), s;
            }
          }, {
            key: "correctBits",
            value: function correctBits(t) {
              var e = void 0,
                  r = void 0;this.ddata.getNbLayers() <= 2 ? (r = 6, e = q.AZTEC_DATA_6) : this.ddata.getNbLayers() <= 8 ? (r = 8, e = q.AZTEC_DATA_8) : this.ddata.getNbLayers() <= 22 ? (r = 10, e = q.AZTEC_DATA_10) : (r = 12, e = q.AZTEC_DATA_12);var n = this.ddata.getNbDatablocks(),
                  i = t.length / r;if (i < n) throw new E();var o = t.length % r,
                  s = new Int32Array(i);for (var _e26 = 0; _e26 < i; _e26++, o += r) {
                s[_e26] = et.readCode(t, o, r);
              }try {
                new tt(e).decode(s, i - n);
              } catch (t) {
                throw new E(t);
              }var a = (1 << r) - 1,
                  c = 0;for (var _t36 = 0; _t36 < n; _t36++) {
                var _e27 = s[_t36];if (0 === _e27 || _e27 === a) throw new E();1 !== _e27 && _e27 !== a - 1 || c++;
              }var l = new Array(n * r - c),
                  h = 0;for (var _t37 = 0; _t37 < n; _t37++) {
                var _e28 = s[_t37];if (1 === _e28 || _e28 === a - 1) l.fill(_e28 > 1, h, h + r - 1), h += r - 1;else for (var _t38 = r - 1; _t38 >= 0; --_t38) {
                  l[h++] = 0 != (_e28 & 1 << _t38);
                }
              }return l;
            }
          }, {
            key: "extractBits",
            value: function extractBits(t) {
              var e = this.ddata.isCompact(),
                  r = this.ddata.getNbLayers(),
                  n = (e ? 11 : 14) + 4 * r,
                  i = new Int32Array(n),
                  o = new Array(this.totalBitsInLayer(r, e));if (e) for (var _t39 = 0; _t39 < i.length; _t39++) {
                i[_t39] = _t39;
              } else {
                var _t40 = n + 1 + 2 * m.truncDivision(m.truncDivision(n, 2) - 1, 15),
                    _e29 = n / 2,
                    _r35 = m.truncDivision(_t40, 2);for (var _t41 = 0; _t41 < _e29; _t41++) {
                  var _n20 = _t41 + m.truncDivision(_t41, 15);i[_e29 - _t41 - 1] = _r35 - _n20 - 1, i[_e29 + _t41] = _r35 + _n20 + 1;
                }
              }for (var _s21 = 0, _a8 = 0; _s21 < r; _s21++) {
                var _c5 = 4 * (r - _s21) + (e ? 9 : 12),
                    _l4 = 2 * _s21,
                    _h3 = n - 1 - _l4;for (var _e30 = 0; _e30 < _c5; _e30++) {
                  var _r36 = 2 * _e30;for (var _n21 = 0; _n21 < 2; _n21++) {
                    o[_a8 + _r36 + _n21] = t.get(i[_l4 + _n21], i[_l4 + _e30]), o[_a8 + 2 * _c5 + _r36 + _n21] = t.get(i[_l4 + _e30], i[_h3 - _n21]), o[_a8 + 4 * _c5 + _r36 + _n21] = t.get(i[_h3 - _n21], i[_h3 - _e30]), o[_a8 + 6 * _c5 + _r36 + _n21] = t.get(i[_h3 - _e30], i[_l4 + _n21]);
                  }
                }_a8 += 8 * _c5;
              }return o;
            }
          }, {
            key: "totalBitsInLayer",
            value: function totalBitsInLayer(t, e) {
              return ((e ? 88 : 112) + 16 * t) * t;
            }
          }], [{
            key: "highLevelDecode",
            value: function highLevelDecode(t) {
              return this.getEncodedData(t);
            }
          }, {
            key: "getEncodedData",
            value: function getEncodedData(t) {
              var e = t.length,
                  r = H.UPPER,
                  n = H.UPPER,
                  i = "",
                  o = 0;for (; o < e;) {
                if (n === H.BINARY) {
                  if (e - o < 5) break;var _s22 = et.readCode(t, o, 5);if (o += 5, 0 === _s22) {
                    if (e - o < 11) break;_s22 = et.readCode(t, o, 11) + 31, o += 11;
                  }for (var _r37 = 0; _r37 < _s22; _r37++) {
                    if (e - o < 8) {
                      o = e;break;
                    }var _r38 = et.readCode(t, o, 8);i += T.castAsNonUtf8Char(_r38), o += 8;
                  }n = r;
                } else {
                  var _s23 = n === H.DIGIT ? 4 : 5;if (e - o < _s23) break;var _a9 = et.readCode(t, o, _s23);o += _s23;var _c6 = et.getCharacter(n, _a9);_c6.startsWith("CTRL_") ? (r = n, n = et.getTable(_c6.charAt(5)), "L" === _c6.charAt(6) && (r = n)) : (i += _c6, n = r);
                }
              }return i;
            }
          }, {
            key: "getTable",
            value: function getTable(t) {
              switch (t) {case "L":
                  return H.LOWER;case "P":
                  return H.PUNCT;case "M":
                  return H.MIXED;case "D":
                  return H.DIGIT;case "B":
                  return H.BINARY;default:
                  return H.UPPER;}
            }
          }, {
            key: "getCharacter",
            value: function getCharacter(t, e) {
              switch (t) {case H.UPPER:
                  return et.UPPER_TABLE[e];case H.LOWER:
                  return et.LOWER_TABLE[e];case H.MIXED:
                  return et.MIXED_TABLE[e];case H.PUNCT:
                  return et.PUNCT_TABLE[e];case H.DIGIT:
                  return et.DIGIT_TABLE[e];default:
                  throw new $("Bad table");}
            }
          }, {
            key: "readCode",
            value: function readCode(t, e, r) {
              var n = 0;for (var _i22 = e; _i22 < e + r; _i22++) {
                n <<= 1, t[_i22] && (n |= 1);
              }return n;
            }
          }, {
            key: "readByte",
            value: function readByte(t, e) {
              var r = t.length - e;return r >= 8 ? et.readCode(t, e, 8) : et.readCode(t, e, r) << 8 - r;
            }
          }, {
            key: "convertBoolArrayToByteArray",
            value: function convertBoolArrayToByteArray(t) {
              var e = new Uint8Array((t.length + 7) / 8);for (var r = 0; r < e.length; r++) {
                e[r] = et.readByte(t, 8 * r);
              }return e;
            }
          }]);

          return et;
        }();

        et.UPPER_TABLE = ["CTRL_PS", " ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "CTRL_LL", "CTRL_ML", "CTRL_DL", "CTRL_BS"], et.LOWER_TABLE = ["CTRL_PS", " ", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "CTRL_US", "CTRL_ML", "CTRL_DL", "CTRL_BS"], et.MIXED_TABLE = ["CTRL_PS", " ", "\\1", "\\2", "\\3", "\\4", "\\5", "\\6", "\\7", "\b", "\t", "\n", "\\13", "\f", "\r", "\\33", "\\34", "\\35", "\\36", "\\37", "@", "\\", "^", "_", "`", "|", "~", "\\177", "CTRL_LL", "CTRL_UL", "CTRL_PL", "CTRL_BS"], et.PUNCT_TABLE = ["", "\r", "\r\n", ". ", ", ", ": ", "!", '"', "#", "$", "%", "&", "'", "(", ")", "*", "+", ",", "-", ".", "/", ":", ";", "<", "=", ">", "?", "[", "]", "{", "}", "CTRL_UL"], et.DIGIT_TABLE = ["CTRL_PS", " ", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ",", ".", "CTRL_UL", "CTRL_US"];
        var rt = function () {
          function rt() {
            _classCallCheck(this, rt);
          }

          _createClass(rt, null, [{
            key: "round",
            value: function round(t) {
              return NaN === t ? 0 : t <= Number.MIN_SAFE_INTEGER ? Number.MIN_SAFE_INTEGER : t >= Number.MAX_SAFE_INTEGER ? Number.MAX_SAFE_INTEGER : t + (t < 0 ? -.5 : .5) | 0;
            }
          }, {
            key: "distance",
            value: function distance(t, e, r, n) {
              var i = t - r,
                  o = e - n;return Math.sqrt(i * i + o * o);
            }
          }, {
            key: "sum",
            value: function sum(t) {
              var e = 0;for (var r = 0, _n22 = t.length; r !== _n22; r++) {
                e += t[r];
              }return e;
            }
          }]);

          return rt;
        }();

        var nt = function () {
          function nt() {
            _classCallCheck(this, nt);
          }

          _createClass(nt, null, [{
            key: "floatToIntBits",
            value: function floatToIntBits(t) {
              return t;
            }
          }]);

          return nt;
        }();

        nt.MAX_VALUE = Number.MAX_SAFE_INTEGER;
        var it = function () {
          function it(t, e) {
            _classCallCheck(this, it);

            this.x = t, this.y = e;
          }

          _createClass(it, [{
            key: "getX",
            value: function getX() {
              return this.x;
            }
          }, {
            key: "getY",
            value: function getY() {
              return this.y;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (t instanceof it) {
                var e = t;return this.x === e.x && this.y === e.y;
              }return !1;
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              return 31 * nt.floatToIntBits(this.x) + nt.floatToIntBits(this.y);
            }
          }, {
            key: "toString",
            value: function toString() {
              return "(" + this.x + "," + this.y + ")";
            }
          }], [{
            key: "orderBestPatterns",
            value: function orderBestPatterns(t) {
              var e = this.distance(t[0], t[1]),
                  r = this.distance(t[1], t[2]),
                  n = this.distance(t[0], t[2]);var i = void 0,
                  o = void 0,
                  s = void 0;if (r >= e && r >= n ? (o = t[0], i = t[1], s = t[2]) : n >= r && n >= e ? (o = t[1], i = t[0], s = t[2]) : (o = t[2], i = t[0], s = t[1]), this.crossProductZ(i, o, s) < 0) {
                var _t42 = i;i = s, s = _t42;
              }t[0] = i, t[1] = o, t[2] = s;
            }
          }, {
            key: "distance",
            value: function distance(t, e) {
              return rt.distance(t.x, t.y, e.x, e.y);
            }
          }, {
            key: "crossProductZ",
            value: function crossProductZ(t, e, r) {
              var n = e.x,
                  i = e.y;return (r.x - n) * (t.y - i) - (r.y - i) * (t.x - n);
            }
          }]);

          return it;
        }();

        var ot = function () {
          function ot(t, e) {
            _classCallCheck(this, ot);

            this.bits = t, this.points = e;
          }

          _createClass(ot, [{
            key: "getBits",
            value: function getBits() {
              return this.bits;
            }
          }, {
            key: "getPoints",
            value: function getPoints() {
              return this.points;
            }
          }]);

          return ot;
        }();

        var st = function (_ot) {
          _inherits(st, _ot);

          function st(t, e, r, n, i) {
            var _this23;

            _classCallCheck(this, st);

            (_this23 = _possibleConstructorReturn(this, (st.__proto__ || Object.getPrototypeOf(st)).call(this, t, e)), _this23), _this23.compact = r, _this23.nbDatablocks = n, _this23.nbLayers = i;return _this23;
          }

          _createClass(st, [{
            key: "getNbLayers",
            value: function getNbLayers() {
              return this.nbLayers;
            }
          }, {
            key: "getNbDatablocks",
            value: function getNbDatablocks() {
              return this.nbDatablocks;
            }
          }, {
            key: "isCompact",
            value: function isCompact() {
              return this.compact;
            }
          }]);

          return st;
        }(ot);

        var at = function () {
          function at(t, e, r, n) {
            _classCallCheck(this, at);

            this.image = t, this.height = t.getHeight(), this.width = t.getWidth(), null == e && (e = at.INIT_SIZE), null == r && (r = t.getWidth() / 2 | 0), null == n && (n = t.getHeight() / 2 | 0);var i = e / 2 | 0;if (this.leftInit = r - i, this.rightInit = r + i, this.upInit = n - i, this.downInit = n + i, this.upInit < 0 || this.leftInit < 0 || this.downInit >= this.height || this.rightInit >= this.width) throw new D();
          }

          _createClass(at, [{
            key: "detect",
            value: function detect() {
              var t = this.leftInit,
                  e = this.rightInit,
                  r = this.upInit,
                  n = this.downInit,
                  i = !1,
                  o = !0,
                  s = !1,
                  a = !1,
                  c = !1,
                  l = !1,
                  h = !1;var u = this.width,
                  d = this.height;for (; o;) {
                o = !1;var _f2 = !0;for (; (_f2 || !a) && e < u;) {
                  _f2 = this.containsBlackPoint(r, n, e, !1), _f2 ? (e++, o = !0, a = !0) : a || e++;
                }if (e >= u) {
                  i = !0;break;
                }var _g = !0;for (; (_g || !c) && n < d;) {
                  _g = this.containsBlackPoint(t, e, n, !0), _g ? (n++, o = !0, c = !0) : c || n++;
                }if (n >= d) {
                  i = !0;break;
                }var _w = !0;for (; (_w || !l) && t >= 0;) {
                  _w = this.containsBlackPoint(r, n, t, !1), _w ? (t--, o = !0, l = !0) : l || t--;
                }if (t < 0) {
                  i = !0;break;
                }var _m = !0;for (; (_m || !h) && r >= 0;) {
                  _m = this.containsBlackPoint(t, e, r, !0), _m ? (r--, o = !0, h = !0) : h || r--;
                }if (r < 0) {
                  i = !0;break;
                }o && (s = !0);
              }if (!i && s) {
                var _i23 = e - t;var _o16 = null;for (var _e31 = 1; null === _o16 && _e31 < _i23; _e31++) {
                  _o16 = this.getBlackPointOnSegment(t, n - _e31, t + _e31, n);
                }if (null == _o16) throw new D();var _s24 = null;for (var _e32 = 1; null === _s24 && _e32 < _i23; _e32++) {
                  _s24 = this.getBlackPointOnSegment(t, r + _e32, t + _e32, r);
                }if (null == _s24) throw new D();var _a10 = null;for (var _t43 = 1; null === _a10 && _t43 < _i23; _t43++) {
                  _a10 = this.getBlackPointOnSegment(e, r + _t43, e - _t43, r);
                }if (null == _a10) throw new D();var _c7 = null;for (var _t44 = 1; null === _c7 && _t44 < _i23; _t44++) {
                  _c7 = this.getBlackPointOnSegment(e, n - _t44, e - _t44, n);
                }if (null == _c7) throw new D();return this.centerEdges(_c7, _o16, _a10, _s24);
              }throw new D();
            }
          }, {
            key: "getBlackPointOnSegment",
            value: function getBlackPointOnSegment(t, e, r, n) {
              var i = rt.round(rt.distance(t, e, r, n)),
                  o = (r - t) / i,
                  s = (n - e) / i,
                  a = this.image;for (var _r39 = 0; _r39 < i; _r39++) {
                var _n23 = rt.round(t + _r39 * o),
                    _i24 = rt.round(e + _r39 * s);if (a.get(_n23, _i24)) return new it(_n23, _i24);
              }return null;
            }
          }, {
            key: "centerEdges",
            value: function centerEdges(t, e, r, n) {
              var i = t.getX(),
                  o = t.getY(),
                  s = e.getX(),
                  a = e.getY(),
                  c = r.getX(),
                  l = r.getY(),
                  h = n.getX(),
                  u = n.getY(),
                  d = at.CORR;return i < this.width / 2 ? [new it(h - d, u + d), new it(s + d, a + d), new it(c - d, l - d), new it(i + d, o - d)] : [new it(h + d, u + d), new it(s + d, a - d), new it(c - d, l + d), new it(i - d, o - d)];
            }
          }, {
            key: "containsBlackPoint",
            value: function containsBlackPoint(t, e, r, n) {
              var i = this.image;if (n) {
                for (var _n24 = t; _n24 <= e; _n24++) {
                  if (i.get(_n24, r)) return !0;
                }
              } else for (var _n25 = t; _n25 <= e; _n25++) {
                if (i.get(r, _n25)) return !0;
              }return !1;
            }
          }]);

          return at;
        }();

        at.INIT_SIZE = 10, at.CORR = 1;
        var ct = function () {
          function ct() {
            _classCallCheck(this, ct);
          }

          _createClass(ct, null, [{
            key: "checkAndNudgePoints",
            value: function checkAndNudgePoints(t, e) {
              var r = t.getWidth(),
                  n = t.getHeight();var i = !0;for (var _t45 = 0; _t45 < e.length && i; _t45 += 2) {
                var _o17 = Math.floor(e[_t45]),
                    _s25 = Math.floor(e[_t45 + 1]);if (_o17 < -1 || _o17 > r || _s25 < -1 || _s25 > n) throw new D();i = !1, -1 === _o17 ? (e[_t45] = 0, i = !0) : _o17 === r && (e[_t45] = r - 1, i = !0), -1 === _s25 ? (e[_t45 + 1] = 0, i = !0) : _s25 === n && (e[_t45 + 1] = n - 1, i = !0);
              }i = !0;for (var _t46 = e.length - 2; _t46 >= 0 && i; _t46 -= 2) {
                var _o18 = Math.floor(e[_t46]),
                    _s26 = Math.floor(e[_t46 + 1]);if (_o18 < -1 || _o18 > r || _s26 < -1 || _s26 > n) throw new D();i = !1, -1 === _o18 ? (e[_t46] = 0, i = !0) : _o18 === r && (e[_t46] = r - 1, i = !0), -1 === _s26 ? (e[_t46 + 1] = 0, i = !0) : _s26 === n && (e[_t46 + 1] = n - 1, i = !0);
              }
            }
          }]);

          return ct;
        }();

        var lt = function () {
          function lt(t, e, r, n, i, o, s, a, c) {
            _classCallCheck(this, lt);

            this.a11 = t, this.a21 = e, this.a31 = r, this.a12 = n, this.a22 = i, this.a32 = o, this.a13 = s, this.a23 = a, this.a33 = c;
          }

          _createClass(lt, [{
            key: "transformPoints",
            value: function transformPoints(t) {
              var e = t.length,
                  r = this.a11,
                  n = this.a12,
                  i = this.a13,
                  o = this.a21,
                  s = this.a22,
                  a = this.a23,
                  c = this.a31,
                  l = this.a32,
                  h = this.a33;for (var _u4 = 0; _u4 < e; _u4 += 2) {
                var _e33 = t[_u4],
                    _d2 = t[_u4 + 1],
                    _f3 = i * _e33 + a * _d2 + h;t[_u4] = (r * _e33 + o * _d2 + c) / _f3, t[_u4 + 1] = (n * _e33 + s * _d2 + l) / _f3;
              }
            }
          }, {
            key: "transformPointsWithValues",
            value: function transformPointsWithValues(t, e) {
              var r = this.a11,
                  n = this.a12,
                  i = this.a13,
                  o = this.a21,
                  s = this.a22,
                  a = this.a23,
                  c = this.a31,
                  l = this.a32,
                  h = this.a33,
                  u = t.length;for (var _d3 = 0; _d3 < u; _d3++) {
                var _u5 = t[_d3],
                    _f4 = e[_d3],
                    _g2 = i * _u5 + a * _f4 + h;t[_d3] = (r * _u5 + o * _f4 + c) / _g2, e[_d3] = (n * _u5 + s * _f4 + l) / _g2;
              }
            }
          }, {
            key: "buildAdjoint",
            value: function buildAdjoint() {
              return new lt(this.a22 * this.a33 - this.a23 * this.a32, this.a23 * this.a31 - this.a21 * this.a33, this.a21 * this.a32 - this.a22 * this.a31, this.a13 * this.a32 - this.a12 * this.a33, this.a11 * this.a33 - this.a13 * this.a31, this.a12 * this.a31 - this.a11 * this.a32, this.a12 * this.a23 - this.a13 * this.a22, this.a13 * this.a21 - this.a11 * this.a23, this.a11 * this.a22 - this.a12 * this.a21);
            }
          }, {
            key: "times",
            value: function times(t) {
              return new lt(this.a11 * t.a11 + this.a21 * t.a12 + this.a31 * t.a13, this.a11 * t.a21 + this.a21 * t.a22 + this.a31 * t.a23, this.a11 * t.a31 + this.a21 * t.a32 + this.a31 * t.a33, this.a12 * t.a11 + this.a22 * t.a12 + this.a32 * t.a13, this.a12 * t.a21 + this.a22 * t.a22 + this.a32 * t.a23, this.a12 * t.a31 + this.a22 * t.a32 + this.a32 * t.a33, this.a13 * t.a11 + this.a23 * t.a12 + this.a33 * t.a13, this.a13 * t.a21 + this.a23 * t.a22 + this.a33 * t.a23, this.a13 * t.a31 + this.a23 * t.a32 + this.a33 * t.a33);
            }
          }], [{
            key: "quadrilateralToQuadrilateral",
            value: function quadrilateralToQuadrilateral(t, e, r, n, i, o, s, a, c, l, h, u, d, f, g, w) {
              var m = lt.quadrilateralToSquare(t, e, r, n, i, o, s, a);return lt.squareToQuadrilateral(c, l, h, u, d, f, g, w).times(m);
            }
          }, {
            key: "squareToQuadrilateral",
            value: function squareToQuadrilateral(t, e, r, n, i, o, s, a) {
              var c = t - r + i - s,
                  l = e - n + o - a;if (0 === c && 0 === l) return new lt(r - t, i - r, t, n - e, o - n, e, 0, 0, 1);{
                var _h4 = r - i,
                    _u6 = s - i,
                    _d4 = n - o,
                    _f5 = a - o,
                    _g3 = _h4 * _f5 - _u6 * _d4,
                    _w2 = (c * _f5 - _u6 * l) / _g3,
                    _m2 = (_h4 * l - c * _d4) / _g3;return new lt(r - t + _w2 * r, s - t + _m2 * s, t, n - e + _w2 * n, a - e + _m2 * a, e, _w2, _m2, 1);
              }
            }
          }, {
            key: "quadrilateralToSquare",
            value: function quadrilateralToSquare(t, e, r, n, i, o, s, a) {
              return lt.squareToQuadrilateral(t, e, r, n, i, o, s, a).buildAdjoint();
            }
          }]);

          return lt;
        }();

        var ht = function (_ct) {
          _inherits(ht, _ct);

          function ht() {
            _classCallCheck(this, ht);

            return _possibleConstructorReturn(this, (ht.__proto__ || Object.getPrototypeOf(ht)).apply(this, arguments));
          }

          _createClass(ht, [{
            key: "sampleGrid",
            value: function sampleGrid(t, e, r, n, i, o, s, a, c, l, h, u, d, f, g, w, m, p, A) {
              var C = lt.quadrilateralToQuadrilateral(n, i, o, s, a, c, l, h, u, d, f, g, w, m, p, A);return this.sampleGridWithTransform(t, e, r, C);
            }
          }, {
            key: "sampleGridWithTransform",
            value: function sampleGridWithTransform(t, e, r, n) {
              if (e <= 0 || r <= 0) throw new D();var i = new N(e, r),
                  o = new Float32Array(2 * e);for (var _e34 = 0; _e34 < r; _e34++) {
                var _r40 = o.length,
                    _s27 = _e34 + .5;for (var _t47 = 0; _t47 < _r40; _t47 += 2) {
                  o[_t47] = _t47 / 2 + .5, o[_t47 + 1] = _s27;
                }n.transformPoints(o), ct.checkAndNudgePoints(t, o);try {
                  for (var _n26 = 0; _n26 < _r40; _n26 += 2) {
                    t.get(Math.floor(o[_n26]), Math.floor(o[_n26 + 1])) && i.set(_n26 / 2, _e34);
                  }
                } catch (t) {
                  throw new D();
                }
              }return i;
            }
          }]);

          return ht;
        }(ct);

        var ut = function () {
          function ut() {
            _classCallCheck(this, ut);
          }

          _createClass(ut, null, [{
            key: "setGridSampler",
            value: function setGridSampler(t) {
              ut.gridSampler = t;
            }
          }, {
            key: "getInstance",
            value: function getInstance() {
              return ut.gridSampler;
            }
          }]);

          return ut;
        }();

        ut.gridSampler = new ht();
        var dt = function () {
          function dt(t, e) {
            _classCallCheck(this, dt);

            this.x = t, this.y = e;
          }

          _createClass(dt, [{
            key: "toResultPoint",
            value: function toResultPoint() {
              return new it(this.getX(), this.getY());
            }
          }, {
            key: "getX",
            value: function getX() {
              return this.x;
            }
          }, {
            key: "getY",
            value: function getY() {
              return this.y;
            }
          }]);

          return dt;
        }();

        var ft = function () {
          function ft(t) {
            _classCallCheck(this, ft);

            this.EXPECTED_CORNER_BITS = new Int32Array([3808, 476, 2107, 1799]), this.image = t;
          }

          _createClass(ft, [{
            key: "detect",
            value: function detect() {
              return this.detectMirror(!1);
            }
          }, {
            key: "detectMirror",
            value: function detectMirror(t) {
              var e = this.getMatrixCenter(),
                  r = this.getBullsEyeCorners(e);if (t) {
                var _t48 = r[0];r[0] = r[2], r[2] = _t48;
              }this.extractParameters(r);var n = this.sampleGrid(this.image, r[this.shift % 4], r[(this.shift + 1) % 4], r[(this.shift + 2) % 4], r[(this.shift + 3) % 4]),
                  i = this.getMatrixCornerPoints(r);return new st(n, i, this.compact, this.nbDataBlocks, this.nbLayers);
            }
          }, {
            key: "extractParameters",
            value: function extractParameters(t) {
              if (!(this.isValidPoint(t[0]) && this.isValidPoint(t[1]) && this.isValidPoint(t[2]) && this.isValidPoint(t[3]))) throw new D();var e = 2 * this.nbCenterLayers,
                  r = new Int32Array([this.sampleLine(t[0], t[1], e), this.sampleLine(t[1], t[2], e), this.sampleLine(t[2], t[3], e), this.sampleLine(t[3], t[0], e)]);this.shift = this.getRotation(r, e);var n = 0;for (var _t49 = 0; _t49 < 4; _t49++) {
                var _e35 = r[(this.shift + _t49) % 4];this.compact ? (n <<= 7, n += _e35 >> 1 & 127) : (n <<= 10, n += (_e35 >> 2 & 992) + (_e35 >> 1 & 31));
              }var i = this.getCorrectedParameterData(n, this.compact);this.compact ? (this.nbLayers = 1 + (i >> 6), this.nbDataBlocks = 1 + (63 & i)) : (this.nbLayers = 1 + (i >> 11), this.nbDataBlocks = 1 + (2047 & i));
            }
          }, {
            key: "getRotation",
            value: function getRotation(t, e) {
              var r = 0;t.forEach(function (t, n, i) {
                r = (t >> e - 2 << 1) + (1 & t) + (r << 3);
              }), r = ((1 & r) << 11) + (r >> 1);for (var _t50 = 0; _t50 < 4; _t50++) {
                if (m.bitCount(r ^ this.EXPECTED_CORNER_BITS[_t50]) <= 2) return _t50;
              }throw new D();
            }
          }, {
            key: "getCorrectedParameterData",
            value: function getCorrectedParameterData(t, e) {
              var r = void 0,
                  n = void 0;e ? (r = 7, n = 2) : (r = 10, n = 4);var i = r - n,
                  o = new Int32Array(r);for (var _e36 = r - 1; _e36 >= 0; --_e36) {
                o[_e36] = 15 & t, t >>= 4;
              }try {
                new tt(q.AZTEC_PARAM).decode(o, i);
              } catch (t) {
                throw new D();
              }var s = 0;for (var _t51 = 0; _t51 < n; _t51++) {
                s = (s << 4) + o[_t51];
              }return s;
            }
          }, {
            key: "getBullsEyeCorners",
            value: function getBullsEyeCorners(t) {
              var e = t,
                  r = t,
                  n = t,
                  i = t,
                  o = !0;for (this.nbCenterLayers = 1; this.nbCenterLayers < 9; this.nbCenterLayers++) {
                var _t52 = this.getFirstDifferent(e, o, 1, -1),
                    _s28 = this.getFirstDifferent(r, o, 1, 1),
                    _a11 = this.getFirstDifferent(n, o, -1, 1),
                    _c8 = this.getFirstDifferent(i, o, -1, -1);if (this.nbCenterLayers > 2) {
                  var _r41 = this.distancePoint(_c8, _t52) * this.nbCenterLayers / (this.distancePoint(i, e) * (this.nbCenterLayers + 2));if (_r41 < .75 || _r41 > 1.25 || !this.isWhiteOrBlackRectangle(_t52, _s28, _a11, _c8)) break;
                }e = _t52, r = _s28, n = _a11, i = _c8, o = !o;
              }if (5 !== this.nbCenterLayers && 7 !== this.nbCenterLayers) throw new D();this.compact = 5 === this.nbCenterLayers;var s = new it(e.getX() + .5, e.getY() - .5),
                  a = new it(r.getX() + .5, r.getY() + .5),
                  c = new it(n.getX() - .5, n.getY() + .5),
                  l = new it(i.getX() - .5, i.getY() - .5);return this.expandSquare([s, a, c, l], 2 * this.nbCenterLayers - 3, 2 * this.nbCenterLayers);
            }
          }, {
            key: "getMatrixCenter",
            value: function getMatrixCenter() {
              var t = void 0,
                  e = void 0,
                  r = void 0,
                  n = void 0;try {
                var _i25 = new at(this.image).detect();t = _i25[0], e = _i25[1], r = _i25[2], n = _i25[3];
              } catch (i) {
                var _o19 = this.image.getWidth() / 2,
                    _s29 = this.image.getHeight() / 2;t = this.getFirstDifferent(new dt(_o19 + 7, _s29 - 7), !1, 1, -1).toResultPoint(), e = this.getFirstDifferent(new dt(_o19 + 7, _s29 + 7), !1, 1, 1).toResultPoint(), r = this.getFirstDifferent(new dt(_o19 - 7, _s29 + 7), !1, -1, 1).toResultPoint(), n = this.getFirstDifferent(new dt(_o19 - 7, _s29 - 7), !1, -1, -1).toResultPoint();
              }var i = rt.round((t.getX() + n.getX() + e.getX() + r.getX()) / 4),
                  o = rt.round((t.getY() + n.getY() + e.getY() + r.getY()) / 4);try {
                var _s30 = new at(this.image, 15, i, o).detect();t = _s30[0], e = _s30[1], r = _s30[2], n = _s30[3];
              } catch (s) {
                t = this.getFirstDifferent(new dt(i + 7, o - 7), !1, 1, -1).toResultPoint(), e = this.getFirstDifferent(new dt(i + 7, o + 7), !1, 1, 1).toResultPoint(), r = this.getFirstDifferent(new dt(i - 7, o + 7), !1, -1, 1).toResultPoint(), n = this.getFirstDifferent(new dt(i - 7, o - 7), !1, -1, -1).toResultPoint();
              }return i = rt.round((t.getX() + n.getX() + e.getX() + r.getX()) / 4), o = rt.round((t.getY() + n.getY() + e.getY() + r.getY()) / 4), new dt(i, o);
            }
          }, {
            key: "getMatrixCornerPoints",
            value: function getMatrixCornerPoints(t) {
              return this.expandSquare(t, 2 * this.nbCenterLayers, this.getDimension());
            }
          }, {
            key: "sampleGrid",
            value: function sampleGrid(t, e, r, n, i) {
              var o = ut.getInstance(),
                  s = this.getDimension(),
                  a = s / 2 - this.nbCenterLayers,
                  c = s / 2 + this.nbCenterLayers;return o.sampleGrid(t, s, s, a, a, c, a, c, c, a, c, e.getX(), e.getY(), r.getX(), r.getY(), n.getX(), n.getY(), i.getX(), i.getY());
            }
          }, {
            key: "sampleLine",
            value: function sampleLine(t, e, r) {
              var n = 0,
                  i = this.distanceResultPoint(t, e),
                  o = i / r,
                  s = t.getX(),
                  a = t.getY(),
                  c = o * (e.getX() - t.getX()) / i,
                  l = o * (e.getY() - t.getY()) / i;for (var _t53 = 0; _t53 < r; _t53++) {
                this.image.get(rt.round(s + _t53 * c), rt.round(a + _t53 * l)) && (n |= 1 << r - _t53 - 1);
              }return n;
            }
          }, {
            key: "isWhiteOrBlackRectangle",
            value: function isWhiteOrBlackRectangle(t, e, r, n) {
              t = new dt(t.getX() - 3, t.getY() + 3), e = new dt(e.getX() - 3, e.getY() - 3), r = new dt(r.getX() + 3, r.getY() - 3), n = new dt(n.getX() + 3, n.getY() + 3);var i = this.getColor(n, t);if (0 === i) return !1;var o = this.getColor(t, e);return o === i && (o = this.getColor(e, r), o === i && (o = this.getColor(r, n), o === i));
            }
          }, {
            key: "getColor",
            value: function getColor(t, e) {
              var r = this.distancePoint(t, e),
                  n = (e.getX() - t.getX()) / r,
                  i = (e.getY() - t.getY()) / r,
                  o = 0,
                  s = t.getX(),
                  a = t.getY(),
                  c = this.image.get(t.getX(), t.getY()),
                  l = Math.ceil(r);for (var _t54 = 0; _t54 < l; _t54++) {
                s += n, a += i, this.image.get(rt.round(s), rt.round(a)) !== c && o++;
              }var h = o / r;return h > .1 && h < .9 ? 0 : h <= .1 === c ? 1 : -1;
            }
          }, {
            key: "getFirstDifferent",
            value: function getFirstDifferent(t, e, r, n) {
              var i = t.getX() + r,
                  o = t.getY() + n;for (; this.isValid(i, o) && this.image.get(i, o) === e;) {
                i += r, o += n;
              }for (i -= r, o -= n; this.isValid(i, o) && this.image.get(i, o) === e;) {
                i += r;
              }for (i -= r; this.isValid(i, o) && this.image.get(i, o) === e;) {
                o += n;
              }return o -= n, new dt(i, o);
            }
          }, {
            key: "expandSquare",
            value: function expandSquare(t, e, r) {
              var n = r / (2 * e),
                  i = t[0].getX() - t[2].getX(),
                  o = t[0].getY() - t[2].getY(),
                  s = (t[0].getX() + t[2].getX()) / 2,
                  a = (t[0].getY() + t[2].getY()) / 2,
                  c = new it(s + n * i, a + n * o),
                  l = new it(s - n * i, a - n * o);return i = t[1].getX() - t[3].getX(), o = t[1].getY() - t[3].getY(), s = (t[1].getX() + t[3].getX()) / 2, a = (t[1].getY() + t[3].getY()) / 2, [c, new it(s + n * i, a + n * o), l, new it(s - n * i, a - n * o)];
            }
          }, {
            key: "isValid",
            value: function isValid(t, e) {
              return t >= 0 && t < this.image.getWidth() && e > 0 && e < this.image.getHeight();
            }
          }, {
            key: "isValidPoint",
            value: function isValidPoint(t) {
              var e = rt.round(t.getX()),
                  r = rt.round(t.getY());return this.isValid(e, r);
            }
          }, {
            key: "distancePoint",
            value: function distancePoint(t, e) {
              return rt.distance(t.getX(), t.getY(), e.getX(), e.getY());
            }
          }, {
            key: "distanceResultPoint",
            value: function distanceResultPoint(t, e) {
              return rt.distance(t.getX(), t.getY(), e.getX(), e.getY());
            }
          }, {
            key: "getDimension",
            value: function getDimension() {
              return this.compact ? 4 * this.nbLayers + 11 : this.nbLayers <= 4 ? 4 * this.nbLayers + 15 : 4 * this.nbLayers + 2 * (m.truncDivision(this.nbLayers - 4, 8) + 1) + 15;
            }
          }]);

          return ft;
        }();

        var gt = function () {
          function gt() {
            _classCallCheck(this, gt);
          }

          _createClass(gt, [{
            key: "decode",
            value: function decode(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var r = null,
                  n = new ft(t.getBlackMatrix()),
                  i = null,
                  o = null;try {
                var _t55 = n.detectMirror(!1);i = _t55.getPoints(), this.reportFoundResultPoints(e, i), o = new et().decode(_t55);
              } catch (t) {
                r = t;
              }if (null == o) try {
                var _t56 = n.detectMirror(!0);i = _t56.getPoints(), this.reportFoundResultPoints(e, i), o = new et().decode(_t56);
              } catch (t) {
                if (null != r) throw r;throw t;
              }var s = new x(o.getText(), o.getRawBytes(), o.getNumBits(), i, U.AZTEC, d.currentTimeMillis()),
                  a = o.getByteSegments();null != a && s.putMetadata(W.BYTE_SEGMENTS, a);var c = o.getECLevel();return null != c && s.putMetadata(W.ERROR_CORRECTION_LEVEL, c), s;
            }
          }, {
            key: "reportFoundResultPoints",
            value: function reportFoundResultPoints(t, e) {
              if (null != t) {
                var r = t.get(C.NEED_RESULT_POINT_CALLBACK);null != r && e.forEach(function (t, e, n) {
                  r.foundPossibleResultPoint(t);
                });
              }
            }
          }, {
            key: "reset",
            value: function reset() {}
          }]);

          return gt;
        }();

        var wt = function () {
          function wt() {
            _classCallCheck(this, wt);
          }

          _createClass(wt, [{
            key: "decode",
            value: function decode(t, e) {
              try {
                return this.doDecode(t, e);
              } catch (r) {
                if (e && !0 === e.get(C.TRY_HARDER) && t.isRotateSupported()) {
                  var _r42 = t.rotateCounterClockwise(),
                      _n27 = this.doDecode(_r42, e),
                      _i26 = _n27.getResultMetadata();var _o20 = 270;null !== _i26 && !0 === _i26.get(W.ORIENTATION) && (_o20 += _i26.get(W.ORIENTATION) % 360), _n27.putMetadata(W.ORIENTATION, _o20);var _s31 = _n27.getResultPoints();if (null !== _s31) {
                    var _t57 = _r42.getHeight();for (var _e37 = 0; _e37 < _s31.length; _e37++) {
                      _s31[_e37] = new it(_t57 - _s31[_e37].getY() - 1, _s31[_e37].getX());
                    }
                  }return _n27;
                }throw new D();
              }
            }
          }, {
            key: "reset",
            value: function reset() {}
          }, {
            key: "doDecode",
            value: function doDecode(t, e) {
              var r = t.getWidth(),
                  n = t.getHeight();var i = new p(r);var o = e && !0 === e.get(C.TRY_HARDER),
                  s = Math.max(1, n >> (o ? 8 : 5));var a = void 0;a = o ? n : 15;var c = Math.trunc(n / 2);for (var _o21 = 0; _o21 < a; _o21++) {
                var _a12 = Math.trunc((_o21 + 1) / 2),
                    _l5 = c + s * (0 == (1 & _o21) ? _a12 : -_a12);if (_l5 < 0 || _l5 >= n) break;try {
                  i = t.getBlackRow(_l5, i);
                } catch (t) {
                  continue;
                }for (var _t58 = 0; _t58 < 2; _t58++) {
                  if (1 === _t58 && (i.reverse(), e && !0 === e.get(C.NEED_RESULT_POINT_CALLBACK))) {
                    (function () {
                      var t = new Map();e.forEach(function (e, r) {
                        return t.set(r, e);
                      }), t.delete(C.NEED_RESULT_POINT_CALLBACK), e = t;
                    })();
                  }try {
                    var _n28 = this.decodeRow(_l5, i, e);if (1 === _t58) {
                      _n28.putMetadata(W.ORIENTATION, 180);var _t59 = _n28.getResultPoints();null !== _t59 && (_t59[0] = new it(r - _t59[0].getX() - 1, _t59[0].getY()), _t59[1] = new it(r - _t59[1].getX() - 1, _t59[1].getY()));
                    }return _n28;
                  } catch (t) {}
                }
              }throw new D();
            }
          }], [{
            key: "recordPattern",
            value: function recordPattern(t, e, r) {
              var n = r.length;for (var _t60 = 0; _t60 < n; _t60++) {
                r[_t60] = 0;
              }var i = t.getSize();if (e >= i) throw new D();var o = !t.get(e),
                  s = 0,
                  a = e;for (; a < i;) {
                if (t.get(a) !== o) r[s]++;else {
                  if (++s === n) break;r[s] = 1, o = !o;
                }a++;
              }if (s !== n && (s !== n - 1 || a !== i)) throw new D();
            }
          }, {
            key: "recordPatternInReverse",
            value: function recordPatternInReverse(t, e, r) {
              var n = r.length,
                  i = t.get(e);for (; e > 0 && n >= 0;) {
                t.get(--e) !== i && (n--, i = !i);
              }if (n >= 0) throw new D();wt.recordPattern(t, e + 1, r);
            }
          }, {
            key: "patternMatchVariance",
            value: function patternMatchVariance(t, e, r) {
              var n = t.length;var i = 0,
                  o = 0;for (var _r43 = 0; _r43 < n; _r43++) {
                i += t[_r43], o += e[_r43];
              }if (i < o) return Number.POSITIVE_INFINITY;var s = i / o;r *= s;var a = 0;for (var _i27 = 0; _i27 < n; _i27++) {
                var _n29 = t[_i27],
                    _o22 = e[_i27] * s,
                    _c9 = _n29 > _o22 ? _n29 - _o22 : _o22 - _n29;if (_c9 > r) return Number.POSITIVE_INFINITY;a += _c9;
              }return a / i;
            }
          }]);

          return wt;
        }();

        var mt = function (_wt) {
          _inherits(mt, _wt);

          function mt() {
            _classCallCheck(this, mt);

            return _possibleConstructorReturn(this, (mt.__proto__ || Object.getPrototypeOf(mt)).apply(this, arguments));
          }

          _createClass(mt, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = r && !0 === r.get(C.ASSUME_GS1),
                  i = mt.findStartPattern(e),
                  o = i[2];var s = 0;var a = new Uint8Array(20);var c = void 0;switch (a[s++] = o, o) {case mt.CODE_START_A:
                  c = mt.CODE_CODE_A;break;case mt.CODE_START_B:
                  c = mt.CODE_CODE_B;break;case mt.CODE_START_C:
                  c = mt.CODE_CODE_C;break;default:
                  throw new E();}var l = !1,
                  u = !1,
                  d = "",
                  f = i[0],
                  g = i[1];var w = Int32Array.from([0, 0, 0, 0, 0, 0]);var m = 0,
                  p = 0,
                  A = o,
                  I = 0,
                  S = !0,
                  _ = !1,
                  T = !1;for (; !l;) {
                var _t61 = u;switch (u = !1, m = p, p = mt.decodeCode(e, w, g), a[s++] = p, p !== mt.CODE_STOP && (S = !0), p !== mt.CODE_STOP && (I++, A += I * p), f = g, g += w.reduce(function (t, e) {
                  return t + e;
                }, 0), p) {case mt.CODE_START_A:case mt.CODE_START_B:case mt.CODE_START_C:
                    throw new E();}switch (c) {case mt.CODE_CODE_A:
                    if (p < 64) d += T === _ ? String.fromCharCode(" ".charCodeAt(0) + p) : String.fromCharCode(" ".charCodeAt(0) + p + 128), T = !1;else if (p < 96) d += T === _ ? String.fromCharCode(p - 64) : String.fromCharCode(p + 64), T = !1;else switch (p !== mt.CODE_STOP && (S = !1), p) {case mt.CODE_FNC_1:
                        n && (0 === d.length ? d += "]C1" : d += String.fromCharCode(29));break;case mt.CODE_FNC_2:case mt.CODE_FNC_3:
                        break;case mt.CODE_FNC_4_A:
                        !_ && T ? (_ = !0, T = !1) : _ && T ? (_ = !1, T = !1) : T = !0;break;case mt.CODE_SHIFT:
                        u = !0, c = mt.CODE_CODE_B;break;case mt.CODE_CODE_B:
                        c = mt.CODE_CODE_B;break;case mt.CODE_CODE_C:
                        c = mt.CODE_CODE_C;break;case mt.CODE_STOP:
                        l = !0;}break;case mt.CODE_CODE_B:
                    if (p < 96) d += T === _ ? String.fromCharCode(" ".charCodeAt(0) + p) : String.fromCharCode(" ".charCodeAt(0) + p + 128), T = !1;else switch (p !== mt.CODE_STOP && (S = !1), p) {case mt.CODE_FNC_1:
                        n && (0 === d.length ? d += "]C1" : d += String.fromCharCode(29));break;case mt.CODE_FNC_2:case mt.CODE_FNC_3:
                        break;case mt.CODE_FNC_4_B:
                        !_ && T ? (_ = !0, T = !1) : _ && T ? (_ = !1, T = !1) : T = !0;break;case mt.CODE_SHIFT:
                        u = !0, c = mt.CODE_CODE_A;break;case mt.CODE_CODE_A:
                        c = mt.CODE_CODE_A;break;case mt.CODE_CODE_C:
                        c = mt.CODE_CODE_C;break;case mt.CODE_STOP:
                        l = !0;}break;case mt.CODE_CODE_C:
                    if (p < 100) p < 10 && (d += "0"), d += p;else switch (p !== mt.CODE_STOP && (S = !1), p) {case mt.CODE_FNC_1:
                        n && (0 === d.length ? d += "]C1" : d += String.fromCharCode(29));break;case mt.CODE_CODE_A:
                        c = mt.CODE_CODE_A;break;case mt.CODE_CODE_B:
                        c = mt.CODE_CODE_B;break;case mt.CODE_STOP:
                        l = !0;}}_t61 && (c = c === mt.CODE_CODE_A ? mt.CODE_CODE_B : mt.CODE_CODE_A);
              }var y = g - f;if (g = e.getNextUnset(g), !e.isRange(g, Math.min(e.getSize(), g + (g - f) / 2), !1)) throw new D();if (A -= I * m, A % 103 !== m) throw new h();var N = d.length;if (0 === N) throw new D();N > 0 && S && (d = c === mt.CODE_CODE_C ? d.substring(0, N - 2) : d.substring(0, N - 1));var M = (i[1] + i[0]) / 2,
                  R = f + y / 2,
                  O = a.length,
                  b = new Uint8Array(O);for (var _t62 = 0; _t62 < O; _t62++) {
                b[_t62] = a[_t62];
              }var B = [new it(M, t), new it(R, t)];return new x(d, b, 0, B, U.CODE_128, new Date().getTime());
            }
          }], [{
            key: "findStartPattern",
            value: function findStartPattern(t) {
              var e = t.getSize(),
                  r = t.getNextSet(0);var n = 0,
                  i = Int32Array.from([0, 0, 0, 0, 0, 0]),
                  o = r,
                  s = !1;for (var _a13 = r; _a13 < e; _a13++) {
                if (t.get(_a13) !== s) i[n]++;else {
                  if (5 === n) {
                    var _e38 = mt.MAX_AVG_VARIANCE,
                        _r44 = -1;for (var _t63 = mt.CODE_START_A; _t63 <= mt.CODE_START_C; _t63++) {
                      var _n30 = wt.patternMatchVariance(i, mt.CODE_PATTERNS[_t63], mt.MAX_INDIVIDUAL_VARIANCE);_n30 < _e38 && (_e38 = _n30, _r44 = _t63);
                    }if (_r44 >= 0 && t.isRange(Math.max(0, o - (_a13 - o) / 2), o, !1)) return Int32Array.from([o, _a13, _r44]);o += i[0] + i[1], i = i.slice(2, i.length - 1), i[n - 1] = 0, i[n] = 0, n--;
                  } else n++;i[n] = 1, s = !s;
                }
              }throw new D();
            }
          }, {
            key: "decodeCode",
            value: function decodeCode(t, e, r) {
              wt.recordPattern(t, r, e);var n = mt.MAX_AVG_VARIANCE,
                  i = -1;for (var _t64 = 0; _t64 < mt.CODE_PATTERNS.length; _t64++) {
                var _r45 = mt.CODE_PATTERNS[_t64],
                    _o23 = this.patternMatchVariance(e, _r45, mt.MAX_INDIVIDUAL_VARIANCE);_o23 < n && (n = _o23, i = _t64);
              }if (i >= 0) return i;throw new D();
            }
          }]);

          return mt;
        }(wt);

        mt.CODE_PATTERNS = [Int32Array.from([2, 1, 2, 2, 2, 2]), Int32Array.from([2, 2, 2, 1, 2, 2]), Int32Array.from([2, 2, 2, 2, 2, 1]), Int32Array.from([1, 2, 1, 2, 2, 3]), Int32Array.from([1, 2, 1, 3, 2, 2]), Int32Array.from([1, 3, 1, 2, 2, 2]), Int32Array.from([1, 2, 2, 2, 1, 3]), Int32Array.from([1, 2, 2, 3, 1, 2]), Int32Array.from([1, 3, 2, 2, 1, 2]), Int32Array.from([2, 2, 1, 2, 1, 3]), Int32Array.from([2, 2, 1, 3, 1, 2]), Int32Array.from([2, 3, 1, 2, 1, 2]), Int32Array.from([1, 1, 2, 2, 3, 2]), Int32Array.from([1, 2, 2, 1, 3, 2]), Int32Array.from([1, 2, 2, 2, 3, 1]), Int32Array.from([1, 1, 3, 2, 2, 2]), Int32Array.from([1, 2, 3, 1, 2, 2]), Int32Array.from([1, 2, 3, 2, 2, 1]), Int32Array.from([2, 2, 3, 2, 1, 1]), Int32Array.from([2, 2, 1, 1, 3, 2]), Int32Array.from([2, 2, 1, 2, 3, 1]), Int32Array.from([2, 1, 3, 2, 1, 2]), Int32Array.from([2, 2, 3, 1, 1, 2]), Int32Array.from([3, 1, 2, 1, 3, 1]), Int32Array.from([3, 1, 1, 2, 2, 2]), Int32Array.from([3, 2, 1, 1, 2, 2]), Int32Array.from([3, 2, 1, 2, 2, 1]), Int32Array.from([3, 1, 2, 2, 1, 2]), Int32Array.from([3, 2, 2, 1, 1, 2]), Int32Array.from([3, 2, 2, 2, 1, 1]), Int32Array.from([2, 1, 2, 1, 2, 3]), Int32Array.from([2, 1, 2, 3, 2, 1]), Int32Array.from([2, 3, 2, 1, 2, 1]), Int32Array.from([1, 1, 1, 3, 2, 3]), Int32Array.from([1, 3, 1, 1, 2, 3]), Int32Array.from([1, 3, 1, 3, 2, 1]), Int32Array.from([1, 1, 2, 3, 1, 3]), Int32Array.from([1, 3, 2, 1, 1, 3]), Int32Array.from([1, 3, 2, 3, 1, 1]), Int32Array.from([2, 1, 1, 3, 1, 3]), Int32Array.from([2, 3, 1, 1, 1, 3]), Int32Array.from([2, 3, 1, 3, 1, 1]), Int32Array.from([1, 1, 2, 1, 3, 3]), Int32Array.from([1, 1, 2, 3, 3, 1]), Int32Array.from([1, 3, 2, 1, 3, 1]), Int32Array.from([1, 1, 3, 1, 2, 3]), Int32Array.from([1, 1, 3, 3, 2, 1]), Int32Array.from([1, 3, 3, 1, 2, 1]), Int32Array.from([3, 1, 3, 1, 2, 1]), Int32Array.from([2, 1, 1, 3, 3, 1]), Int32Array.from([2, 3, 1, 1, 3, 1]), Int32Array.from([2, 1, 3, 1, 1, 3]), Int32Array.from([2, 1, 3, 3, 1, 1]), Int32Array.from([2, 1, 3, 1, 3, 1]), Int32Array.from([3, 1, 1, 1, 2, 3]), Int32Array.from([3, 1, 1, 3, 2, 1]), Int32Array.from([3, 3, 1, 1, 2, 1]), Int32Array.from([3, 1, 2, 1, 1, 3]), Int32Array.from([3, 1, 2, 3, 1, 1]), Int32Array.from([3, 3, 2, 1, 1, 1]), Int32Array.from([3, 1, 4, 1, 1, 1]), Int32Array.from([2, 2, 1, 4, 1, 1]), Int32Array.from([4, 3, 1, 1, 1, 1]), Int32Array.from([1, 1, 1, 2, 2, 4]), Int32Array.from([1, 1, 1, 4, 2, 2]), Int32Array.from([1, 2, 1, 1, 2, 4]), Int32Array.from([1, 2, 1, 4, 2, 1]), Int32Array.from([1, 4, 1, 1, 2, 2]), Int32Array.from([1, 4, 1, 2, 2, 1]), Int32Array.from([1, 1, 2, 2, 1, 4]), Int32Array.from([1, 1, 2, 4, 1, 2]), Int32Array.from([1, 2, 2, 1, 1, 4]), Int32Array.from([1, 2, 2, 4, 1, 1]), Int32Array.from([1, 4, 2, 1, 1, 2]), Int32Array.from([1, 4, 2, 2, 1, 1]), Int32Array.from([2, 4, 1, 2, 1, 1]), Int32Array.from([2, 2, 1, 1, 1, 4]), Int32Array.from([4, 1, 3, 1, 1, 1]), Int32Array.from([2, 4, 1, 1, 1, 2]), Int32Array.from([1, 3, 4, 1, 1, 1]), Int32Array.from([1, 1, 1, 2, 4, 2]), Int32Array.from([1, 2, 1, 1, 4, 2]), Int32Array.from([1, 2, 1, 2, 4, 1]), Int32Array.from([1, 1, 4, 2, 1, 2]), Int32Array.from([1, 2, 4, 1, 1, 2]), Int32Array.from([1, 2, 4, 2, 1, 1]), Int32Array.from([4, 1, 1, 2, 1, 2]), Int32Array.from([4, 2, 1, 1, 1, 2]), Int32Array.from([4, 2, 1, 2, 1, 1]), Int32Array.from([2, 1, 2, 1, 4, 1]), Int32Array.from([2, 1, 4, 1, 2, 1]), Int32Array.from([4, 1, 2, 1, 2, 1]), Int32Array.from([1, 1, 1, 1, 4, 3]), Int32Array.from([1, 1, 1, 3, 4, 1]), Int32Array.from([1, 3, 1, 1, 4, 1]), Int32Array.from([1, 1, 4, 1, 1, 3]), Int32Array.from([1, 1, 4, 3, 1, 1]), Int32Array.from([4, 1, 1, 1, 1, 3]), Int32Array.from([4, 1, 1, 3, 1, 1]), Int32Array.from([1, 1, 3, 1, 4, 1]), Int32Array.from([1, 1, 4, 1, 3, 1]), Int32Array.from([3, 1, 1, 1, 4, 1]), Int32Array.from([4, 1, 1, 1, 3, 1]), Int32Array.from([2, 1, 1, 4, 1, 2]), Int32Array.from([2, 1, 1, 2, 1, 4]), Int32Array.from([2, 1, 1, 2, 3, 2]), Int32Array.from([2, 3, 3, 1, 1, 1, 2])], mt.MAX_AVG_VARIANCE = .25, mt.MAX_INDIVIDUAL_VARIANCE = .7, mt.CODE_SHIFT = 98, mt.CODE_CODE_C = 99, mt.CODE_CODE_B = 100, mt.CODE_CODE_A = 101, mt.CODE_FNC_1 = 102, mt.CODE_FNC_2 = 97, mt.CODE_FNC_3 = 96, mt.CODE_FNC_4_A = 101, mt.CODE_FNC_4_B = 100, mt.CODE_START_A = 103, mt.CODE_START_B = 104, mt.CODE_START_C = 105, mt.CODE_STOP = 106;
        var pt = function (_wt2) {
          _inherits(pt, _wt2);

          function pt() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;

            var _this26;

            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;

            _classCallCheck(this, pt);

            (_this26 = _possibleConstructorReturn(this, (pt.__proto__ || Object.getPrototypeOf(pt)).call(this)), _this26), _this26.usingCheckDigit = t, _this26.extendedMode = e, _this26.decodeRowResult = "", _this26.counters = new Int32Array(9);return _this26;
          }

          _createClass(pt, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = this.counters;n.fill(0), this.decodeRowResult = "";var i = void 0,
                  o = void 0,
                  s = pt.findAsteriskPattern(e, n),
                  a = e.getNextSet(s[1]),
                  c = e.getSize();do {
                pt.recordPattern(e, a, n);var _t65 = pt.toNarrowWidePattern(n);if (_t65 < 0) throw new D();i = pt.patternToChar(_t65), this.decodeRowResult += i, o = a;var _iteratorNormalCompletion4 = true;
                var _didIteratorError4 = false;
                var _iteratorError4 = undefined;

                try {
                  for (var _iterator4 = n[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var _t66 = _step4.value;
                    a += _t66;
                  }
                } catch (err) {
                  _didIteratorError4 = true;
                  _iteratorError4 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                      _iterator4.return();
                    }
                  } finally {
                    if (_didIteratorError4) {
                      throw _iteratorError4;
                    }
                  }
                }

                a = e.getNextSet(a);
              } while ("*" !== i);this.decodeRowResult = this.decodeRowResult.substring(0, this.decodeRowResult.length - 1);var l = void 0,
                  u = 0;var _iteratorNormalCompletion5 = true;
              var _didIteratorError5 = false;
              var _iteratorError5 = undefined;

              try {
                for (var _iterator5 = n[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
                  var _t68 = _step5.value;
                  u += _t68;
                }
              } catch (err) {
                _didIteratorError5 = true;
                _iteratorError5 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion5 && _iterator5.return) {
                    _iterator5.return();
                  }
                } finally {
                  if (_didIteratorError5) {
                    throw _iteratorError5;
                  }
                }
              }

              if (a !== c && 2 * (a - o - u) < u) throw new D();if (this.usingCheckDigit) {
                var _t67 = this.decodeRowResult.length - 1,
                    _e39 = 0;for (var _r46 = 0; _r46 < _t67; _r46++) {
                  _e39 += pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_r46));
                }if (this.decodeRowResult.charAt(_t67) !== pt.ALPHABET_STRING.charAt(_e39 % 43)) throw new h();this.decodeRowResult = this.decodeRowResult.substring(0, _t67);
              }if (0 === this.decodeRowResult.length) throw new D();l = this.extendedMode ? pt.decodeExtended(this.decodeRowResult) : this.decodeRowResult;var d = (s[1] + s[0]) / 2,
                  f = o + u / 2;return new x(l, null, 0, [new it(d, t), new it(f, t)], U.CODE_39, new Date().getTime());
            }
          }], [{
            key: "findAsteriskPattern",
            value: function findAsteriskPattern(t, e) {
              var r = t.getSize(),
                  n = t.getNextSet(0),
                  i = 0,
                  o = n,
                  s = !1,
                  a = e.length;for (var _c10 = n; _c10 < r; _c10++) {
                if (t.get(_c10) !== s) e[i]++;else {
                  if (i === a - 1) {
                    if (this.toNarrowWidePattern(e) === pt.ASTERISK_ENCODING && t.isRange(Math.max(0, o - Math.floor((_c10 - o) / 2)), o, !1)) return [o, _c10];o += e[0] + e[1], e.copyWithin(0, 2, 2 + i - 1), e[i - 1] = 0, e[i] = 0, i--;
                  } else i++;e[i] = 1, s = !s;
                }
              }throw new D();
            }
          }, {
            key: "toNarrowWidePattern",
            value: function toNarrowWidePattern(t) {
              var e = void 0,
                  r = t.length,
                  n = 0;do {
                var _i28 = 2147483647;var _iteratorNormalCompletion6 = true;
                var _didIteratorError6 = false;
                var _iteratorError6 = undefined;

                try {
                  for (var _iterator6 = t[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
                    var _e40 = _step6.value;
                    _e40 < _i28 && _e40 > n && (_i28 = _e40);
                  }
                } catch (err) {
                  _didIteratorError6 = true;
                  _iteratorError6 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion6 && _iterator6.return) {
                      _iterator6.return();
                    }
                  } finally {
                    if (_didIteratorError6) {
                      throw _iteratorError6;
                    }
                  }
                }

                n = _i28, e = 0;var _o24 = 0,
                    _s32 = 0;for (var _i29 = 0; _i29 < r; _i29++) {
                  var _a14 = t[_i29];_a14 > n && (_s32 |= 1 << r - 1 - _i29, e++, _o24 += _a14);
                }if (3 === e) {
                  for (var _i30 = 0; _i30 < r && e > 0; _i30++) {
                    var _r47 = t[_i30];if (_r47 > n && (e--, 2 * _r47 >= _o24)) return -1;
                  }return _s32;
                }
              } while (e > 3);return -1;
            }
          }, {
            key: "patternToChar",
            value: function patternToChar(t) {
              for (var e = 0; e < pt.CHARACTER_ENCODINGS.length; e++) {
                if (pt.CHARACTER_ENCODINGS[e] === t) return pt.ALPHABET_STRING.charAt(e);
              }if (t === pt.ASTERISK_ENCODING) return "*";throw new D();
            }
          }, {
            key: "decodeExtended",
            value: function decodeExtended(t) {
              var e = t.length,
                  r = "";for (var _n31 = 0; _n31 < e; _n31++) {
                var _e41 = t.charAt(_n31);if ("+" === _e41 || "$" === _e41 || "%" === _e41 || "/" === _e41) {
                  var _i31 = t.charAt(_n31 + 1),
                      _o25 = "\0";switch (_e41) {case "+":
                      if (!(_i31 >= "A" && _i31 <= "Z")) throw new E();_o25 = String.fromCharCode(_i31.charCodeAt(0) + 32);break;case "$":
                      if (!(_i31 >= "A" && _i31 <= "Z")) throw new E();_o25 = String.fromCharCode(_i31.charCodeAt(0) - 64);break;case "%":
                      if (_i31 >= "A" && _i31 <= "E") _o25 = String.fromCharCode(_i31.charCodeAt(0) - 38);else if (_i31 >= "F" && _i31 <= "J") _o25 = String.fromCharCode(_i31.charCodeAt(0) - 11);else if (_i31 >= "K" && _i31 <= "O") _o25 = String.fromCharCode(_i31.charCodeAt(0) + 16);else if (_i31 >= "P" && _i31 <= "T") _o25 = String.fromCharCode(_i31.charCodeAt(0) + 43);else if ("U" === _i31) _o25 = "\0";else if ("V" === _i31) _o25 = "@";else if ("W" === _i31) _o25 = "`";else {
                        if ("X" !== _i31 && "Y" !== _i31 && "Z" !== _i31) throw new E();_o25 = "";
                      }break;case "/":
                      if (_i31 >= "A" && _i31 <= "O") _o25 = String.fromCharCode(_i31.charCodeAt(0) - 32);else {
                        if ("Z" !== _i31) throw new E();_o25 = ":";
                      }}r += _o25, _n31++;
                } else r += _e41;
              }return r;
            }
          }]);

          return pt;
        }(wt);

        pt.ALPHABET_STRING = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%", pt.CHARACTER_ENCODINGS = [52, 289, 97, 352, 49, 304, 112, 37, 292, 100, 265, 73, 328, 25, 280, 88, 13, 268, 76, 28, 259, 67, 322, 19, 274, 82, 7, 262, 70, 22, 385, 193, 448, 145, 400, 208, 133, 388, 196, 168, 162, 138, 42], pt.ASTERISK_ENCODING = 148;
        var At = function (_wt3) {
          _inherits(At, _wt3);

          function At() {
            var _this27;

            _classCallCheck(this, At);

            (_this27 = _possibleConstructorReturn(this, (At.__proto__ || Object.getPrototypeOf(At)).apply(this, arguments)), _this27), _this27.narrowLineWidth = -1;return _this27;
          }

          _createClass(At, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = this.decodeStart(e),
                  i = this.decodeEnd(e),
                  o = new y();At.decodeMiddle(e, n[1], i[0], o);var s = o.toString(),
                  a = null;null != r && (a = r.get(C.ALLOWED_LENGTHS)), null == a && (a = At.DEFAULT_ALLOWED_LENGTHS);var c = s.length,
                  l = !1,
                  h = 0;var _iteratorNormalCompletion7 = true;
              var _didIteratorError7 = false;
              var _iteratorError7 = undefined;

              try {
                for (var _iterator7 = a[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {
                  var _t69 = _step7.value;
                  if (c === _t69) {
                    l = !0;break;
                  }_t69 > h && (h = _t69);
                }
              } catch (err) {
                _didIteratorError7 = true;
                _iteratorError7 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion7 && _iterator7.return) {
                    _iterator7.return();
                  }
                } finally {
                  if (_didIteratorError7) {
                    throw _iteratorError7;
                  }
                }
              }

              if (!l && c > h && (l = !0), !l) throw new E();var u = [new it(n[1], t), new it(i[0], t)];return new x(s, null, 0, u, U.ITF, new Date().getTime());
            }
          }, {
            key: "decodeStart",
            value: function decodeStart(t) {
              var e = At.skipWhiteSpace(t),
                  r = At.findGuardPattern(t, e, At.START_PATTERN);return this.narrowLineWidth = (r[1] - r[0]) / 4, this.validateQuietZone(t, r[0]), r;
            }
          }, {
            key: "validateQuietZone",
            value: function validateQuietZone(t, e) {
              var r = 10 * this.narrowLineWidth;r = r < e ? r : e;for (var _n32 = e - 1; r > 0 && _n32 >= 0 && !t.get(_n32); _n32--) {
                r--;
              }if (0 !== r) throw new D();
            }
          }, {
            key: "decodeEnd",
            value: function decodeEnd(t) {
              t.reverse();try {
                var e = void 0,
                    r = At.skipWhiteSpace(t);try {
                  e = At.findGuardPattern(t, r, At.END_PATTERN_REVERSED[0]);
                } catch (n) {
                  n instanceof D && (e = At.findGuardPattern(t, r, At.END_PATTERN_REVERSED[1]));
                }this.validateQuietZone(t, e[0]);var _n33 = e[0];return e[0] = t.getSize() - e[1], e[1] = t.getSize() - _n33, e;
              } finally {
                t.reverse();
              }
            }
          }], [{
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r, n) {
              var i = new Int32Array(10),
                  o = new Int32Array(5),
                  s = new Int32Array(5);for (i.fill(0), o.fill(0), s.fill(0); e < r;) {
                wt.recordPattern(t, e, i);for (var _t70 = 0; _t70 < 5; _t70++) {
                  var _e42 = 2 * _t70;o[_t70] = i[_e42], s[_t70] = i[_e42 + 1];
                }var _r48 = At.decodeDigit(o);n.append(_r48.toString()), _r48 = this.decodeDigit(s), n.append(_r48.toString()), i.forEach(function (t) {
                  e += t;
                });
              }
            }
          }, {
            key: "skipWhiteSpace",
            value: function skipWhiteSpace(t) {
              var e = t.getSize(),
                  r = t.getNextSet(0);if (r === e) throw new D();return r;
            }
          }, {
            key: "findGuardPattern",
            value: function findGuardPattern(t, e, r) {
              var n = r.length,
                  i = new Int32Array(n),
                  o = t.getSize(),
                  s = !1,
                  a = 0,
                  c = e;i.fill(0);for (var _l6 = e; _l6 < o; _l6++) {
                if (t.get(_l6) !== s) i[a]++;else {
                  if (a === n - 1) {
                    if (wt.patternMatchVariance(i, r, At.MAX_INDIVIDUAL_VARIANCE) < At.MAX_AVG_VARIANCE) return [c, _l6];c += i[0] + i[1], d.arraycopy(i, 2, i, 0, a - 1), i[a - 1] = 0, i[a] = 0, a--;
                  } else a++;i[a] = 1, s = !s;
                }
              }throw new D();
            }
          }, {
            key: "decodeDigit",
            value: function decodeDigit(t) {
              var e = At.MAX_AVG_VARIANCE,
                  r = -1,
                  n = At.PATTERNS.length;for (var _i32 = 0; _i32 < n; _i32++) {
                var _n34 = At.PATTERNS[_i32],
                    _o26 = wt.patternMatchVariance(t, _n34, At.MAX_INDIVIDUAL_VARIANCE);_o26 < e ? (e = _o26, r = _i32) : _o26 === e && (r = -1);
              }if (r >= 0) return r % 10;throw new D();
            }
          }]);

          return At;
        }(wt);

        At.PATTERNS = [Int32Array.from([1, 1, 2, 2, 1]), Int32Array.from([2, 1, 1, 1, 2]), Int32Array.from([1, 2, 1, 1, 2]), Int32Array.from([2, 2, 1, 1, 1]), Int32Array.from([1, 1, 2, 1, 2]), Int32Array.from([2, 1, 2, 1, 1]), Int32Array.from([1, 2, 2, 1, 1]), Int32Array.from([1, 1, 1, 2, 2]), Int32Array.from([2, 1, 1, 2, 1]), Int32Array.from([1, 2, 1, 2, 1]), Int32Array.from([1, 1, 3, 3, 1]), Int32Array.from([3, 1, 1, 1, 3]), Int32Array.from([1, 3, 1, 1, 3]), Int32Array.from([3, 3, 1, 1, 1]), Int32Array.from([1, 1, 3, 1, 3]), Int32Array.from([3, 1, 3, 1, 1]), Int32Array.from([1, 3, 3, 1, 1]), Int32Array.from([1, 1, 1, 3, 3]), Int32Array.from([3, 1, 1, 3, 1]), Int32Array.from([1, 3, 1, 3, 1])], At.MAX_AVG_VARIANCE = .38, At.MAX_INDIVIDUAL_VARIANCE = .5, At.DEFAULT_ALLOWED_LENGTHS = [6, 8, 10, 12, 14], At.START_PATTERN = Int32Array.from([1, 1, 1, 1]), At.END_PATTERN_REVERSED = [Int32Array.from([1, 1, 2]), Int32Array.from([1, 1, 3])];
        var Ct = function (_wt4) {
          _inherits(Ct, _wt4);

          function Ct() {
            var _this28;

            _classCallCheck(this, Ct);

            (_this28 = _possibleConstructorReturn(this, (Ct.__proto__ || Object.getPrototypeOf(Ct)).apply(this, arguments)), _this28), _this28.decodeRowStringBuffer = "";return _this28;
          }

          _createClass(Ct, null, [{
            key: "findStartGuardPattern",
            value: function findStartGuardPattern(t) {
              var e = void 0,
                  r = !1,
                  n = 0,
                  i = Int32Array.from([0, 0, 0]);for (; !r;) {
                i = Int32Array.from([0, 0, 0]), e = Ct.findGuardPattern(t, n, !1, this.START_END_PATTERN, i);var _o27 = e[0];n = e[1];var _s33 = _o27 - (n - _o27);_s33 >= 0 && (r = t.isRange(_s33, _o27, !1));
              }return e;
            }
          }, {
            key: "checkChecksum",
            value: function checkChecksum(t) {
              return Ct.checkStandardUPCEANChecksum(t);
            }
          }, {
            key: "checkStandardUPCEANChecksum",
            value: function checkStandardUPCEANChecksum(t) {
              var e = t.length;if (0 === e) return !1;var r = parseInt(t.charAt(e - 1), 10);return Ct.getStandardUPCEANChecksum(t.substring(0, e - 1)) === r;
            }
          }, {
            key: "getStandardUPCEANChecksum",
            value: function getStandardUPCEANChecksum(t) {
              var e = t.length,
                  r = 0;for (var _n35 = e - 1; _n35 >= 0; _n35 -= 2) {
                var _e43 = t.charAt(_n35).charCodeAt(0) - "0".charCodeAt(0);if (_e43 < 0 || _e43 > 9) throw new E();r += _e43;
              }r *= 3;for (var _n36 = e - 2; _n36 >= 0; _n36 -= 2) {
                var _e44 = t.charAt(_n36).charCodeAt(0) - "0".charCodeAt(0);if (_e44 < 0 || _e44 > 9) throw new E();r += _e44;
              }return (1e3 - r) % 10;
            }
          }, {
            key: "decodeEnd",
            value: function decodeEnd(t, e) {
              return Ct.findGuardPattern(t, e, !1, Ct.START_END_PATTERN, new Int32Array(Ct.START_END_PATTERN.length).fill(0));
            }
          }, {
            key: "findGuardPatternWithoutCounters",
            value: function findGuardPatternWithoutCounters(t, e, r, n) {
              return this.findGuardPattern(t, e, r, n, new Int32Array(n.length));
            }
          }, {
            key: "findGuardPattern",
            value: function findGuardPattern(t, e, r, n, i) {
              var o = t.getSize(),
                  s = 0,
                  a = e = r ? t.getNextUnset(e) : t.getNextSet(e),
                  c = n.length,
                  l = r;for (var _r49 = e; _r49 < o; _r49++) {
                if (t.get(_r49) !== l) i[s]++;else {
                  if (s === c - 1) {
                    if (wt.patternMatchVariance(i, n, Ct.MAX_INDIVIDUAL_VARIANCE) < Ct.MAX_AVG_VARIANCE) return Int32Array.from([a, _r49]);a += i[0] + i[1];var _t71 = i.slice(2, i.length - 1);for (var _e45 = 0; _e45 < s - 1; _e45++) {
                      i[_e45] = _t71[_e45];
                    }i[s - 1] = 0, i[s] = 0, s--;
                  } else s++;i[s] = 1, l = !l;
                }
              }throw new D();
            }
          }, {
            key: "decodeDigit",
            value: function decodeDigit(t, e, r, n) {
              this.recordPattern(t, r, e);var i = this.MAX_AVG_VARIANCE,
                  o = -1,
                  s = n.length;for (var _t72 = 0; _t72 < s; _t72++) {
                var _r50 = n[_t72],
                    _s34 = wt.patternMatchVariance(e, _r50, Ct.MAX_INDIVIDUAL_VARIANCE);_s34 < i && (i = _s34, o = _t72);
              }if (o >= 0) return o;throw new D();
            }
          }]);

          return Ct;
        }(wt);

        Ct.MAX_AVG_VARIANCE = .48, Ct.MAX_INDIVIDUAL_VARIANCE = .7, Ct.START_END_PATTERN = Int32Array.from([1, 1, 1]), Ct.MIDDLE_PATTERN = Int32Array.from([1, 1, 1, 1, 1]), Ct.END_PATTERN = Int32Array.from([1, 1, 1, 1, 1, 1]), Ct.L_PATTERNS = [Int32Array.from([3, 2, 1, 1]), Int32Array.from([2, 2, 2, 1]), Int32Array.from([2, 1, 2, 2]), Int32Array.from([1, 4, 1, 1]), Int32Array.from([1, 1, 3, 2]), Int32Array.from([1, 2, 3, 1]), Int32Array.from([1, 1, 1, 4]), Int32Array.from([1, 3, 1, 2]), Int32Array.from([1, 2, 1, 3]), Int32Array.from([3, 1, 1, 2])];
        var Et = function () {
          function Et() {
            _classCallCheck(this, Et);

            this.CHECK_DIGIT_ENCODINGS = [24, 20, 18, 17, 12, 6, 3, 10, 9, 5], this.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]), this.decodeRowStringBuffer = "";
          }

          _createClass(Et, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = this.decodeRowStringBuffer,
                  i = this.decodeMiddle(e, r, n),
                  o = n.toString(),
                  s = Et.parseExtensionString(o),
                  a = [new it((r[0] + r[1]) / 2, t), new it(i, t)],
                  c = new x(o, null, 0, a, U.UPC_EAN_EXTENSION, new Date().getTime());return null != s && c.putAllMetadata(s), c;
            }
          }, {
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r) {
              var n = this.decodeMiddleCounters;n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 0;var i = t.getSize(),
                  o = e[1],
                  s = 0;for (var _e46 = 0; _e46 < 5 && o < i; _e46++) {
                var _i33 = Ct.decodeDigit(t, n, o, Ct.L_AND_G_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _i33 % 10);var _iteratorNormalCompletion8 = true;
                var _didIteratorError8 = false;
                var _iteratorError8 = undefined;

                try {
                  for (var _iterator8 = n[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {
                    var _t73 = _step8.value;
                    o += _t73;
                  }
                } catch (err) {
                  _didIteratorError8 = true;
                  _iteratorError8 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion8 && _iterator8.return) {
                      _iterator8.return();
                    }
                  } finally {
                    if (_didIteratorError8) {
                      throw _iteratorError8;
                    }
                  }
                }

                _i33 >= 10 && (s |= 1 << 4 - _e46), 4 !== _e46 && (o = t.getNextSet(o), o = t.getNextUnset(o));
              }if (5 !== r.length) throw new D();var a = this.determineCheckDigit(s);if (Et.extensionChecksum(r.toString()) !== a) throw new D();return o;
            }
          }, {
            key: "determineCheckDigit",
            value: function determineCheckDigit(t) {
              for (var e = 0; e < 10; e++) {
                if (t === this.CHECK_DIGIT_ENCODINGS[e]) return e;
              }throw new D();
            }
          }], [{
            key: "extensionChecksum",
            value: function extensionChecksum(t) {
              var e = t.length,
                  r = 0;for (var _n37 = e - 2; _n37 >= 0; _n37 -= 2) {
                r += t.charAt(_n37).charCodeAt(0) - "0".charCodeAt(0);
              }r *= 3;for (var _n38 = e - 1; _n38 >= 0; _n38 -= 2) {
                r += t.charAt(_n38).charCodeAt(0) - "0".charCodeAt(0);
              }return r *= 3, r % 10;
            }
          }, {
            key: "parseExtensionString",
            value: function parseExtensionString(t) {
              if (5 !== t.length) return null;var e = Et.parseExtension5String(t);return null == e ? null : new Map([[W.SUGGESTED_PRICE, e]]);
            }
          }, {
            key: "parseExtension5String",
            value: function parseExtension5String(t) {
              var e = void 0;switch (t.charAt(0)) {case "0":
                  e = "£";break;case "5":
                  e = "$";break;case "9":
                  switch (t) {case "90000":
                      return null;case "99991":
                      return "0.00";case "99990":
                      return "Used";}e = "";break;default:
                  e = "";}var r = parseInt(t.substring(1)),
                  n = r % 100;return e + (r / 100).toString() + "." + (n < 10 ? "0" + n : n.toString());
            }
          }]);

          return Et;
        }();

        var It = function () {
          function It() {
            _classCallCheck(this, It);

            this.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]), this.decodeRowStringBuffer = "";
          }

          _createClass(It, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = this.decodeRowStringBuffer,
                  i = this.decodeMiddle(e, r, n),
                  o = n.toString(),
                  s = It.parseExtensionString(o),
                  a = [new it((r[0] + r[1]) / 2, t), new it(i, t)],
                  c = new x(o, null, 0, a, U.UPC_EAN_EXTENSION, new Date().getTime());return null != s && c.putAllMetadata(s), c;
            }
          }, {
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r) {
              var n = this.decodeMiddleCounters;n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 0;var i = t.getSize(),
                  o = e[1],
                  s = 0;for (var _e47 = 0; _e47 < 2 && o < i; _e47++) {
                var _i34 = Ct.decodeDigit(t, n, o, Ct.L_AND_G_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _i34 % 10);var _iteratorNormalCompletion9 = true;
                var _didIteratorError9 = false;
                var _iteratorError9 = undefined;

                try {
                  for (var _iterator9 = n[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {
                    var _t74 = _step9.value;
                    o += _t74;
                  }
                } catch (err) {
                  _didIteratorError9 = true;
                  _iteratorError9 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion9 && _iterator9.return) {
                      _iterator9.return();
                    }
                  } finally {
                    if (_didIteratorError9) {
                      throw _iteratorError9;
                    }
                  }
                }

                _i34 >= 10 && (s |= 1 << 1 - _e47), 1 !== _e47 && (o = t.getNextSet(o), o = t.getNextUnset(o));
              }if (2 !== r.length) throw new D();if (parseInt(r.toString()) % 4 !== s) throw new D();return o;
            }
          }], [{
            key: "parseExtensionString",
            value: function parseExtensionString(t) {
              return 2 !== t.length ? null : new Map([[W.ISSUE_NUMBER, parseInt(t)]]);
            }
          }]);

          return It;
        }();

        var St = function () {
          function St() {
            _classCallCheck(this, St);
          }

          _createClass(St, null, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = Ct.findGuardPattern(e, r, !1, this.EXTENSION_START_PATTERN, new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try {
                return new Et().decodeRow(t, e, n);
              } catch (r) {
                return new It().decodeRow(t, e, n);
              }
            }
          }]);

          return St;
        }();

        St.EXTENSION_START_PATTERN = Int32Array.from([1, 1, 2]);
        var _t = function (_Ct) {
          _inherits(_t, _Ct);

          function _t() {
            var _this29;

            _classCallCheck(this, _t);

            (_this29 = _possibleConstructorReturn(this, (_t.__proto__ || Object.getPrototypeOf(_t)).call(this)), _this29), _this29.decodeRowStringBuffer = "", _t.L_AND_G_PATTERNS = _t.L_PATTERNS.map(function (t) {
              return Int32Array.from(t);
            });for (var t = 10; t < 20; t++) {
              var e = _t.L_PATTERNS[t - 10],
                  r = new Int32Array(e.length);for (var _t75 = 0; _t75 < e.length; _t75++) {
                r[_t75] = e[e.length - _t75 - 1];
              }_t.L_AND_G_PATTERNS[t] = r;
            }return _this29;
          }

          _createClass(_t, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = _t.findStartGuardPattern(e),
                  i = null == r ? null : r.get(C.NEED_RESULT_POINT_CALLBACK);if (null != i) {
                var _e48 = new it((n[0] + n[1]) / 2, t);i.foundPossibleResultPoint(_e48);
              }var o = this.decodeMiddle(e, n, this.decodeRowStringBuffer),
                  s = o.rowOffset,
                  a = o.resultString;if (null != i) {
                var _e49 = new it(s, t);i.foundPossibleResultPoint(_e49);
              }var c = this.decodeEnd(e, s);if (null != i) {
                var _e50 = new it((c[0] + c[1]) / 2, t);i.foundPossibleResultPoint(_e50);
              }var l = c[1],
                  u = l + (l - c[0]);if (u >= e.getSize() || !e.isRange(l, u, !1)) throw new D();var d = a.toString();if (d.length < 8) throw new E();if (!_t.checkChecksum(d)) throw new h();var f = (n[1] + n[0]) / 2,
                  g = (c[1] + c[0]) / 2,
                  w = this.getBarcodeFormat(),
                  m = [new it(f, t), new it(g, t)],
                  p = new x(d, null, 0, m, w, new Date().getTime()),
                  A = 0;try {
                var _r51 = St.decodeRow(t, e, c[1]);p.putMetadata(W.UPC_EAN_EXTENSION, _r51.getText()), p.putAllMetadata(_r51.getResultMetadata()), p.addResultPoints(_r51.getResultPoints()), A = _r51.getText().length;
              } catch (t) {}var I = null == r ? null : r.get(C.ALLOWED_EAN_EXTENSIONS);if (null != I) {
                var _t76 = !1;for (var _e51 in I) {
                  if (A.toString() === _e51) {
                    _t76 = !0;break;
                  }
                }if (!_t76) throw new D();
              }return p;
            }
          }, {
            key: "decodeEnd",
            value: function decodeEnd(t, e) {
              return _t.findGuardPattern(t, e, !1, _t.START_END_PATTERN, new Int32Array(_t.START_END_PATTERN.length).fill(0));
            }
          }], [{
            key: "checkChecksum",
            value: function checkChecksum(t) {
              return _t.checkStandardUPCEANChecksum(t);
            }
          }, {
            key: "checkStandardUPCEANChecksum",
            value: function checkStandardUPCEANChecksum(t) {
              var e = t.length;if (0 === e) return !1;var r = parseInt(t.charAt(e - 1), 10);return _t.getStandardUPCEANChecksum(t.substring(0, e - 1)) === r;
            }
          }, {
            key: "getStandardUPCEANChecksum",
            value: function getStandardUPCEANChecksum(t) {
              var e = t.length,
                  r = 0;for (var _n39 = e - 1; _n39 >= 0; _n39 -= 2) {
                var _e52 = t.charAt(_n39).charCodeAt(0) - "0".charCodeAt(0);if (_e52 < 0 || _e52 > 9) throw new E();r += _e52;
              }r *= 3;for (var _n40 = e - 2; _n40 >= 0; _n40 -= 2) {
                var _e53 = t.charAt(_n40).charCodeAt(0) - "0".charCodeAt(0);if (_e53 < 0 || _e53 > 9) throw new E();r += _e53;
              }return (1e3 - r) % 10;
            }
          }]);

          return _t;
        }(Ct);

        var Tt = function (_t77) {
          _inherits(Tt, _t77);

          function Tt() {
            var _this30;

            _classCallCheck(this, Tt);

            (_this30 = _possibleConstructorReturn(this, (Tt.__proto__ || Object.getPrototypeOf(Tt)).call(this)), _this30), _this30.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]);return _this30;
          }

          _createClass(Tt, [{
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r) {
              var n = this.decodeMiddleCounters;n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 0;var i = t.getSize(),
                  o = e[1],
                  s = 0;for (var _e54 = 0; _e54 < 6 && o < i; _e54++) {
                var _i35 = _t.decodeDigit(t, n, o, _t.L_AND_G_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _i35 % 10);var _iteratorNormalCompletion10 = true;
                var _didIteratorError10 = false;
                var _iteratorError10 = undefined;

                try {
                  for (var _iterator10 = n[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {
                    var _t78 = _step10.value;
                    o += _t78;
                  }
                } catch (err) {
                  _didIteratorError10 = true;
                  _iteratorError10 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion10 && _iterator10.return) {
                      _iterator10.return();
                    }
                  } finally {
                    if (_didIteratorError10) {
                      throw _iteratorError10;
                    }
                  }
                }

                _i35 >= 10 && (s |= 1 << 5 - _e54);
              }r = Tt.determineFirstDigit(r, s), o = _t.findGuardPattern(t, o, !0, _t.MIDDLE_PATTERN, new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for (var _e55 = 0; _e55 < 6 && o < i; _e55++) {
                var _e56 = _t.decodeDigit(t, n, o, _t.L_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _e56);var _iteratorNormalCompletion11 = true;
                var _didIteratorError11 = false;
                var _iteratorError11 = undefined;

                try {
                  for (var _iterator11 = n[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {
                    var _t79 = _step11.value;
                    o += _t79;
                  }
                } catch (err) {
                  _didIteratorError11 = true;
                  _iteratorError11 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion11 && _iterator11.return) {
                      _iterator11.return();
                    }
                  } finally {
                    if (_didIteratorError11) {
                      throw _iteratorError11;
                    }
                  }
                }
              }return { rowOffset: o, resultString: r };
            }
          }, {
            key: "getBarcodeFormat",
            value: function getBarcodeFormat() {
              return U.EAN_13;
            }
          }], [{
            key: "determineFirstDigit",
            value: function determineFirstDigit(t, e) {
              for (var r = 0; r < 10; r++) {
                if (e === this.FIRST_DIGIT_ENCODINGS[r]) return String.fromCharCode("0".charCodeAt(0) + r) + t;
              }throw new D();
            }
          }]);

          return Tt;
        }(_t);

        Tt.FIRST_DIGIT_ENCODINGS = [0, 11, 13, 14, 19, 25, 28, 21, 22, 26];
        var yt = function (_t80) {
          _inherits(yt, _t80);

          function yt() {
            var _this31;

            _classCallCheck(this, yt);

            (_this31 = _possibleConstructorReturn(this, (yt.__proto__ || Object.getPrototypeOf(yt)).call(this)), _this31), _this31.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]);return _this31;
          }

          _createClass(yt, [{
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r) {
              var n = this.decodeMiddleCounters;n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 0;var i = t.getSize(),
                  o = e[1];for (var _e57 = 0; _e57 < 4 && o < i; _e57++) {
                var _e58 = _t.decodeDigit(t, n, o, _t.L_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _e58);var _iteratorNormalCompletion12 = true;
                var _didIteratorError12 = false;
                var _iteratorError12 = undefined;

                try {
                  for (var _iterator12 = n[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {
                    var _t81 = _step12.value;
                    o += _t81;
                  }
                } catch (err) {
                  _didIteratorError12 = true;
                  _iteratorError12 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion12 && _iterator12.return) {
                      _iterator12.return();
                    }
                  } finally {
                    if (_didIteratorError12) {
                      throw _iteratorError12;
                    }
                  }
                }
              }o = _t.findGuardPattern(t, o, !0, _t.MIDDLE_PATTERN, new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for (var _e59 = 0; _e59 < 4 && o < i; _e59++) {
                var _e60 = _t.decodeDigit(t, n, o, _t.L_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _e60);var _iteratorNormalCompletion13 = true;
                var _didIteratorError13 = false;
                var _iteratorError13 = undefined;

                try {
                  for (var _iterator13 = n[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {
                    var _t82 = _step13.value;
                    o += _t82;
                  }
                } catch (err) {
                  _didIteratorError13 = true;
                  _iteratorError13 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion13 && _iterator13.return) {
                      _iterator13.return();
                    }
                  } finally {
                    if (_didIteratorError13) {
                      throw _iteratorError13;
                    }
                  }
                }
              }return { rowOffset: o, resultString: r };
            }
          }, {
            key: "getBarcodeFormat",
            value: function getBarcodeFormat() {
              return U.EAN_8;
            }
          }]);

          return yt;
        }(_t);

        var Nt = function (_t83) {
          _inherits(Nt, _t83);

          function Nt() {
            var _this32;

            _classCallCheck(this, Nt);

            (_this32 = _possibleConstructorReturn(this, (Nt.__proto__ || Object.getPrototypeOf(Nt)).apply(this, arguments)), _this32), _this32.ean13Reader = new Tt();return _this32;
          }

          _createClass(Nt, [{
            key: "getBarcodeFormat",
            value: function getBarcodeFormat() {
              return U.UPC_A;
            }
          }, {
            key: "decode",
            value: function decode(t, e) {
              return this.maybeReturnResult(this.ean13Reader.decode(t));
            }
          }, {
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              return this.maybeReturnResult(this.ean13Reader.decodeRow(t, e, r));
            }
          }, {
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r) {
              return this.ean13Reader.decodeMiddle(t, e, r);
            }
          }, {
            key: "maybeReturnResult",
            value: function maybeReturnResult(t) {
              var e = t.getText();if ("0" === e.charAt(0)) {
                var r = new x(e.substring(1), null, null, t.getResultPoints(), U.UPC_A);return null != t.getResultMetadata() && r.putAllMetadata(t.getResultMetadata()), r;
              }throw new D();
            }
          }, {
            key: "reset",
            value: function reset() {
              this.ean13Reader.reset();
            }
          }]);

          return Nt;
        }(_t);

        var Dt = function (_t84) {
          _inherits(Dt, _t84);

          function Dt() {
            var _this33;

            _classCallCheck(this, Dt);

            (_this33 = _possibleConstructorReturn(this, (Dt.__proto__ || Object.getPrototypeOf(Dt)).call(this)), _this33), _this33.decodeMiddleCounters = new Int32Array(4);return _this33;
          }

          _createClass(Dt, [{
            key: "decodeMiddle",
            value: function decodeMiddle(t, e, r) {
              var n = this.decodeMiddleCounters.map(function (t) {
                return t;
              });n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 0;var i = t.getSize();var o = e[1],
                  s = 0;for (var _e61 = 0; _e61 < 6 && o < i; _e61++) {
                var _i36 = Dt.decodeDigit(t, n, o, Dt.L_AND_G_PATTERNS);r += String.fromCharCode("0".charCodeAt(0) + _i36 % 10);var _iteratorNormalCompletion14 = true;
                var _didIteratorError14 = false;
                var _iteratorError14 = undefined;

                try {
                  for (var _iterator14 = n[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {
                    var _t85 = _step14.value;
                    o += _t85;
                  }
                } catch (err) {
                  _didIteratorError14 = true;
                  _iteratorError14 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion14 && _iterator14.return) {
                      _iterator14.return();
                    }
                  } finally {
                    if (_didIteratorError14) {
                      throw _iteratorError14;
                    }
                  }
                }

                _i36 >= 10 && (s |= 1 << 5 - _e61);
              }return { rowOffset: o, resultString: Dt.determineNumSysAndCheckDigit(r, s) };
            }
          }, {
            key: "decodeEnd",
            value: function decodeEnd(t, e) {
              return Dt.findGuardPatternWithoutCounters(t, e, !0, Dt.MIDDLE_END_PATTERN);
            }
          }, {
            key: "checkChecksum",
            value: function checkChecksum(t) {
              return _t.checkChecksum(Dt.convertUPCEtoUPCA(t));
            }
          }, {
            key: "getBarcodeFormat",
            value: function getBarcodeFormat() {
              return U.UPC_E;
            }
          }], [{
            key: "determineNumSysAndCheckDigit",
            value: function determineNumSysAndCheckDigit(t, e) {
              for (var r = 0; r <= 1; r++) {
                for (var _n41 = 0; _n41 < 10; _n41++) {
                  if (e === this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][_n41]) return String.fromCharCode("0".charCodeAt(0) + r) + t + String.fromCharCode("0".charCodeAt(0) + _n41);
                }
              }throw D.getNotFoundInstance();
            }
          }, {
            key: "convertUPCEtoUPCA",
            value: function convertUPCEtoUPCA(t) {
              var e = t.slice(1, 7).split("").map(function (t) {
                return t.charCodeAt(0);
              }),
                  r = new y();r.append(t.charAt(0));var n = e[5];switch (n) {case 0:case 1:case 2:
                  r.appendChars(e, 0, 2), r.append(n), r.append("0000"), r.appendChars(e, 2, 3);break;case 3:
                  r.appendChars(e, 0, 3), r.append("00000"), r.appendChars(e, 3, 2);break;case 4:
                  r.appendChars(e, 0, 4), r.append("00000"), r.append(e[4]);break;default:
                  r.appendChars(e, 0, 5), r.append("0000"), r.append(n);}return t.length >= 8 && r.append(t.charAt(7)), r.toString();
            }
          }]);

          return Dt;
        }(_t);

        Dt.MIDDLE_END_PATTERN = Int32Array.from([1, 1, 1, 1, 1, 1]), Dt.NUMSYS_AND_CHECK_DIGIT_PATTERNS = [Int32Array.from([56, 52, 50, 49, 44, 38, 35, 42, 41, 37]), Int32Array.from([7, 11, 13, 14, 19, 25, 28, 21, 22, 26])];
        var Mt = function (_wt5) {
          _inherits(Mt, _wt5);

          function Mt(t) {
            _classCallCheck(this, Mt);

            var _this34 = _possibleConstructorReturn(this, (Mt.__proto__ || Object.getPrototypeOf(Mt)).call(this));

            var r = null == t ? null : t.get(C.POSSIBLE_FORMATS),
                n = [];e(r) ? (n.push(new Tt()), n.push(new Nt()), n.push(new yt()), n.push(new Dt())) : (r.indexOf(U.EAN_13) > -1 && n.push(new Tt()), r.indexOf(U.UPC_A) > -1 && n.push(new Nt()), r.indexOf(U.EAN_8) > -1 && n.push(new yt()), r.indexOf(U.UPC_E) > -1 && n.push(new Dt())), _this34.readers = n;return _this34;
          }

          _createClass(Mt, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var _iteratorNormalCompletion15 = true;
              var _didIteratorError15 = false;
              var _iteratorError15 = undefined;

              try {
                for (var _iterator15 = this.readers[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {
                  var _n42 = _step15.value;
                  try {
                    var _i37 = _n42.decodeRow(t, e, r),
                        _o28 = _i37.getBarcodeFormat() === U.EAN_13 && "0" === _i37.getText().charAt(0),
                        _s35 = null == r ? null : r.get(C.POSSIBLE_FORMATS),
                        _a15 = null == _s35 || _s35.includes(U.UPC_A);if (_o28 && _a15) {
                      var _t86 = _i37.getRawBytes(),
                          _e62 = new x(_i37.getText().substring(1), _t86, _t86 ? _t86.length : null, _i37.getResultPoints(), U.UPC_A);return _e62.putAllMetadata(_i37.getResultMetadata()), _e62;
                    }return _i37;
                  } catch (t) {}
                }
              } catch (err) {
                _didIteratorError15 = true;
                _iteratorError15 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion15 && _iterator15.return) {
                    _iterator15.return();
                  }
                } finally {
                  if (_didIteratorError15) {
                    throw _iteratorError15;
                  }
                }
              }

              throw new D();
            }
          }, {
            key: "reset",
            value: function reset() {
              var _iteratorNormalCompletion16 = true;
              var _didIteratorError16 = false;
              var _iteratorError16 = undefined;

              try {
                for (var _iterator16 = this.readers[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {
                  var t = _step16.value;
                  t.reset();
                }
              } catch (err) {
                _didIteratorError16 = true;
                _iteratorError16 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion16 && _iterator16.return) {
                    _iterator16.return();
                  }
                } finally {
                  if (_didIteratorError16) {
                    throw _iteratorError16;
                  }
                }
              }
            }
          }]);

          return Mt;
        }(wt);

        var Rt = function (_wt6) {
          _inherits(Rt, _wt6);

          function Rt() {
            var _this35;

            _classCallCheck(this, Rt);

            (_this35 = _possibleConstructorReturn(this, (Rt.__proto__ || Object.getPrototypeOf(Rt)).call(this)), _this35), _this35.decodeFinderCounters = new Int32Array(4), _this35.dataCharacterCounters = new Int32Array(8), _this35.oddRoundingErrors = new Array(4), _this35.evenRoundingErrors = new Array(4), _this35.oddCounts = new Array(_this35.dataCharacterCounters.length / 2), _this35.evenCounts = new Array(_this35.dataCharacterCounters.length / 2);return _this35;
          }

          _createClass(Rt, [{
            key: "getDecodeFinderCounters",
            value: function getDecodeFinderCounters() {
              return this.decodeFinderCounters;
            }
          }, {
            key: "getDataCharacterCounters",
            value: function getDataCharacterCounters() {
              return this.dataCharacterCounters;
            }
          }, {
            key: "getOddRoundingErrors",
            value: function getOddRoundingErrors() {
              return this.oddRoundingErrors;
            }
          }, {
            key: "getEvenRoundingErrors",
            value: function getEvenRoundingErrors() {
              return this.evenRoundingErrors;
            }
          }, {
            key: "getOddCounts",
            value: function getOddCounts() {
              return this.oddCounts;
            }
          }, {
            key: "getEvenCounts",
            value: function getEvenCounts() {
              return this.evenCounts;
            }
          }, {
            key: "parseFinderValue",
            value: function parseFinderValue(t, e) {
              for (var r = 0; r < e.length; r++) {
                if (wt.patternMatchVariance(t, e[r], Rt.MAX_INDIVIDUAL_VARIANCE) < Rt.MAX_AVG_VARIANCE) return r;
              }throw new D();
            }
          }], [{
            key: "count",
            value: function count(t) {
              return rt.sum(new Int32Array(t));
            }
          }, {
            key: "increment",
            value: function increment(t, e) {
              var r = 0,
                  n = e[0];for (var _i38 = 1; _i38 < t.length; _i38++) {
                e[_i38] > n && (n = e[_i38], r = _i38);
              }t[r]++;
            }
          }, {
            key: "decrement",
            value: function decrement(t, e) {
              var r = 0,
                  n = e[0];for (var _i39 = 1; _i39 < t.length; _i39++) {
                e[_i39] < n && (n = e[_i39], r = _i39);
              }t[r]--;
            }
          }, {
            key: "isFinderPattern",
            value: function isFinderPattern(t) {
              var e = t[0] + t[1],
                  r = e / (e + t[2] + t[3]);if (r >= Rt.MIN_FINDER_PATTERN_RATIO && r <= Rt.MAX_FINDER_PATTERN_RATIO) {
                var _e63 = Number.MAX_SAFE_INTEGER,
                    _r52 = Number.MIN_SAFE_INTEGER;var _iteratorNormalCompletion17 = true;
                var _didIteratorError17 = false;
                var _iteratorError17 = undefined;

                try {
                  for (var _iterator17 = t[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {
                    var _n43 = _step17.value;
                    _n43 > _r52 && (_r52 = _n43), _n43 < _e63 && (_e63 = _n43);
                  }
                } catch (err) {
                  _didIteratorError17 = true;
                  _iteratorError17 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion17 && _iterator17.return) {
                      _iterator17.return();
                    }
                  } finally {
                    if (_didIteratorError17) {
                      throw _iteratorError17;
                    }
                  }
                }

                return _r52 < 10 * _e63;
              }return !1;
            }
          }]);

          return Rt;
        }(wt);

        Rt.MAX_AVG_VARIANCE = .2, Rt.MAX_INDIVIDUAL_VARIANCE = .45, Rt.MIN_FINDER_PATTERN_RATIO = 9.5 / 12, Rt.MAX_FINDER_PATTERN_RATIO = 12.5 / 14;
        var Ot = function () {
          function Ot(t, e) {
            _classCallCheck(this, Ot);

            this.value = t, this.checksumPortion = e;
          }

          _createClass(Ot, [{
            key: "getValue",
            value: function getValue() {
              return this.value;
            }
          }, {
            key: "getChecksumPortion",
            value: function getChecksumPortion() {
              return this.checksumPortion;
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.value + "(" + this.checksumPortion + ")";
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof Ot)) return !1;var e = t;return this.value === e.value && this.checksumPortion === e.checksumPortion;
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              return this.value ^ this.checksumPortion;
            }
          }]);

          return Ot;
        }();

        var bt = function () {
          function bt(t, e, r, n, i) {
            _classCallCheck(this, bt);

            this.value = t, this.startEnd = e, this.value = t, this.startEnd = e, this.resultPoints = new Array(), this.resultPoints.push(new it(r, i)), this.resultPoints.push(new it(n, i));
          }

          _createClass(bt, [{
            key: "getValue",
            value: function getValue() {
              return this.value;
            }
          }, {
            key: "getStartEnd",
            value: function getStartEnd() {
              return this.startEnd;
            }
          }, {
            key: "getResultPoints",
            value: function getResultPoints() {
              return this.resultPoints;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof bt)) return !1;var e = t;return this.value === e.value;
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              return this.value;
            }
          }]);

          return bt;
        }();

        var Bt = function () {
          function Bt() {
            _classCallCheck(this, Bt);
          }

          _createClass(Bt, null, [{
            key: "getRSSvalue",
            value: function getRSSvalue(t, e, r) {
              var n = 0;var _iteratorNormalCompletion18 = true;
              var _didIteratorError18 = false;
              var _iteratorError18 = undefined;

              try {
                for (var _iterator18 = t[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {
                  var _e64 = _step18.value;
                  n += _e64;
                }
              } catch (err) {
                _didIteratorError18 = true;
                _iteratorError18 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion18 && _iterator18.return) {
                    _iterator18.return();
                  }
                } finally {
                  if (_didIteratorError18) {
                    throw _iteratorError18;
                  }
                }
              }

              var i = 0,
                  o = 0,
                  s = t.length;for (var _a16 = 0; _a16 < s - 1; _a16++) {
                var _c11 = void 0;for (_c11 = 1, o |= 1 << _a16; _c11 < t[_a16]; _c11++, o &= ~(1 << _a16)) {
                  var _t87 = Bt.combins(n - _c11 - 1, s - _a16 - 2);if (r && 0 === o && n - _c11 - (s - _a16 - 1) >= s - _a16 - 1 && (_t87 -= Bt.combins(n - _c11 - (s - _a16), s - _a16 - 2)), s - _a16 - 1 > 1) {
                    var _r53 = 0;for (var _t88 = n - _c11 - (s - _a16 - 2); _t88 > e; _t88--) {
                      _r53 += Bt.combins(n - _c11 - _t88 - 1, s - _a16 - 3);
                    }_t87 -= _r53 * (s - 1 - _a16);
                  } else n - _c11 > e && _t87--;i += _t87;
                }n -= _c11;
              }return i;
            }
          }, {
            key: "combins",
            value: function combins(t, e) {
              var r = void 0,
                  n = void 0;t - e > e ? (n = e, r = t - e) : (n = t - e, r = e);var i = 1,
                  o = 1;for (var _e65 = t; _e65 > r; _e65--) {
                i *= _e65, o <= n && (i /= o, o++);
              }for (; o <= n;) {
                i /= o, o++;
              }return i;
            }
          }]);

          return Bt;
        }();

        var Lt = function () {
          function Lt() {
            _classCallCheck(this, Lt);
          }

          _createClass(Lt, null, [{
            key: "buildBitArray",
            value: function buildBitArray(t) {
              var e = 2 * t.length - 1;null == t[t.length - 1].getRightChar() && (e -= 1);var r = new p(12 * e),
                  n = 0,
                  i = t[0].getRightChar().getValue();for (var _t89 = 11; _t89 >= 0; --_t89) {
                0 != (i & 1 << _t89) && r.set(n), n++;
              }for (var _e66 = 1; _e66 < t.length; ++_e66) {
                var _i40 = t[_e66],
                    _o29 = _i40.getLeftChar().getValue();for (var _t90 = 11; _t90 >= 0; --_t90) {
                  0 != (_o29 & 1 << _t90) && r.set(n), n++;
                }if (null != _i40.getRightChar()) {
                  var _t91 = _i40.getRightChar().getValue();for (var _e67 = 11; _e67 >= 0; --_e67) {
                    0 != (_t91 & 1 << _e67) && r.set(n), n++;
                  }
                }
              }return r;
            }
          }]);

          return Lt;
        }();

        var Pt = function () {
          function Pt(t, e) {
            _classCallCheck(this, Pt);

            e ? this.decodedInformation = null : (this.finished = t, this.decodedInformation = e);
          }

          _createClass(Pt, [{
            key: "getDecodedInformation",
            value: function getDecodedInformation() {
              return this.decodedInformation;
            }
          }, {
            key: "isFinished",
            value: function isFinished() {
              return this.finished;
            }
          }]);

          return Pt;
        }();

        var vt = function () {
          function vt(t) {
            _classCallCheck(this, vt);

            this.newPosition = t;
          }

          _createClass(vt, [{
            key: "getNewPosition",
            value: function getNewPosition() {
              return this.newPosition;
            }
          }]);

          return vt;
        }();

        var Ft = function (_vt) {
          _inherits(Ft, _vt);

          function Ft(t, e) {
            var _this36;

            _classCallCheck(this, Ft);

            (_this36 = _possibleConstructorReturn(this, (Ft.__proto__ || Object.getPrototypeOf(Ft)).call(this, t)), _this36), _this36.value = e;return _this36;
          }

          _createClass(Ft, [{
            key: "getValue",
            value: function getValue() {
              return this.value;
            }
          }, {
            key: "isFNC1",
            value: function isFNC1() {
              return this.value === Ft.FNC1;
            }
          }]);

          return Ft;
        }(vt);

        Ft.FNC1 = "$";
        var xt = function (_vt2) {
          _inherits(xt, _vt2);

          function xt(t, e, r) {
            var _this37;

            _classCallCheck(this, xt);

            (_this37 = _possibleConstructorReturn(this, (xt.__proto__ || Object.getPrototypeOf(xt)).call(this, t)), _this37), r ? (_this37.remaining = !0, _this37.remainingValue = _this37.remainingValue) : (_this37.remaining = !1, _this37.remainingValue = 0), _this37.newString = e;return _this37;
          }

          _createClass(xt, [{
            key: "getNewString",
            value: function getNewString() {
              return this.newString;
            }
          }, {
            key: "isRemaining",
            value: function isRemaining() {
              return this.remaining;
            }
          }, {
            key: "getRemainingValue",
            value: function getRemainingValue() {
              return this.remainingValue;
            }
          }]);

          return xt;
        }(vt);

        var kt = function (_vt3) {
          _inherits(kt, _vt3);

          function kt(t, e, r) {
            var _this38;

            _classCallCheck(this, kt);

            if ((_this38 = _possibleConstructorReturn(this, (kt.__proto__ || Object.getPrototypeOf(kt)).call(this, t)), _this38), e < 0 || e > 10 || r < 0 || r > 10) throw new E();_this38.firstDigit = e, _this38.secondDigit = r;return _possibleConstructorReturn(_this38);
          }

          _createClass(kt, [{
            key: "getFirstDigit",
            value: function getFirstDigit() {
              return this.firstDigit;
            }
          }, {
            key: "getSecondDigit",
            value: function getSecondDigit() {
              return this.secondDigit;
            }
          }, {
            key: "getValue",
            value: function getValue() {
              return 10 * this.firstDigit + this.secondDigit;
            }
          }, {
            key: "isFirstDigitFNC1",
            value: function isFirstDigitFNC1() {
              return this.firstDigit === kt.FNC1;
            }
          }, {
            key: "isSecondDigitFNC1",
            value: function isSecondDigitFNC1() {
              return this.secondDigit === kt.FNC1;
            }
          }, {
            key: "isAnyFNC1",
            value: function isAnyFNC1() {
              return this.firstDigit === kt.FNC1 || this.secondDigit === kt.FNC1;
            }
          }]);

          return kt;
        }(vt);

        kt.FNC1 = 10;
        var Ut = function () {
          function Ut() {
            _classCallCheck(this, Ut);
          }

          _createClass(Ut, null, [{
            key: "parseFieldsInGeneralPurpose",
            value: function parseFieldsInGeneralPurpose(t) {
              if (!t) return null;if (t.length < 2) throw new D();var e = t.substring(0, 2);var _iteratorNormalCompletion19 = true;
              var _didIteratorError19 = false;
              var _iteratorError19 = undefined;

              try {
                for (var _iterator19 = Ut.TWO_DIGIT_DATA_LENGTH[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {
                  var _r54 = _step19.value;
                  if (_r54[0] === e) return _r54[1] === Ut.VARIABLE_LENGTH ? Ut.processVariableAI(2, _r54[2], t) : Ut.processFixedAI(2, _r54[1], t);
                }
              } catch (err) {
                _didIteratorError19 = true;
                _iteratorError19 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion19 && _iterator19.return) {
                    _iterator19.return();
                  }
                } finally {
                  if (_didIteratorError19) {
                    throw _iteratorError19;
                  }
                }
              }

              if (t.length < 3) throw new D();var r = t.substring(0, 3);var _iteratorNormalCompletion20 = true;
              var _didIteratorError20 = false;
              var _iteratorError20 = undefined;

              try {
                for (var _iterator20 = Ut.THREE_DIGIT_DATA_LENGTH[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {
                  var _e68 = _step20.value;
                  if (_e68[0] === r) return _e68[1] === Ut.VARIABLE_LENGTH ? Ut.processVariableAI(3, _e68[2], t) : Ut.processFixedAI(3, _e68[1], t);
                }
              } catch (err) {
                _didIteratorError20 = true;
                _iteratorError20 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion20 && _iterator20.return) {
                    _iterator20.return();
                  }
                } finally {
                  if (_didIteratorError20) {
                    throw _iteratorError20;
                  }
                }
              }

              var _iteratorNormalCompletion21 = true;
              var _didIteratorError21 = false;
              var _iteratorError21 = undefined;

              try {
                for (var _iterator21 = Ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {
                  var _e69 = _step21.value;
                  if (_e69[0] === r) return _e69[1] === Ut.VARIABLE_LENGTH ? Ut.processVariableAI(4, _e69[2], t) : Ut.processFixedAI(4, _e69[1], t);
                }
              } catch (err) {
                _didIteratorError21 = true;
                _iteratorError21 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion21 && _iterator21.return) {
                    _iterator21.return();
                  }
                } finally {
                  if (_didIteratorError21) {
                    throw _iteratorError21;
                  }
                }
              }

              if (t.length < 4) throw new D();var n = t.substring(0, 4);var _iteratorNormalCompletion22 = true;
              var _didIteratorError22 = false;
              var _iteratorError22 = undefined;

              try {
                for (var _iterator22 = Ut.FOUR_DIGIT_DATA_LENGTH[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {
                  var _e70 = _step22.value;
                  if (_e70[0] === n) return _e70[1] === Ut.VARIABLE_LENGTH ? Ut.processVariableAI(4, _e70[2], t) : Ut.processFixedAI(4, _e70[1], t);
                }
              } catch (err) {
                _didIteratorError22 = true;
                _iteratorError22 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion22 && _iterator22.return) {
                    _iterator22.return();
                  }
                } finally {
                  if (_didIteratorError22) {
                    throw _iteratorError22;
                  }
                }
              }

              throw new D();
            }
          }, {
            key: "processFixedAI",
            value: function processFixedAI(t, e, r) {
              if (r.length < t) throw new D();var n = r.substring(0, t);if (r.length < t + e) throw new D();var i = r.substring(t, t + e),
                  o = r.substring(t + e),
                  s = "(" + n + ")" + i,
                  a = Ut.parseFieldsInGeneralPurpose(o);return null == a ? s : s + a;
            }
          }, {
            key: "processVariableAI",
            value: function processVariableAI(t, e, r) {
              var n = void 0,
                  i = r.substring(0, t);n = r.length < t + e ? r.length : t + e;var o = r.substring(t, n),
                  s = r.substring(n),
                  a = "(" + i + ")" + o,
                  c = Ut.parseFieldsInGeneralPurpose(s);return null == c ? a : a + c;
            }
          }]);

          return Ut;
        }();

        Ut.VARIABLE_LENGTH = [], Ut.TWO_DIGIT_DATA_LENGTH = [["00", 18], ["01", 14], ["02", 14], ["10", Ut.VARIABLE_LENGTH, 20], ["11", 6], ["12", 6], ["13", 6], ["15", 6], ["17", 6], ["20", 2], ["21", Ut.VARIABLE_LENGTH, 20], ["22", Ut.VARIABLE_LENGTH, 29], ["30", Ut.VARIABLE_LENGTH, 8], ["37", Ut.VARIABLE_LENGTH, 8], ["90", Ut.VARIABLE_LENGTH, 30], ["91", Ut.VARIABLE_LENGTH, 30], ["92", Ut.VARIABLE_LENGTH, 30], ["93", Ut.VARIABLE_LENGTH, 30], ["94", Ut.VARIABLE_LENGTH, 30], ["95", Ut.VARIABLE_LENGTH, 30], ["96", Ut.VARIABLE_LENGTH, 30], ["97", Ut.VARIABLE_LENGTH, 3], ["98", Ut.VARIABLE_LENGTH, 30], ["99", Ut.VARIABLE_LENGTH, 30]], Ut.THREE_DIGIT_DATA_LENGTH = [["240", Ut.VARIABLE_LENGTH, 30], ["241", Ut.VARIABLE_LENGTH, 30], ["242", Ut.VARIABLE_LENGTH, 6], ["250", Ut.VARIABLE_LENGTH, 30], ["251", Ut.VARIABLE_LENGTH, 30], ["253", Ut.VARIABLE_LENGTH, 17], ["254", Ut.VARIABLE_LENGTH, 20], ["400", Ut.VARIABLE_LENGTH, 30], ["401", Ut.VARIABLE_LENGTH, 30], ["402", 17], ["403", Ut.VARIABLE_LENGTH, 30], ["410", 13], ["411", 13], ["412", 13], ["413", 13], ["414", 13], ["420", Ut.VARIABLE_LENGTH, 20], ["421", Ut.VARIABLE_LENGTH, 15], ["422", 3], ["423", Ut.VARIABLE_LENGTH, 15], ["424", 3], ["425", 3], ["426", 3]], Ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH = [["310", 6], ["311", 6], ["312", 6], ["313", 6], ["314", 6], ["315", 6], ["316", 6], ["320", 6], ["321", 6], ["322", 6], ["323", 6], ["324", 6], ["325", 6], ["326", 6], ["327", 6], ["328", 6], ["329", 6], ["330", 6], ["331", 6], ["332", 6], ["333", 6], ["334", 6], ["335", 6], ["336", 6], ["340", 6], ["341", 6], ["342", 6], ["343", 6], ["344", 6], ["345", 6], ["346", 6], ["347", 6], ["348", 6], ["349", 6], ["350", 6], ["351", 6], ["352", 6], ["353", 6], ["354", 6], ["355", 6], ["356", 6], ["357", 6], ["360", 6], ["361", 6], ["362", 6], ["363", 6], ["364", 6], ["365", 6], ["366", 6], ["367", 6], ["368", 6], ["369", 6], ["390", Ut.VARIABLE_LENGTH, 15], ["391", Ut.VARIABLE_LENGTH, 18], ["392", Ut.VARIABLE_LENGTH, 15], ["393", Ut.VARIABLE_LENGTH, 18], ["703", Ut.VARIABLE_LENGTH, 30]], Ut.FOUR_DIGIT_DATA_LENGTH = [["7001", 13], ["7002", Ut.VARIABLE_LENGTH, 30], ["7003", 10], ["8001", 14], ["8002", Ut.VARIABLE_LENGTH, 20], ["8003", Ut.VARIABLE_LENGTH, 30], ["8004", Ut.VARIABLE_LENGTH, 30], ["8005", 6], ["8006", 18], ["8007", Ut.VARIABLE_LENGTH, 30], ["8008", Ut.VARIABLE_LENGTH, 12], ["8018", 18], ["8020", Ut.VARIABLE_LENGTH, 25], ["8100", 6], ["8101", 10], ["8102", 2], ["8110", Ut.VARIABLE_LENGTH, 70], ["8200", Ut.VARIABLE_LENGTH, 70]];
        var Ht = function () {
          function Ht(t) {
            _classCallCheck(this, Ht);

            this.buffer = new y(), this.information = t;
          }

          _createClass(Ht, [{
            key: "decodeAllCodes",
            value: function decodeAllCodes(t, e) {
              var r = e,
                  n = null;for (;;) {
                var _e71 = this.decodeGeneralPurposeField(r, n),
                    _i41 = Ut.parseFieldsInGeneralPurpose(_e71.getNewString());if (null != _i41 && t.append(_i41), n = _e71.isRemaining() ? "" + _e71.getRemainingValue() : null, r === _e71.getNewPosition()) break;r = _e71.getNewPosition();
              }return t.toString();
            }
          }, {
            key: "isStillNumeric",
            value: function isStillNumeric(t) {
              if (t + 7 > this.information.getSize()) return t + 4 <= this.information.getSize();for (var _e72 = t; _e72 < t + 3; ++_e72) {
                if (this.information.get(_e72)) return !0;
              }return this.information.get(t + 3);
            }
          }, {
            key: "decodeNumeric",
            value: function decodeNumeric(t) {
              if (t + 7 > this.information.getSize()) {
                var _e73 = this.extractNumericValueFromBitArray(t, 4);return new kt(this.information.getSize(), 0 === _e73 ? kt.FNC1 : _e73 - 1, kt.FNC1);
              }var e = this.extractNumericValueFromBitArray(t, 7);return new kt(t + 7, (e - 8) / 11, (e - 8) % 11);
            }
          }, {
            key: "extractNumericValueFromBitArray",
            value: function extractNumericValueFromBitArray(t, e) {
              return Ht.extractNumericValueFromBitArray(this.information, t, e);
            }
          }, {
            key: "decodeGeneralPurposeField",
            value: function decodeGeneralPurposeField(t, e) {
              this.buffer.setLengthToZero(), null != e && this.buffer.append(e), this.current.setPosition(t);var r = this.parseBlocks();return null != r && r.isRemaining() ? new xt(this.current.getPosition(), this.buffer.toString(), r.getRemainingValue()) : new xt(this.current.getPosition(), this.buffer.toString());
            }
          }, {
            key: "parseBlocks",
            value: function parseBlocks() {
              var t = void 0,
                  e = void 0;do {
                var r = this.current.getPosition();if (this.current.isAlpha() ? (e = this.parseAlphaBlock(), t = e.isFinished()) : this.current.isIsoIec646() ? (e = this.parseIsoIec646Block(), t = e.isFinished()) : (e = this.parseNumericBlock(), t = e.isFinished()), r === this.current.getPosition() && !t) break;
              } while (!t);return e.getDecodedInformation();
            }
          }, {
            key: "parseNumericBlock",
            value: function parseNumericBlock() {
              for (; this.isStillNumeric(this.current.getPosition());) {
                var t = this.decodeNumeric(this.current.getPosition());if (this.current.setPosition(t.getNewPosition()), t.isFirstDigitFNC1()) {
                  var _e74 = void 0;return _e74 = t.isSecondDigitFNC1() ? new xt(this.current.getPosition(), this.buffer.toString()) : new xt(this.current.getPosition(), this.buffer.toString(), t.getSecondDigit()), new Pt(!0, _e74);
                }if (this.buffer.append(t.getFirstDigit()), t.isSecondDigitFNC1()) {
                  var _t92 = new xt(this.current.getPosition(), this.buffer.toString());return new Pt(!0, _t92);
                }this.buffer.append(t.getSecondDigit());
              }return this.isNumericToAlphaNumericLatch(this.current.getPosition()) && (this.current.setAlpha(), this.current.incrementPosition(4)), new Pt(!1);
            }
          }, {
            key: "parseIsoIec646Block",
            value: function parseIsoIec646Block() {
              for (; this.isStillIsoIec646(this.current.getPosition());) {
                var t = this.decodeIsoIec646(this.current.getPosition());if (this.current.setPosition(t.getNewPosition()), t.isFNC1()) {
                  var _t93 = new xt(this.current.getPosition(), this.buffer.toString());return new Pt(!0, _t93);
                }this.buffer.append(t.getValue());
              }return this.isAlphaOr646ToNumericLatch(this.current.getPosition()) ? (this.current.incrementPosition(3), this.current.setNumeric()) : this.isAlphaTo646ToAlphaLatch(this.current.getPosition()) && (this.current.getPosition() + 5 < this.information.getSize() ? this.current.incrementPosition(5) : this.current.setPosition(this.information.getSize()), this.current.setAlpha()), new Pt(!1);
            }
          }, {
            key: "parseAlphaBlock",
            value: function parseAlphaBlock() {
              for (; this.isStillAlpha(this.current.getPosition());) {
                var t = this.decodeAlphanumeric(this.current.getPosition());if (this.current.setPosition(t.getNewPosition()), t.isFNC1()) {
                  var _t94 = new xt(this.current.getPosition(), this.buffer.toString());return new Pt(!0, _t94);
                }this.buffer.append(t.getValue());
              }return this.isAlphaOr646ToNumericLatch(this.current.getPosition()) ? (this.current.incrementPosition(3), this.current.setNumeric()) : this.isAlphaTo646ToAlphaLatch(this.current.getPosition()) && (this.current.getPosition() + 5 < this.information.getSize() ? this.current.incrementPosition(5) : this.current.setPosition(this.information.getSize()), this.current.setIsoIec646()), new Pt(!1);
            }
          }, {
            key: "isStillIsoIec646",
            value: function isStillIsoIec646(t) {
              if (t + 5 > this.information.getSize()) return !1;var e = this.extractNumericValueFromBitArray(t, 5);if (e >= 5 && e < 16) return !0;if (t + 7 > this.information.getSize()) return !1;var r = this.extractNumericValueFromBitArray(t, 7);if (r >= 64 && r < 116) return !0;if (t + 8 > this.information.getSize()) return !1;var n = this.extractNumericValueFromBitArray(t, 8);return n >= 232 && n < 253;
            }
          }, {
            key: "decodeIsoIec646",
            value: function decodeIsoIec646(t) {
              var e = this.extractNumericValueFromBitArray(t, 5);if (15 === e) return new Ft(t + 5, Ft.FNC1);if (e >= 5 && e < 15) return new Ft(t + 5, "0" + (e - 5));var r = void 0,
                  n = this.extractNumericValueFromBitArray(t, 7);if (n >= 64 && n < 90) return new Ft(t + 7, "" + (n + 1));if (n >= 90 && n < 116) return new Ft(t + 7, "" + (n + 7));switch (this.extractNumericValueFromBitArray(t, 8)) {case 232:
                  r = "!";break;case 233:
                  r = '"';break;case 234:
                  r = "%";break;case 235:
                  r = "&";break;case 236:
                  r = "'";break;case 237:
                  r = "(";break;case 238:
                  r = ")";break;case 239:
                  r = "*";break;case 240:
                  r = "+";break;case 241:
                  r = ",";break;case 242:
                  r = "-";break;case 243:
                  r = ".";break;case 244:
                  r = "/";break;case 245:
                  r = ":";break;case 246:
                  r = ";";break;case 247:
                  r = "<";break;case 248:
                  r = "=";break;case 249:
                  r = ">";break;case 250:
                  r = "?";break;case 251:
                  r = "_";break;case 252:
                  r = " ";break;default:
                  throw new E();}return new Ft(t + 8, r);
            }
          }, {
            key: "isStillAlpha",
            value: function isStillAlpha(t) {
              if (t + 5 > this.information.getSize()) return !1;var e = this.extractNumericValueFromBitArray(t, 5);if (e >= 5 && e < 16) return !0;if (t + 6 > this.information.getSize()) return !1;var r = this.extractNumericValueFromBitArray(t, 6);return r >= 16 && r < 63;
            }
          }, {
            key: "decodeAlphanumeric",
            value: function decodeAlphanumeric(t) {
              var e = this.extractNumericValueFromBitArray(t, 5);if (15 === e) return new Ft(t + 5, Ft.FNC1);if (e >= 5 && e < 15) return new Ft(t + 5, "0" + (e - 5));var r = void 0,
                  n = this.extractNumericValueFromBitArray(t, 6);if (n >= 32 && n < 58) return new Ft(t + 6, "" + (n + 33));switch (n) {case 58:
                  r = "*";break;case 59:
                  r = ",";break;case 60:
                  r = "-";break;case 61:
                  r = ".";break;case 62:
                  r = "/";break;default:
                  throw new $("Decoding invalid alphanumeric value: " + n);}return new Ft(t + 6, r);
            }
          }, {
            key: "isAlphaTo646ToAlphaLatch",
            value: function isAlphaTo646ToAlphaLatch(t) {
              if (t + 1 > this.information.getSize()) return !1;for (var _e75 = 0; _e75 < 5 && _e75 + t < this.information.getSize(); ++_e75) {
                if (2 === _e75) {
                  if (!this.information.get(t + 2)) return !1;
                } else if (this.information.get(t + _e75)) return !1;
              }return !0;
            }
          }, {
            key: "isAlphaOr646ToNumericLatch",
            value: function isAlphaOr646ToNumericLatch(t) {
              if (t + 3 > this.information.getSize()) return !1;for (var _e76 = t; _e76 < t + 3; ++_e76) {
                if (this.information.get(_e76)) return !1;
              }return !0;
            }
          }, {
            key: "isNumericToAlphaNumericLatch",
            value: function isNumericToAlphaNumericLatch(t) {
              if (t + 1 > this.information.getSize()) return !1;for (var _e77 = 0; _e77 < 4 && _e77 + t < this.information.getSize(); ++_e77) {
                if (this.information.get(t + _e77)) return !1;
              }return !0;
            }
          }], [{
            key: "extractNumericValueFromBitArray",
            value: function extractNumericValueFromBitArray(t, e, r) {
              var n = 0;for (var _i42 = 0; _i42 < r; ++_i42) {
                t.get(e + _i42) && (n |= 1 << r - _i42 - 1);
              }return n;
            }
          }]);

          return Ht;
        }();

        var Vt = function () {
          function Vt(t) {
            _classCallCheck(this, Vt);

            this.information = t, this.generalDecoder = new Ht(t);
          }

          _createClass(Vt, [{
            key: "getInformation",
            value: function getInformation() {
              return this.information;
            }
          }, {
            key: "getGeneralDecoder",
            value: function getGeneralDecoder() {
              return this.generalDecoder;
            }
          }]);

          return Vt;
        }();

        var zt = function (_Vt) {
          _inherits(zt, _Vt);

          function zt(t) {
            _classCallCheck(this, zt);

            return _possibleConstructorReturn(this, (zt.__proto__ || Object.getPrototypeOf(zt)).call(this, t));
          }

          _createClass(zt, [{
            key: "encodeCompressedGtin",
            value: function encodeCompressedGtin(t, e) {
              t.append("(01)");var r = t.length();t.append("9"), this.encodeCompressedGtinWithoutAI(t, e, r);
            }
          }, {
            key: "encodeCompressedGtinWithoutAI",
            value: function encodeCompressedGtinWithoutAI(t, e, r) {
              for (var _r55 = 0; _r55 < 4; ++_r55) {
                var _n44 = this.getGeneralDecoder().extractNumericValueFromBitArray(e + 10 * _r55, 10);_n44 / 100 == 0 && t.append("0"), _n44 / 10 == 0 && t.append("0"), t.append(_n44);
              }zt.appendCheckDigit(t, r);
            }
          }], [{
            key: "appendCheckDigit",
            value: function appendCheckDigit(t, e) {
              var r = 0;for (var _n45 = 0; _n45 < 13; _n45++) {
                var _i43 = t.charAt(_n45 + e).charCodeAt(0) - "0".charCodeAt(0);r += 0 == (1 & _n45) ? 3 * _i43 : _i43;
              }r = 10 - r % 10, 10 === r && (r = 0), t.append(r);
            }
          }]);

          return zt;
        }(Vt);

        zt.GTIN_SIZE = 40;
        var Gt = function (_zt) {
          _inherits(Gt, _zt);

          function Gt(t) {
            _classCallCheck(this, Gt);

            return _possibleConstructorReturn(this, (Gt.__proto__ || Object.getPrototypeOf(Gt)).call(this, t));
          }

          _createClass(Gt, [{
            key: "parseInformation",
            value: function parseInformation() {
              var t = new y();t.append("(01)");var e = t.length(),
                  r = this.getGeneralDecoder().extractNumericValueFromBitArray(Gt.HEADER_SIZE, 4);return t.append(r), this.encodeCompressedGtinWithoutAI(t, Gt.HEADER_SIZE + 4, e), this.getGeneralDecoder().decodeAllCodes(t, Gt.HEADER_SIZE + 44);
            }
          }]);

          return Gt;
        }(zt);

        Gt.HEADER_SIZE = 4;
        var Yt = function (_Vt2) {
          _inherits(Yt, _Vt2);

          function Yt(t) {
            _classCallCheck(this, Yt);

            return _possibleConstructorReturn(this, (Yt.__proto__ || Object.getPrototypeOf(Yt)).call(this, t));
          }

          _createClass(Yt, [{
            key: "parseInformation",
            value: function parseInformation() {
              var t = new y();return this.getGeneralDecoder().decodeAllCodes(t, Yt.HEADER_SIZE);
            }
          }]);

          return Yt;
        }(Vt);

        Yt.HEADER_SIZE = 5;
        var Xt = function (_zt2) {
          _inherits(Xt, _zt2);

          function Xt(t) {
            _classCallCheck(this, Xt);

            return _possibleConstructorReturn(this, (Xt.__proto__ || Object.getPrototypeOf(Xt)).call(this, t));
          }

          _createClass(Xt, [{
            key: "encodeCompressedWeight",
            value: function encodeCompressedWeight(t, e, r) {
              var n = this.getGeneralDecoder().extractNumericValueFromBitArray(e, r);this.addWeightCode(t, n);var i = this.checkWeight(n),
                  o = 1e5;for (var _e78 = 0; _e78 < 5; ++_e78) {
                i / o == 0 && t.append("0"), o /= 10;
              }t.append(i);
            }
          }]);

          return Xt;
        }(zt);

        var Wt = function (_Xt) {
          _inherits(Wt, _Xt);

          function Wt(t) {
            _classCallCheck(this, Wt);

            return _possibleConstructorReturn(this, (Wt.__proto__ || Object.getPrototypeOf(Wt)).call(this, t));
          }

          _createClass(Wt, [{
            key: "parseInformation",
            value: function parseInformation() {
              if (this.getInformation().getSize() != Wt.HEADER_SIZE + Xt.GTIN_SIZE + Wt.WEIGHT_SIZE) throw new D();var t = new y();return this.encodeCompressedGtin(t, Wt.HEADER_SIZE), this.encodeCompressedWeight(t, Wt.HEADER_SIZE + Xt.GTIN_SIZE, Wt.WEIGHT_SIZE), t.toString();
            }
          }]);

          return Wt;
        }(Xt);

        Wt.HEADER_SIZE = 5, Wt.WEIGHT_SIZE = 15;
        var jt = function (_Wt) {
          _inherits(jt, _Wt);

          function jt(t) {
            _classCallCheck(this, jt);

            return _possibleConstructorReturn(this, (jt.__proto__ || Object.getPrototypeOf(jt)).call(this, t));
          }

          _createClass(jt, [{
            key: "addWeightCode",
            value: function addWeightCode(t, e) {
              t.append("(3103)");
            }
          }, {
            key: "checkWeight",
            value: function checkWeight(t) {
              return t;
            }
          }]);

          return jt;
        }(Wt);

        var Zt = function (_Wt2) {
          _inherits(Zt, _Wt2);

          function Zt(t) {
            _classCallCheck(this, Zt);

            return _possibleConstructorReturn(this, (Zt.__proto__ || Object.getPrototypeOf(Zt)).call(this, t));
          }

          _createClass(Zt, [{
            key: "addWeightCode",
            value: function addWeightCode(t, e) {
              e < 1e4 ? t.append("(3202)") : t.append("(3203)");
            }
          }, {
            key: "checkWeight",
            value: function checkWeight(t) {
              return t < 1e4 ? t : t - 1e4;
            }
          }]);

          return Zt;
        }(Wt);

        var Qt = function (_zt3) {
          _inherits(Qt, _zt3);

          function Qt(t) {
            _classCallCheck(this, Qt);

            return _possibleConstructorReturn(this, (Qt.__proto__ || Object.getPrototypeOf(Qt)).call(this, t));
          }

          _createClass(Qt, [{
            key: "parseInformation",
            value: function parseInformation() {
              if (this.getInformation().getSize() < Qt.HEADER_SIZE + zt.GTIN_SIZE) throw new D();var t = new y();this.encodeCompressedGtin(t, Qt.HEADER_SIZE);var e = this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE + zt.GTIN_SIZE, Qt.LAST_DIGIT_SIZE);t.append("(392"), t.append(e), t.append(")");var r = this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE + zt.GTIN_SIZE + Qt.LAST_DIGIT_SIZE, null);return t.append(r.getNewString()), t.toString();
            }
          }]);

          return Qt;
        }(zt);

        Qt.HEADER_SIZE = 8, Qt.LAST_DIGIT_SIZE = 2;
        var Kt = function (_zt4) {
          _inherits(Kt, _zt4);

          function Kt(t) {
            _classCallCheck(this, Kt);

            return _possibleConstructorReturn(this, (Kt.__proto__ || Object.getPrototypeOf(Kt)).call(this, t));
          }

          _createClass(Kt, [{
            key: "parseInformation",
            value: function parseInformation() {
              if (this.getInformation().getSize() < Kt.HEADER_SIZE + zt.GTIN_SIZE) throw new D();var t = new y();this.encodeCompressedGtin(t, Kt.HEADER_SIZE);var e = this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE + zt.GTIN_SIZE, Kt.LAST_DIGIT_SIZE);t.append("(393"), t.append(e), t.append(")");var r = this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE + zt.GTIN_SIZE + Kt.LAST_DIGIT_SIZE, Kt.FIRST_THREE_DIGITS_SIZE);r / 100 == 0 && t.append("0"), r / 10 == 0 && t.append("0"), t.append(r);var n = this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE + zt.GTIN_SIZE + Kt.LAST_DIGIT_SIZE + Kt.FIRST_THREE_DIGITS_SIZE, null);return t.append(n.getNewString()), t.toString();
            }
          }]);

          return Kt;
        }(zt);

        Kt.HEADER_SIZE = 8, Kt.LAST_DIGIT_SIZE = 2, Kt.FIRST_THREE_DIGITS_SIZE = 10;
        var qt = function (_Xt2) {
          _inherits(qt, _Xt2);

          function qt(t, e, r) {
            var _this48;

            _classCallCheck(this, qt);

            (_this48 = _possibleConstructorReturn(this, (qt.__proto__ || Object.getPrototypeOf(qt)).call(this, t)), _this48), _this48.dateCode = r, _this48.firstAIdigits = e;return _this48;
          }

          _createClass(qt, [{
            key: "parseInformation",
            value: function parseInformation() {
              if (this.getInformation().getSize() != qt.HEADER_SIZE + qt.GTIN_SIZE + qt.WEIGHT_SIZE + qt.DATE_SIZE) throw new D();var t = new y();return this.encodeCompressedGtin(t, qt.HEADER_SIZE), this.encodeCompressedWeight(t, qt.HEADER_SIZE + qt.GTIN_SIZE, qt.WEIGHT_SIZE), this.encodeCompressedDate(t, qt.HEADER_SIZE + qt.GTIN_SIZE + qt.WEIGHT_SIZE), t.toString();
            }
          }, {
            key: "encodeCompressedDate",
            value: function encodeCompressedDate(t, e) {
              var r = this.getGeneralDecoder().extractNumericValueFromBitArray(e, qt.DATE_SIZE);if (38400 == r) return;t.append("("), t.append(this.dateCode), t.append(")");var n = r % 32;r /= 32;var i = r % 12 + 1;r /= 12;var o = r;o / 10 == 0 && t.append("0"), t.append(o), i / 10 == 0 && t.append("0"), t.append(i), n / 10 == 0 && t.append("0"), t.append(n);
            }
          }, {
            key: "addWeightCode",
            value: function addWeightCode(t, e) {
              t.append("("), t.append(this.firstAIdigits), t.append(e / 1e5), t.append(")");
            }
          }, {
            key: "checkWeight",
            value: function checkWeight(t) {
              return t % 1e5;
            }
          }]);

          return qt;
        }(Xt);

        function Jt(t) {
          try {
            if (t.get(1)) return new Gt(t);if (!t.get(2)) return new Yt(t);switch (Ht.extractNumericValueFromBitArray(t, 1, 4)) {case 4:
                return new jt(t);case 5:
                return new Zt(t);}switch (Ht.extractNumericValueFromBitArray(t, 1, 5)) {case 12:
                return new Qt(t);case 13:
                return new Kt(t);}switch (Ht.extractNumericValueFromBitArray(t, 1, 7)) {case 56:
                return new qt(t, "310", "11");case 57:
                return new qt(t, "320", "11");case 58:
                return new qt(t, "310", "13");case 59:
                return new qt(t, "320", "13");case 60:
                return new qt(t, "310", "15");case 61:
                return new qt(t, "320", "15");case 62:
                return new qt(t, "310", "17");case 63:
                return new qt(t, "320", "17");}
          } catch (e) {
            throw console.log(e), new $("unknown decoder: " + t);
          }
        }qt.HEADER_SIZE = 8, qt.WEIGHT_SIZE = 20, qt.DATE_SIZE = 16;
        var $t = function () {
          function $t(t, e, r, n) {
            _classCallCheck(this, $t);

            this.leftchar = t, this.rightchar = e, this.finderpattern = r, this.maybeLast = n;
          }

          _createClass($t, [{
            key: "mayBeLast",
            value: function mayBeLast() {
              return this.maybeLast;
            }
          }, {
            key: "getLeftChar",
            value: function getLeftChar() {
              return this.leftchar;
            }
          }, {
            key: "getRightChar",
            value: function getRightChar() {
              return this.rightchar;
            }
          }, {
            key: "getFinderPattern",
            value: function getFinderPattern() {
              return this.finderpattern;
            }
          }, {
            key: "mustBeLast",
            value: function mustBeLast() {
              return null == this.rightchar;
            }
          }, {
            key: "toString",
            value: function toString() {
              return "[ " + this.leftchar + ", " + this.rightchar + " : " + (null == this.finderpattern ? "null" : this.finderpattern.getValue()) + " ]";
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              return this.leftchar.getValue() ^ this.rightchar.getValue() ^ this.finderpattern.getValue();
            }
          }], [{
            key: "equals",
            value: function equals(t, e) {
              return t instanceof $t && $t.equalsOrNull(t.leftchar, e.leftchar) && $t.equalsOrNull(t.rightchar, e.rightchar) && $t.equalsOrNull(t.finderpattern, e.finderpattern);
            }
          }, {
            key: "equalsOrNull",
            value: function equalsOrNull(t, e) {
              return null === t ? null === e : $t.equals(t, e);
            }
          }]);

          return $t;
        }();

        var te = function () {
          function te(t, e, r) {
            _classCallCheck(this, te);

            this.pairs = t, this.rowNumber = e, this.wasReversed = r;
          }

          _createClass(te, [{
            key: "getPairs",
            value: function getPairs() {
              return this.pairs;
            }
          }, {
            key: "getRowNumber",
            value: function getRowNumber() {
              return this.rowNumber;
            }
          }, {
            key: "isReversed",
            value: function isReversed() {
              return this.wasReversed;
            }
          }, {
            key: "isEquivalent",
            value: function isEquivalent(t) {
              return this.checkEqualitity(this, t);
            }
          }, {
            key: "toString",
            value: function toString() {
              return "{ " + this.pairs + " }";
            }
          }, {
            key: "equals",
            value: function equals(t, e) {
              return t instanceof te && this.checkEqualitity(t, e) && t.wasReversed === e.wasReversed;
            }
          }, {
            key: "checkEqualitity",
            value: function checkEqualitity(t, e) {
              if (!t || !e) return;var r = void 0;return t.forEach(function (t, n) {
                e.forEach(function (e) {
                  t.getLeftChar().getValue() === e.getLeftChar().getValue() && t.getRightChar().getValue() === e.getRightChar().getValue() && t.getFinderPatter().getValue() === e.getFinderPatter().getValue() && (r = !0);
                });
              }), r;
            }
          }]);

          return te;
        }();

        var ee = function (_Rt) {
          _inherits(ee, _Rt);

          function ee(t) {
            var _this49;

            _classCallCheck(this, ee);

            (_this49 = _possibleConstructorReturn(this, (ee.__proto__ || Object.getPrototypeOf(ee)).apply(this, arguments)), _this49), _this49.pairs = new Array(ee.MAX_PAIRS), _this49.rows = new Array(), _this49.startEnd = [2], _this49.verbose = !0 === t;return _this49;
          }

          _createClass(ee, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              this.pairs.length = 0, this.startFromEven = !1;try {
                return ee.constructResult(this.decodeRow2pairs(t, e));
              } catch (t) {
                this.verbose && console.log(t);
              }return this.pairs.length = 0, this.startFromEven = !0, ee.constructResult(this.decodeRow2pairs(t, e));
            }
          }, {
            key: "reset",
            value: function reset() {
              this.pairs.length = 0, this.rows.length = 0;
            }
          }, {
            key: "decodeRow2pairs",
            value: function decodeRow2pairs(t, e) {
              var r = void 0,
                  n = !1;for (; !n;) {
                try {
                  this.pairs.push(this.retrieveNextPair(e, this.pairs, t));
                } catch (t) {
                  if (t instanceof D) {
                    if (!this.pairs.length) throw new D();n = !0;
                  }
                }
              }if (this.checkChecksum()) return this.pairs;if (r = !!this.rows.length, this.storeRow(t, !1), r) {
                var _t95 = this.checkRowsBoolean(!1);if (null != _t95) return _t95;if (_t95 = this.checkRowsBoolean(!0), null != _t95) return _t95;
              }throw new D();
            }
          }, {
            key: "checkRowsBoolean",
            value: function checkRowsBoolean(t) {
              if (this.rows.length > 25) return this.rows.length = 0, null;this.pairs.length = 0, t && (this.rows = this.rows.reverse());var e = null;try {
                e = this.checkRows(new Array(), 0);
              } catch (t) {
                this.verbose && console.log(t);
              }return t && (this.rows = this.rows.reverse()), e;
            }
          }, {
            key: "checkRows",
            value: function checkRows(t, e) {
              for (var r = e; r < this.rows.length; r++) {
                var _e79 = this.rows[r];this.pairs.length = 0;var _iteratorNormalCompletion23 = true;
                var _didIteratorError23 = false;
                var _iteratorError23 = undefined;

                try {
                  for (var _iterator23 = t[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {
                    var _e80 = _step23.value;
                    this.pairs.push(_e80.getPairs());
                  }
                } catch (err) {
                  _didIteratorError23 = true;
                  _iteratorError23 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion23 && _iterator23.return) {
                      _iterator23.return();
                    }
                  } finally {
                    if (_didIteratorError23) {
                      throw _iteratorError23;
                    }
                  }
                }

                if (this.pairs.push(_e79.getPairs()), !ee.isValidSequence(this.pairs)) continue;if (this.checkChecksum()) return this.pairs;var _n46 = new Array(t);_n46.push(_e79);try {
                  return this.checkRows(_n46, r + 1);
                } catch (t) {
                  this.verbose && console.log(t);
                }
              }throw new D();
            }
          }, {
            key: "storeRow",
            value: function storeRow(t, e) {
              var r = 0,
                  n = !1,
                  i = !1;for (; r < this.rows.length;) {
                var _e81 = this.rows[r];if (_e81.getRowNumber() > t) {
                  i = _e81.isEquivalent(this.pairs);break;
                }n = _e81.isEquivalent(this.pairs), r++;
              }i || n || ee.isPartialRow(this.pairs, this.rows) || (this.rows.push(r, new te(this.pairs, t, e)), this.removePartialRows(this.pairs, this.rows));
            }
          }, {
            key: "removePartialRows",
            value: function removePartialRows(t, e) {
              var _iteratorNormalCompletion24 = true;
              var _didIteratorError24 = false;
              var _iteratorError24 = undefined;

              try {
                for (var _iterator24 = e[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {
                  var r = _step24.value;
                  if (r.getPairs().length !== t.length) {
                    var _iteratorNormalCompletion25 = true;
                    var _didIteratorError25 = false;
                    var _iteratorError25 = undefined;

                    try {
                      for (var _iterator25 = r.getPairs()[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {
                        var _e82 = _step25.value;
                        var _iteratorNormalCompletion26 = true;
                        var _didIteratorError26 = false;
                        var _iteratorError26 = undefined;

                        try {
                          for (var _iterator26 = t[Symbol.iterator](), _step26; !(_iteratorNormalCompletion26 = (_step26 = _iterator26.next()).done); _iteratorNormalCompletion26 = true) {
                            var _r56 = _step26.value;
                            if ($t.equals(_e82, _r56)) break;
                          }
                        } catch (err) {
                          _didIteratorError26 = true;
                          _iteratorError26 = err;
                        } finally {
                          try {
                            if (!_iteratorNormalCompletion26 && _iterator26.return) {
                              _iterator26.return();
                            }
                          } finally {
                            if (_didIteratorError26) {
                              throw _iteratorError26;
                            }
                          }
                        }
                      }
                    } catch (err) {
                      _didIteratorError25 = true;
                      _iteratorError25 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion25 && _iterator25.return) {
                          _iterator25.return();
                        }
                      } finally {
                        if (_didIteratorError25) {
                          throw _iteratorError25;
                        }
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError24 = true;
                _iteratorError24 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion24 && _iterator24.return) {
                    _iterator24.return();
                  }
                } finally {
                  if (_didIteratorError24) {
                    throw _iteratorError24;
                  }
                }
              }
            }
          }, {
            key: "getRows",
            value: function getRows() {
              return this.rows;
            }
          }, {
            key: "checkChecksum",
            value: function checkChecksum() {
              var t = this.pairs.get(0),
                  e = t.getLeftChar(),
                  r = t.getRightChar();if (null == r) return !1;var n = r.getChecksumPortion(),
                  i = 2;for (var _t96 = 1; _t96 < this.pairs.size(); ++_t96) {
                var _e83 = this.pairs.get(_t96);n += _e83.getLeftChar().getChecksumPortion(), i++;var _r57 = _e83.getRightChar();null != _r57 && (n += _r57.getChecksumPortion(), i++);
              }return n %= 211, 211 * (i - 4) + n == e.getValue();
            }
          }, {
            key: "retrieveNextPair",
            value: function retrieveNextPair(t, e, r) {
              var n = void 0,
                  i = e.length % 2 == 0;this.startFromEven && (i = !i);var o = !0,
                  s = -1;do {
                this.findNextPair(t, e, s), n = this.parseFoundFinderPattern(t, r, i), null == n ? s = ee.getNextSecondBar(t, this.startEnd[0]) : o = !1;
              } while (o);var a = void 0,
                  c = this.decodeDataCharacter(t, n, i, !0);if (!this.isEmptyPair(e) && e[e.length - 1].mustBeLast()) throw new D();try {
                a = this.decodeDataCharacter(t, n, i, !1);
              } catch (t) {
                a = null, this.verbose && console.log(t);
              }return new $t(c, a, n, !0);
            }
          }, {
            key: "isEmptyPair",
            value: function isEmptyPair(t) {
              return 0 === t.length;
            }
          }, {
            key: "findNextPair",
            value: function findNextPair(t, e, r) {
              var n = this.getDecodeFinderCounters();n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 0;var i = void 0,
                  o = t.getSize();i = r >= 0 ? r : this.isEmptyPair(e) ? 0 : e[e.length - 1].getFinderPattern().getStartEnd()[1];var s = e.length % 2 != 0;this.startFromEven && (s = !s);var a = !1;for (; i < o && (a = !t.get(i), a);) {
                i++;
              }var c = 0,
                  l = i;for (var _e84 = i; _e84 < o; _e84++) {
                if (t.get(_e84) != a) n[c]++;else {
                  if (3 == c) {
                    if (s && ee.reverseCounters(n), ee.isFinderPattern(n)) return this.startEnd[0] = l, void (this.startEnd[1] = _e84);s && ee.reverseCounters(n), l += n[0] + n[1], n[0] = n[2], n[1] = n[3], n[2] = 0, n[3] = 0, c--;
                  } else c++;n[c] = 1, a = !a;
                }
              }throw new D();
            }
          }, {
            key: "parseFoundFinderPattern",
            value: function parseFoundFinderPattern(t, e, r) {
              var n = void 0,
                  i = void 0,
                  o = void 0;if (r) {
                var _e85 = this.startEnd[0] - 1;for (; _e85 >= 0 && !t.get(_e85);) {
                  _e85--;
                }_e85++, n = this.startEnd[0] - _e85, i = _e85, o = this.startEnd[1];
              } else i = this.startEnd[0], o = t.getNextUnset(this.startEnd[1] + 1), n = o - this.startEnd[1];var s = void 0,
                  a = this.getDecodeFinderCounters();d.arraycopy(a, 0, a, 1, a.length - 1), a[0] = n;try {
                s = this.parseFinderValue(a, ee.FINDER_PATTERNS);
              } catch (t) {
                return null;
              }return new bt(s, [i, o], i, o, e);
            }
          }, {
            key: "decodeDataCharacter",
            value: function decodeDataCharacter(t, e, r, n) {
              var i = this.getDataCharacterCounters();for (var _t97 = 0; _t97 < i.length; _t97++) {
                i[_t97] = 0;
              }if (n) ee.recordPatternInReverse(t, e.getStartEnd()[0], i);else {
                ee.recordPattern(t, e.getStartEnd()[1], i);for (var _t98 = 0, _e86 = i.length - 1; _t98 < _e86; _t98++, _e86--) {
                  var _r58 = i[_t98];i[_t98] = i[_e86], i[_e86] = _r58;
                }
              }var o = rt.sum(new Int32Array(i)) / 17,
                  s = (e.getStartEnd()[1] - e.getStartEnd()[0]) / 15;if (Math.abs(o - s) / s > .3) throw new D();var a = this.getOddCounts(),
                  c = this.getEvenCounts(),
                  l = this.getOddRoundingErrors(),
                  h = this.getEvenRoundingErrors();for (var _t99 = 0; _t99 < i.length; _t99++) {
                var _e87 = 1 * i[_t99] / o,
                    _r59 = _e87 + .5;if (_r59 < 1) {
                  if (_e87 < .3) throw new D();_r59 = 1;
                } else if (_r59 > 8) {
                  if (_e87 > 8.7) throw new D();_r59 = 8;
                }var _n47 = _t99 / 2;0 == (1 & _t99) ? (a[_n47] = _r59, l[_n47] = _e87 - _r59) : (c[_n47] = _r59, h[_n47] = _e87 - _r59);
              }this.adjustOddEvenCounts(17);var u = 4 * e.getValue() + (r ? 0 : 2) + (n ? 0 : 1) - 1,
                  d = 0,
                  f = 0;for (var _t100 = a.length - 1; _t100 >= 0; _t100--) {
                if (ee.isNotA1left(e, r, n)) {
                  var _e88 = ee.WEIGHTS[u][2 * _t100];f += a[_t100] * _e88;
                }d += a[_t100];
              }var g = 0;for (var _t101 = c.length - 1; _t101 >= 0; _t101--) {
                if (ee.isNotA1left(e, r, n)) {
                  var _e89 = ee.WEIGHTS[u][2 * _t101 + 1];g += c[_t101] * _e89;
                }
              }var w = f + g;if (0 != (1 & d) || d > 13 || d < 4) throw new D();var m = (13 - d) / 2,
                  p = ee.SYMBOL_WIDEST[m],
                  A = 9 - p,
                  C = Bt.getRSSvalue(a, p, !0),
                  E = Bt.getRSSvalue(c, A, !1),
                  I = ee.EVEN_TOTAL_SUBSET[m],
                  S = ee.GSUM[m];return new Ot(C * I + E + S, w);
            }
          }, {
            key: "adjustOddEvenCounts",
            value: function adjustOddEvenCounts(t) {
              var e = rt.sum(new Int32Array(this.getOddCounts())),
                  r = rt.sum(new Int32Array(this.getEvenCounts())),
                  n = !1,
                  i = !1;e > 13 ? i = !0 : e < 4 && (n = !0);var o = !1,
                  s = !1;r > 13 ? s = !0 : r < 4 && (o = !0);var a = e + r - t,
                  c = 1 == (1 & e),
                  l = 0 == (1 & r);if (1 == a) {
                if (c) {
                  if (l) throw new D();i = !0;
                } else {
                  if (!l) throw new D();s = !0;
                }
              } else if (-1 == a) {
                if (c) {
                  if (l) throw new D();n = !0;
                } else {
                  if (!l) throw new D();o = !0;
                }
              } else {
                if (0 != a) throw new D();if (c) {
                  if (!l) throw new D();e < r ? (n = !0, s = !0) : (i = !0, o = !0);
                } else if (l) throw new D();
              }if (n) {
                if (i) throw new D();ee.increment(this.getOddCounts(), this.getOddRoundingErrors());
              }if (i && ee.decrement(this.getOddCounts(), this.getOddRoundingErrors()), o) {
                if (s) throw new D();ee.increment(this.getEvenCounts(), this.getOddRoundingErrors());
              }s && ee.decrement(this.getEvenCounts(), this.getEvenRoundingErrors());
            }
          }], [{
            key: "isValidSequence",
            value: function isValidSequence(t) {
              var _iteratorNormalCompletion27 = true;
              var _didIteratorError27 = false;
              var _iteratorError27 = undefined;

              try {
                for (var _iterator27 = ee.FINDER_PATTERN_SEQUENCES[Symbol.iterator](), _step27; !(_iteratorNormalCompletion27 = (_step27 = _iterator27.next()).done); _iteratorNormalCompletion27 = true) {
                  var _e90 = _step27.value;
                  if (t.length > _e90.length) continue;var r = !0;for (var _n48 = 0; _n48 < t.length; _n48++) {
                    if (t[_n48].getFinderPattern().getValue() != _e90[_n48]) {
                      r = !1;break;
                    }
                  }if (r) return !0;
                }
              } catch (err) {
                _didIteratorError27 = true;
                _iteratorError27 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion27 && _iterator27.return) {
                    _iterator27.return();
                  }
                } finally {
                  if (_didIteratorError27) {
                    throw _iteratorError27;
                  }
                }
              }

              return !1;
            }
          }, {
            key: "isPartialRow",
            value: function isPartialRow(t, e) {
              var _iteratorNormalCompletion28 = true;
              var _didIteratorError28 = false;
              var _iteratorError28 = undefined;

              try {
                for (var _iterator28 = e[Symbol.iterator](), _step28; !(_iteratorNormalCompletion28 = (_step28 = _iterator28.next()).done); _iteratorNormalCompletion28 = true) {
                  var r = _step28.value;
                  var _e91 = !0;var _iteratorNormalCompletion29 = true;
                  var _didIteratorError29 = false;
                  var _iteratorError29 = undefined;

                  try {
                    for (var _iterator29 = t[Symbol.iterator](), _step29; !(_iteratorNormalCompletion29 = (_step29 = _iterator29.next()).done); _iteratorNormalCompletion29 = true) {
                      var _n49 = _step29.value;
                      var _t102 = !1;var _iteratorNormalCompletion30 = true;
                      var _didIteratorError30 = false;
                      var _iteratorError30 = undefined;

                      try {
                        for (var _iterator30 = r.getPairs()[Symbol.iterator](), _step30; !(_iteratorNormalCompletion30 = (_step30 = _iterator30.next()).done); _iteratorNormalCompletion30 = true) {
                          var _e92 = _step30.value;
                          if (_n49.equals(_e92)) {
                            _t102 = !0;break;
                          }
                        }
                      } catch (err) {
                        _didIteratorError30 = true;
                        _iteratorError30 = err;
                      } finally {
                        try {
                          if (!_iteratorNormalCompletion30 && _iterator30.return) {
                            _iterator30.return();
                          }
                        } finally {
                          if (_didIteratorError30) {
                            throw _iteratorError30;
                          }
                        }
                      }

                      if (!_t102) {
                        _e91 = !1;break;
                      }
                    }
                  } catch (err) {
                    _didIteratorError29 = true;
                    _iteratorError29 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion29 && _iterator29.return) {
                        _iterator29.return();
                      }
                    } finally {
                      if (_didIteratorError29) {
                        throw _iteratorError29;
                      }
                    }
                  }

                  if (_e91) return !0;
                }
              } catch (err) {
                _didIteratorError28 = true;
                _iteratorError28 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion28 && _iterator28.return) {
                    _iterator28.return();
                  }
                } finally {
                  if (_didIteratorError28) {
                    throw _iteratorError28;
                  }
                }
              }

              return !1;
            }
          }, {
            key: "constructResult",
            value: function constructResult(t) {
              var e = Jt(Lt.buildBitArray(t)).parseInformation(),
                  r = t[0].getFinderPattern().getResultPoints(),
                  n = t[t.length - 1].getFinderPattern().getResultPoints(),
                  i = [r[0], r[1], n[0], n[1]];return new x(e, null, null, i, U.RSS_EXPANDED, null);
            }
          }, {
            key: "getNextSecondBar",
            value: function getNextSecondBar(t, e) {
              var r = void 0;return t.get(e) ? (r = t.getNextUnset(e), r = t.getNextSet(r)) : (r = t.getNextSet(e), r = t.getNextUnset(r)), r;
            }
          }, {
            key: "reverseCounters",
            value: function reverseCounters(t) {
              var e = t.length;for (var r = 0; r < e / 2; ++r) {
                var _n50 = t[r];t[r] = t[e - r - 1], t[e - r - 1] = _n50;
              }
            }
          }, {
            key: "isNotA1left",
            value: function isNotA1left(t, e, r) {
              return !(0 == t.getValue() && e && r);
            }
          }]);

          return ee;
        }(Rt);

        ee.SYMBOL_WIDEST = [7, 5, 4, 3, 1], ee.EVEN_TOTAL_SUBSET = [4, 20, 52, 104, 204], ee.GSUM = [0, 348, 1388, 2948, 3988], ee.FINDER_PATTERNS = [Int32Array.from([1, 8, 4, 1]), Int32Array.from([3, 6, 4, 1]), Int32Array.from([3, 4, 6, 1]), Int32Array.from([3, 2, 8, 1]), Int32Array.from([2, 6, 5, 1]), Int32Array.from([2, 2, 9, 1])], ee.WEIGHTS = [[1, 3, 9, 27, 81, 32, 96, 77], [20, 60, 180, 118, 143, 7, 21, 63], [189, 145, 13, 39, 117, 140, 209, 205], [193, 157, 49, 147, 19, 57, 171, 91], [62, 186, 136, 197, 169, 85, 44, 132], [185, 133, 188, 142, 4, 12, 36, 108], [113, 128, 173, 97, 80, 29, 87, 50], [150, 28, 84, 41, 123, 158, 52, 156], [46, 138, 203, 187, 139, 206, 196, 166], [76, 17, 51, 153, 37, 111, 122, 155], [43, 129, 176, 106, 107, 110, 119, 146], [16, 48, 144, 10, 30, 90, 59, 177], [109, 116, 137, 200, 178, 112, 125, 164], [70, 210, 208, 202, 184, 130, 179, 115], [134, 191, 151, 31, 93, 68, 204, 190], [148, 22, 66, 198, 172, 94, 71, 2], [6, 18, 54, 162, 64, 192, 154, 40], [120, 149, 25, 75, 14, 42, 126, 167], [79, 26, 78, 23, 69, 207, 199, 175], [103, 98, 83, 38, 114, 131, 182, 124], [161, 61, 183, 127, 170, 88, 53, 159], [55, 165, 73, 8, 24, 72, 5, 15], [45, 135, 194, 160, 58, 174, 100, 89]], ee.FINDER_PAT_A = 0, ee.FINDER_PAT_B = 1, ee.FINDER_PAT_C = 2, ee.FINDER_PAT_D = 3, ee.FINDER_PAT_E = 4, ee.FINDER_PAT_F = 5, ee.FINDER_PATTERN_SEQUENCES = [[ee.FINDER_PAT_A, ee.FINDER_PAT_A], [ee.FINDER_PAT_A, ee.FINDER_PAT_B, ee.FINDER_PAT_B], [ee.FINDER_PAT_A, ee.FINDER_PAT_C, ee.FINDER_PAT_B, ee.FINDER_PAT_D], [ee.FINDER_PAT_A, ee.FINDER_PAT_E, ee.FINDER_PAT_B, ee.FINDER_PAT_D, ee.FINDER_PAT_C], [ee.FINDER_PAT_A, ee.FINDER_PAT_E, ee.FINDER_PAT_B, ee.FINDER_PAT_D, ee.FINDER_PAT_D, ee.FINDER_PAT_F], [ee.FINDER_PAT_A, ee.FINDER_PAT_E, ee.FINDER_PAT_B, ee.FINDER_PAT_D, ee.FINDER_PAT_E, ee.FINDER_PAT_F, ee.FINDER_PAT_F], [ee.FINDER_PAT_A, ee.FINDER_PAT_A, ee.FINDER_PAT_B, ee.FINDER_PAT_B, ee.FINDER_PAT_C, ee.FINDER_PAT_C, ee.FINDER_PAT_D, ee.FINDER_PAT_D], [ee.FINDER_PAT_A, ee.FINDER_PAT_A, ee.FINDER_PAT_B, ee.FINDER_PAT_B, ee.FINDER_PAT_C, ee.FINDER_PAT_C, ee.FINDER_PAT_D, ee.FINDER_PAT_E, ee.FINDER_PAT_E], [ee.FINDER_PAT_A, ee.FINDER_PAT_A, ee.FINDER_PAT_B, ee.FINDER_PAT_B, ee.FINDER_PAT_C, ee.FINDER_PAT_C, ee.FINDER_PAT_D, ee.FINDER_PAT_E, ee.FINDER_PAT_F, ee.FINDER_PAT_F], [ee.FINDER_PAT_A, ee.FINDER_PAT_A, ee.FINDER_PAT_B, ee.FINDER_PAT_B, ee.FINDER_PAT_C, ee.FINDER_PAT_D, ee.FINDER_PAT_D, ee.FINDER_PAT_E, ee.FINDER_PAT_E, ee.FINDER_PAT_F, ee.FINDER_PAT_F]], ee.MAX_PAIRS = 11;
        var re = function (_Ot) {
          _inherits(re, _Ot);

          function re(t, e, r) {
            var _this50;

            _classCallCheck(this, re);

            (_this50 = _possibleConstructorReturn(this, (re.__proto__ || Object.getPrototypeOf(re)).call(this, t, e)), _this50), _this50.count = 0, _this50.finderPattern = r;return _this50;
          }

          _createClass(re, [{
            key: "getFinderPattern",
            value: function getFinderPattern() {
              return this.finderPattern;
            }
          }, {
            key: "getCount",
            value: function getCount() {
              return this.count;
            }
          }, {
            key: "incrementCount",
            value: function incrementCount() {
              this.count++;
            }
          }]);

          return re;
        }(Ot);

        var ne = function (_Rt2) {
          _inherits(ne, _Rt2);

          function ne() {
            var _this51;

            _classCallCheck(this, ne);

            (_this51 = _possibleConstructorReturn(this, (ne.__proto__ || Object.getPrototypeOf(ne)).apply(this, arguments)), _this51), _this51.possibleLeftPairs = [], _this51.possibleRightPairs = [];return _this51;
          }

          _createClass(ne, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              var n = this.decodePair(e, !1, t, r);ne.addOrTally(this.possibleLeftPairs, n), e.reverse();var i = this.decodePair(e, !0, t, r);ne.addOrTally(this.possibleRightPairs, i), e.reverse();var _iteratorNormalCompletion31 = true;
              var _didIteratorError31 = false;
              var _iteratorError31 = undefined;

              try {
                for (var _iterator31 = this.possibleLeftPairs[Symbol.iterator](), _step31; !(_iteratorNormalCompletion31 = (_step31 = _iterator31.next()).done); _iteratorNormalCompletion31 = true) {
                  var _t103 = _step31.value;
                  if (_t103.getCount() > 1) {
                    var _iteratorNormalCompletion32 = true;
                    var _didIteratorError32 = false;
                    var _iteratorError32 = undefined;

                    try {
                      for (var _iterator32 = this.possibleRightPairs[Symbol.iterator](), _step32; !(_iteratorNormalCompletion32 = (_step32 = _iterator32.next()).done); _iteratorNormalCompletion32 = true) {
                        var _e93 = _step32.value;
                        if (_e93.getCount() > 1 && ne.checkChecksum(_t103, _e93)) return ne.constructResult(_t103, _e93);
                      }
                    } catch (err) {
                      _didIteratorError32 = true;
                      _iteratorError32 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion32 && _iterator32.return) {
                          _iterator32.return();
                        }
                      } finally {
                        if (_didIteratorError32) {
                          throw _iteratorError32;
                        }
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError31 = true;
                _iteratorError31 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion31 && _iterator31.return) {
                    _iterator31.return();
                  }
                } finally {
                  if (_didIteratorError31) {
                    throw _iteratorError31;
                  }
                }
              }

              throw new D();
            }
          }, {
            key: "reset",
            value: function reset() {
              this.possibleLeftPairs.length = 0, this.possibleRightPairs.length = 0;
            }
          }, {
            key: "decodePair",
            value: function decodePair(t, e, r, n) {
              try {
                var _i44 = this.findFinderPattern(t, e),
                    _o30 = this.parseFoundFinderPattern(t, r, e, _i44),
                    _s36 = null == n ? null : n.get(C.NEED_RESULT_POINT_CALLBACK);if (null != _s36) {
                  var _n51 = (_i44[0] + _i44[1]) / 2;e && (_n51 = t.getSize() - 1 - _n51), _s36.foundPossibleResultPoint(new it(_n51, r));
                }var _a17 = this.decodeDataCharacter(t, _o30, !0),
                    _c12 = this.decodeDataCharacter(t, _o30, !1);return new re(1597 * _a17.getValue() + _c12.getValue(), _a17.getChecksumPortion() + 4 * _c12.getChecksumPortion(), _o30);
              } catch (t) {
                return null;
              }
            }
          }, {
            key: "decodeDataCharacter",
            value: function decodeDataCharacter(t, e, r) {
              var n = this.getDataCharacterCounters();for (var _t104 = 0; _t104 < n.length; _t104++) {
                n[_t104] = 0;
              }if (r) wt.recordPatternInReverse(t, e.getStartEnd()[0], n);else {
                wt.recordPattern(t, e.getStartEnd()[1] + 1, n);for (var _t105 = 0, _e94 = n.length - 1; _t105 < _e94; _t105++, _e94--) {
                  var _r60 = n[_t105];n[_t105] = n[_e94], n[_e94] = _r60;
                }
              }var i = r ? 16 : 15,
                  o = rt.sum(new Int32Array(n)) / i,
                  s = this.getOddCounts(),
                  a = this.getEvenCounts(),
                  c = this.getOddRoundingErrors(),
                  l = this.getEvenRoundingErrors();for (var _t106 = 0; _t106 < n.length; _t106++) {
                var _e95 = n[_t106] / o,
                    _r61 = Math.floor(_e95 + .5);_r61 < 1 ? _r61 = 1 : _r61 > 8 && (_r61 = 8);var _i45 = Math.floor(_t106 / 2);0 == (1 & _t106) ? (s[_i45] = _r61, c[_i45] = _e95 - _r61) : (a[_i45] = _r61, l[_i45] = _e95 - _r61);
              }this.adjustOddEvenCounts(r, i);var h = 0,
                  u = 0;for (var _t107 = s.length - 1; _t107 >= 0; _t107--) {
                u *= 9, u += s[_t107], h += s[_t107];
              }var d = 0,
                  f = 0;for (var _t108 = a.length - 1; _t108 >= 0; _t108--) {
                d *= 9, d += a[_t108], f += a[_t108];
              }var g = u + 3 * d;if (r) {
                if (0 != (1 & h) || h > 12 || h < 4) throw new D();var _t109 = (12 - h) / 2,
                    _e96 = ne.OUTSIDE_ODD_WIDEST[_t109],
                    _r62 = 9 - _e96,
                    _n52 = Bt.getRSSvalue(s, _e96, !1),
                    _i46 = Bt.getRSSvalue(a, _r62, !0),
                    _o31 = ne.OUTSIDE_EVEN_TOTAL_SUBSET[_t109],
                    _c13 = ne.OUTSIDE_GSUM[_t109];return new Ot(_n52 * _o31 + _i46 + _c13, g);
              }{
                if (0 != (1 & f) || f > 10 || f < 4) throw new D();var _t110 = (10 - f) / 2,
                    _e97 = ne.INSIDE_ODD_WIDEST[_t110],
                    _r63 = 9 - _e97,
                    _n53 = Bt.getRSSvalue(s, _e97, !0),
                    _i47 = Bt.getRSSvalue(a, _r63, !1),
                    _o32 = ne.INSIDE_ODD_TOTAL_SUBSET[_t110],
                    _c14 = ne.INSIDE_GSUM[_t110];return new Ot(_i47 * _o32 + _n53 + _c14, g);
              }
            }
          }, {
            key: "findFinderPattern",
            value: function findFinderPattern(t, e) {
              var r = this.getDecodeFinderCounters();r[0] = 0, r[1] = 0, r[2] = 0, r[3] = 0;var n = t.getSize(),
                  i = !1,
                  o = 0;for (; o < n && (i = !t.get(o), e !== i);) {
                o++;
              }var s = 0,
                  a = o;for (var _e98 = o; _e98 < n; _e98++) {
                if (t.get(_e98) !== i) r[s]++;else {
                  if (3 === s) {
                    if (Rt.isFinderPattern(r)) return [a, _e98];a += r[0] + r[1], r[0] = r[2], r[1] = r[3], r[2] = 0, r[3] = 0, s--;
                  } else s++;r[s] = 1, i = !i;
                }
              }throw new D();
            }
          }, {
            key: "parseFoundFinderPattern",
            value: function parseFoundFinderPattern(t, e, r, n) {
              var i = t.get(n[0]),
                  o = n[0] - 1;for (; o >= 0 && i !== t.get(o);) {
                o--;
              }o++;var s = n[0] - o,
                  a = this.getDecodeFinderCounters(),
                  c = new Int32Array(a.length);d.arraycopy(a, 0, c, 1, a.length - 1), c[0] = s;var l = this.parseFinderValue(c, ne.FINDER_PATTERNS);var h = o,
                  u = n[1];return r && (h = t.getSize() - 1 - h, u = t.getSize() - 1 - u), new bt(l, [o, n[1]], h, u, e);
            }
          }, {
            key: "adjustOddEvenCounts",
            value: function adjustOddEvenCounts(t, e) {
              var r = rt.sum(new Int32Array(this.getOddCounts())),
                  n = rt.sum(new Int32Array(this.getEvenCounts())),
                  i = !1,
                  o = !1,
                  s = !1,
                  a = !1;t ? (r > 12 ? o = !0 : r < 4 && (i = !0), n > 12 ? a = !0 : n < 4 && (s = !0)) : (r > 11 ? o = !0 : r < 5 && (i = !0), n > 10 ? a = !0 : n < 4 && (s = !0));var c = r + n - e,
                  l = (1 & r) == (t ? 1 : 0),
                  h = 1 == (1 & n);if (1 === c) {
                if (l) {
                  if (h) throw new D();o = !0;
                } else {
                  if (!h) throw new D();a = !0;
                }
              } else if (-1 === c) {
                if (l) {
                  if (h) throw new D();i = !0;
                } else {
                  if (!h) throw new D();s = !0;
                }
              } else {
                if (0 !== c) throw new D();if (l) {
                  if (!h) throw new D();r < n ? (i = !0, a = !0) : (o = !0, s = !0);
                } else if (h) throw new D();
              }if (i) {
                if (o) throw new D();Rt.increment(this.getOddCounts(), this.getOddRoundingErrors());
              }if (o && Rt.decrement(this.getOddCounts(), this.getOddRoundingErrors()), s) {
                if (a) throw new D();Rt.increment(this.getEvenCounts(), this.getOddRoundingErrors());
              }a && Rt.decrement(this.getEvenCounts(), this.getEvenRoundingErrors());
            }
          }], [{
            key: "addOrTally",
            value: function addOrTally(t, e) {
              if (null == e) return;var r = !1;var _iteratorNormalCompletion33 = true;
              var _didIteratorError33 = false;
              var _iteratorError33 = undefined;

              try {
                for (var _iterator33 = t[Symbol.iterator](), _step33; !(_iteratorNormalCompletion33 = (_step33 = _iterator33.next()).done); _iteratorNormalCompletion33 = true) {
                  var _n54 = _step33.value;
                  if (_n54.getValue() === e.getValue()) {
                    _n54.incrementCount(), r = !0;break;
                  }
                }
              } catch (err) {
                _didIteratorError33 = true;
                _iteratorError33 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion33 && _iterator33.return) {
                    _iterator33.return();
                  }
                } finally {
                  if (_didIteratorError33) {
                    throw _iteratorError33;
                  }
                }
              }

              r || t.push(e);
            }
          }, {
            key: "constructResult",
            value: function constructResult(t, e) {
              var r = 4537077 * t.getValue() + e.getValue(),
                  n = new String(r).toString(),
                  i = new y();for (var _t111 = 13 - n.length; _t111 > 0; _t111--) {
                i.append("0");
              }i.append(n);var o = 0;for (var _t112 = 0; _t112 < 13; _t112++) {
                var _e99 = i.charAt(_t112).charCodeAt(0) - "0".charCodeAt(0);o += 0 == (1 & _t112) ? 3 * _e99 : _e99;
              }o = 10 - o % 10, 10 === o && (o = 0), i.append(o.toString());var s = t.getFinderPattern().getResultPoints(),
                  a = e.getFinderPattern().getResultPoints();return new x(i.toString(), null, 0, [s[0], s[1], a[0], a[1]], U.RSS_14, new Date().getTime());
            }
          }, {
            key: "checkChecksum",
            value: function checkChecksum(t, e) {
              var r = (t.getChecksumPortion() + 16 * e.getChecksumPortion()) % 79,
                  n = 9 * t.getFinderPattern().getValue() + e.getFinderPattern().getValue();return n > 72 && n--, n > 8 && n--, r === n;
            }
          }]);

          return ne;
        }(Rt);

        ne.OUTSIDE_EVEN_TOTAL_SUBSET = [1, 10, 34, 70, 126], ne.INSIDE_ODD_TOTAL_SUBSET = [4, 20, 48, 81], ne.OUTSIDE_GSUM = [0, 161, 961, 2015, 2715], ne.INSIDE_GSUM = [0, 336, 1036, 1516], ne.OUTSIDE_ODD_WIDEST = [8, 6, 4, 3, 1], ne.INSIDE_ODD_WIDEST = [2, 4, 6, 8], ne.FINDER_PATTERNS = [Int32Array.from([3, 8, 2, 1]), Int32Array.from([3, 5, 5, 1]), Int32Array.from([3, 3, 7, 1]), Int32Array.from([3, 1, 9, 1]), Int32Array.from([2, 7, 4, 1]), Int32Array.from([2, 5, 6, 1]), Int32Array.from([2, 3, 8, 1]), Int32Array.from([1, 5, 7, 1]), Int32Array.from([1, 3, 9, 1])];
        var ie = function (_wt7) {
          _inherits(ie, _wt7);

          function ie(t, e) {
            var _this52;

            _classCallCheck(this, ie);

            (_this52 = _possibleConstructorReturn(this, (ie.__proto__ || Object.getPrototypeOf(ie)).call(this)), _this52), _this52.readers = [], _this52.verbose = !0 === e;var r = t ? t.get(C.POSSIBLE_FORMATS) : null,
                n = t && void 0 !== t.get(C.ASSUME_CODE_39_CHECK_DIGIT);r ? ((r.includes(U.EAN_13) || r.includes(U.UPC_A) || r.includes(U.EAN_8) || r.includes(U.UPC_E)) && _this52.readers.push(new Mt(t)), r.includes(U.CODE_39) && _this52.readers.push(new pt(n)), r.includes(U.CODE_128) && _this52.readers.push(new mt()), r.includes(U.ITF) && _this52.readers.push(new At()), r.includes(U.RSS_14) && _this52.readers.push(new ne()), r.includes(U.RSS_EXPANDED) && _this52.readers.push(new ee(_this52.verbose))) : (_this52.readers.push(new Mt(t)), _this52.readers.push(new pt()), _this52.readers.push(new Mt(t)), _this52.readers.push(new mt()), _this52.readers.push(new At()), _this52.readers.push(new ne()), _this52.readers.push(new ee(_this52.verbose)));return _this52;
          }

          _createClass(ie, [{
            key: "decodeRow",
            value: function decodeRow(t, e, r) {
              for (var _n55 = 0; _n55 < this.readers.length; _n55++) {
                try {
                  return this.readers[_n55].decodeRow(t, e, r);
                } catch (t) {}
              }throw new D();
            }
          }, {
            key: "reset",
            value: function reset() {
              this.readers.forEach(function (t) {
                return t.reset();
              });
            }
          }]);

          return ie;
        }(wt);

        var oe = function () {
          function oe(t, e, r) {
            _classCallCheck(this, oe);

            this.ecCodewords = t, this.ecBlocks = [e], r && this.ecBlocks.push(r);
          }

          _createClass(oe, [{
            key: "getECCodewords",
            value: function getECCodewords() {
              return this.ecCodewords;
            }
          }, {
            key: "getECBlocks",
            value: function getECBlocks() {
              return this.ecBlocks;
            }
          }]);

          return oe;
        }();

        var se = function () {
          function se(t, e) {
            _classCallCheck(this, se);

            this.count = t, this.dataCodewords = e;
          }

          _createClass(se, [{
            key: "getCount",
            value: function getCount() {
              return this.count;
            }
          }, {
            key: "getDataCodewords",
            value: function getDataCodewords() {
              return this.dataCodewords;
            }
          }]);

          return se;
        }();

        var ae = function () {
          function ae(t, e, r, n, i, o) {
            _classCallCheck(this, ae);

            this.versionNumber = t, this.symbolSizeRows = e, this.symbolSizeColumns = r, this.dataRegionSizeRows = n, this.dataRegionSizeColumns = i, this.ecBlocks = o;var s = 0;var a = o.getECCodewords(),
                c = o.getECBlocks();var _iteratorNormalCompletion34 = true;
            var _didIteratorError34 = false;
            var _iteratorError34 = undefined;

            try {
              for (var _iterator34 = c[Symbol.iterator](), _step34; !(_iteratorNormalCompletion34 = (_step34 = _iterator34.next()).done); _iteratorNormalCompletion34 = true) {
                var _t113 = _step34.value;
                s += _t113.getCount() * (_t113.getDataCodewords() + a);
              }
            } catch (err) {
              _didIteratorError34 = true;
              _iteratorError34 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion34 && _iterator34.return) {
                  _iterator34.return();
                }
              } finally {
                if (_didIteratorError34) {
                  throw _iteratorError34;
                }
              }
            }

            this.totalCodewords = s;
          }

          _createClass(ae, [{
            key: "getVersionNumber",
            value: function getVersionNumber() {
              return this.versionNumber;
            }
          }, {
            key: "getSymbolSizeRows",
            value: function getSymbolSizeRows() {
              return this.symbolSizeRows;
            }
          }, {
            key: "getSymbolSizeColumns",
            value: function getSymbolSizeColumns() {
              return this.symbolSizeColumns;
            }
          }, {
            key: "getDataRegionSizeRows",
            value: function getDataRegionSizeRows() {
              return this.dataRegionSizeRows;
            }
          }, {
            key: "getDataRegionSizeColumns",
            value: function getDataRegionSizeColumns() {
              return this.dataRegionSizeColumns;
            }
          }, {
            key: "getTotalCodewords",
            value: function getTotalCodewords() {
              return this.totalCodewords;
            }
          }, {
            key: "getECBlocks",
            value: function getECBlocks() {
              return this.ecBlocks;
            }
          }, {
            key: "toString",
            value: function toString() {
              return "" + this.versionNumber;
            }
          }], [{
            key: "getVersionForDimensions",
            value: function getVersionForDimensions(t, e) {
              if (0 != (1 & t) || 0 != (1 & e)) throw new E();var _iteratorNormalCompletion35 = true;
              var _didIteratorError35 = false;
              var _iteratorError35 = undefined;

              try {
                for (var _iterator35 = ae.VERSIONS[Symbol.iterator](), _step35; !(_iteratorNormalCompletion35 = (_step35 = _iterator35.next()).done); _iteratorNormalCompletion35 = true) {
                  var r = _step35.value;
                  if (r.symbolSizeRows === t && r.symbolSizeColumns === e) return r;
                }
              } catch (err) {
                _didIteratorError35 = true;
                _iteratorError35 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion35 && _iterator35.return) {
                    _iterator35.return();
                  }
                } finally {
                  if (_didIteratorError35) {
                    throw _iteratorError35;
                  }
                }
              }

              throw new E();
            }
          }, {
            key: "buildVersions",
            value: function buildVersions() {
              return [new ae(1, 10, 10, 8, 8, new oe(5, new se(1, 3))), new ae(2, 12, 12, 10, 10, new oe(7, new se(1, 5))), new ae(3, 14, 14, 12, 12, new oe(10, new se(1, 8))), new ae(4, 16, 16, 14, 14, new oe(12, new se(1, 12))), new ae(5, 18, 18, 16, 16, new oe(14, new se(1, 18))), new ae(6, 20, 20, 18, 18, new oe(18, new se(1, 22))), new ae(7, 22, 22, 20, 20, new oe(20, new se(1, 30))), new ae(8, 24, 24, 22, 22, new oe(24, new se(1, 36))), new ae(9, 26, 26, 24, 24, new oe(28, new se(1, 44))), new ae(10, 32, 32, 14, 14, new oe(36, new se(1, 62))), new ae(11, 36, 36, 16, 16, new oe(42, new se(1, 86))), new ae(12, 40, 40, 18, 18, new oe(48, new se(1, 114))), new ae(13, 44, 44, 20, 20, new oe(56, new se(1, 144))), new ae(14, 48, 48, 22, 22, new oe(68, new se(1, 174))), new ae(15, 52, 52, 24, 24, new oe(42, new se(2, 102))), new ae(16, 64, 64, 14, 14, new oe(56, new se(2, 140))), new ae(17, 72, 72, 16, 16, new oe(36, new se(4, 92))), new ae(18, 80, 80, 18, 18, new oe(48, new se(4, 114))), new ae(19, 88, 88, 20, 20, new oe(56, new se(4, 144))), new ae(20, 96, 96, 22, 22, new oe(68, new se(4, 174))), new ae(21, 104, 104, 24, 24, new oe(56, new se(6, 136))), new ae(22, 120, 120, 18, 18, new oe(68, new se(6, 175))), new ae(23, 132, 132, 20, 20, new oe(62, new se(8, 163))), new ae(24, 144, 144, 22, 22, new oe(62, new se(8, 156), new se(2, 155))), new ae(25, 8, 18, 6, 16, new oe(7, new se(1, 5))), new ae(26, 8, 32, 6, 14, new oe(11, new se(1, 10))), new ae(27, 12, 26, 10, 24, new oe(14, new se(1, 16))), new ae(28, 12, 36, 10, 16, new oe(18, new se(1, 22))), new ae(29, 16, 36, 14, 16, new oe(24, new se(1, 32))), new ae(30, 16, 48, 14, 22, new oe(28, new se(1, 49)))];
            }
          }]);

          return ae;
        }();

        ae.VERSIONS = ae.buildVersions();
        var ce = function () {
          function ce(t) {
            _classCallCheck(this, ce);

            var e = t.getHeight();if (e < 8 || e > 144 || 0 != (1 & e)) throw new E();this.version = ce.readVersion(t), this.mappingBitMatrix = this.extractDataRegion(t), this.readMappingMatrix = new N(this.mappingBitMatrix.getWidth(), this.mappingBitMatrix.getHeight());
          }

          _createClass(ce, [{
            key: "getVersion",
            value: function getVersion() {
              return this.version;
            }
          }, {
            key: "readCodewords",
            value: function readCodewords() {
              var t = new Int8Array(this.version.getTotalCodewords());var e = 0,
                  r = 4,
                  n = 0;var i = this.mappingBitMatrix.getHeight(),
                  o = this.mappingBitMatrix.getWidth();var s = !1,
                  a = !1,
                  c = !1,
                  l = !1;do {
                if (r !== i || 0 !== n || s) {
                  if (r !== i - 2 || 0 !== n || 0 == (3 & o) || a) {
                    if (r !== i + 4 || 2 !== n || 0 != (7 & o) || c) {
                      if (r !== i - 2 || 0 !== n || 4 != (7 & o) || l) {
                        do {
                          r < i && n >= 0 && !this.readMappingMatrix.get(n, r) && (t[e++] = 255 & this.readUtah(r, n, i, o)), r -= 2, n += 2;
                        } while (r >= 0 && n < o);r += 1, n += 3;do {
                          r >= 0 && n < o && !this.readMappingMatrix.get(n, r) && (t[e++] = 255 & this.readUtah(r, n, i, o)), r += 2, n -= 2;
                        } while (r < i && n >= 0);r += 3, n += 1;
                      } else t[e++] = 255 & this.readCorner4(i, o), r -= 2, n += 2, l = !0;
                    } else t[e++] = 255 & this.readCorner3(i, o), r -= 2, n += 2, c = !0;
                  } else t[e++] = 255 & this.readCorner2(i, o), r -= 2, n += 2, a = !0;
                } else t[e++] = 255 & this.readCorner1(i, o), r -= 2, n += 2, s = !0;
              } while (r < i || n < o);if (e !== this.version.getTotalCodewords()) throw new E();return t;
            }
          }, {
            key: "readModule",
            value: function readModule(t, e, r, n) {
              return t < 0 && (t += r, e += 4 - (r + 4 & 7)), e < 0 && (e += n, t += 4 - (n + 4 & 7)), this.readMappingMatrix.set(e, t), this.mappingBitMatrix.get(e, t);
            }
          }, {
            key: "readUtah",
            value: function readUtah(t, e, r, n) {
              var i = 0;return this.readModule(t - 2, e - 2, r, n) && (i |= 1), i <<= 1, this.readModule(t - 2, e - 1, r, n) && (i |= 1), i <<= 1, this.readModule(t - 1, e - 2, r, n) && (i |= 1), i <<= 1, this.readModule(t - 1, e - 1, r, n) && (i |= 1), i <<= 1, this.readModule(t - 1, e, r, n) && (i |= 1), i <<= 1, this.readModule(t, e - 2, r, n) && (i |= 1), i <<= 1, this.readModule(t, e - 1, r, n) && (i |= 1), i <<= 1, this.readModule(t, e, r, n) && (i |= 1), i;
            }
          }, {
            key: "readCorner1",
            value: function readCorner1(t, e) {
              var r = 0;return this.readModule(t - 1, 0, t, e) && (r |= 1), r <<= 1, this.readModule(t - 1, 1, t, e) && (r |= 1), r <<= 1, this.readModule(t - 1, 2, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 2, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(1, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(2, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(3, e - 1, t, e) && (r |= 1), r;
            }
          }, {
            key: "readCorner2",
            value: function readCorner2(t, e) {
              var r = 0;return this.readModule(t - 3, 0, t, e) && (r |= 1), r <<= 1, this.readModule(t - 2, 0, t, e) && (r |= 1), r <<= 1, this.readModule(t - 1, 0, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 4, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 3, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 2, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(1, e - 1, t, e) && (r |= 1), r;
            }
          }, {
            key: "readCorner3",
            value: function readCorner3(t, e) {
              var r = 0;return this.readModule(t - 1, 0, t, e) && (r |= 1), r <<= 1, this.readModule(t - 1, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 3, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 2, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(1, e - 3, t, e) && (r |= 1), r <<= 1, this.readModule(1, e - 2, t, e) && (r |= 1), r <<= 1, this.readModule(1, e - 1, t, e) && (r |= 1), r;
            }
          }, {
            key: "readCorner4",
            value: function readCorner4(t, e) {
              var r = 0;return this.readModule(t - 3, 0, t, e) && (r |= 1), r <<= 1, this.readModule(t - 2, 0, t, e) && (r |= 1), r <<= 1, this.readModule(t - 1, 0, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 2, t, e) && (r |= 1), r <<= 1, this.readModule(0, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(1, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(2, e - 1, t, e) && (r |= 1), r <<= 1, this.readModule(3, e - 1, t, e) && (r |= 1), r;
            }
          }, {
            key: "extractDataRegion",
            value: function extractDataRegion(t) {
              var e = this.version.getSymbolSizeRows(),
                  r = this.version.getSymbolSizeColumns();if (t.getHeight() !== e) throw new c("Dimension of bitMatrix must match the version size");var n = this.version.getDataRegionSizeRows(),
                  i = this.version.getDataRegionSizeColumns(),
                  o = e / n | 0,
                  s = r / i | 0,
                  a = new N(s * i, o * n);for (var _e100 = 0; _e100 < o; ++_e100) {
                var _r64 = _e100 * n;for (var _o33 = 0; _o33 < s; ++_o33) {
                  var _s37 = _o33 * i;for (var _c15 = 0; _c15 < n; ++_c15) {
                    var _l7 = _e100 * (n + 2) + 1 + _c15,
                        _h5 = _r64 + _c15;for (var _e101 = 0; _e101 < i; ++_e101) {
                      var _r65 = _o33 * (i + 2) + 1 + _e101;if (t.get(_r65, _l7)) {
                        var _t114 = _s37 + _e101;a.set(_t114, _h5);
                      }
                    }
                  }
                }
              }return a;
            }
          }], [{
            key: "readVersion",
            value: function readVersion(t) {
              var e = t.getHeight(),
                  r = t.getWidth();return ae.getVersionForDimensions(e, r);
            }
          }]);

          return ce;
        }();

        var le = function () {
          function le(t, e) {
            _classCallCheck(this, le);

            this.numDataCodewords = t, this.codewords = e;
          }

          _createClass(le, [{
            key: "getNumDataCodewords",
            value: function getNumDataCodewords() {
              return this.numDataCodewords;
            }
          }, {
            key: "getCodewords",
            value: function getCodewords() {
              return this.codewords;
            }
          }], [{
            key: "getDataBlocks",
            value: function getDataBlocks(t, e) {
              var r = e.getECBlocks();var n = 0;var i = r.getECBlocks();var _iteratorNormalCompletion36 = true;
              var _didIteratorError36 = false;
              var _iteratorError36 = undefined;

              try {
                for (var _iterator36 = i[Symbol.iterator](), _step36; !(_iteratorNormalCompletion36 = (_step36 = _iterator36.next()).done); _iteratorNormalCompletion36 = true) {
                  var _t115 = _step36.value;
                  n += _t115.getCount();
                }
              } catch (err) {
                _didIteratorError36 = true;
                _iteratorError36 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion36 && _iterator36.return) {
                    _iterator36.return();
                  }
                } finally {
                  if (_didIteratorError36) {
                    throw _iteratorError36;
                  }
                }
              }

              var o = new Array(n);var s = 0;var _iteratorNormalCompletion37 = true;
              var _didIteratorError37 = false;
              var _iteratorError37 = undefined;

              try {
                for (var _iterator37 = i[Symbol.iterator](), _step37; !(_iteratorNormalCompletion37 = (_step37 = _iterator37.next()).done); _iteratorNormalCompletion37 = true) {
                  var _t116 = _step37.value;
                  for (var _e105 = 0; _e105 < _t116.getCount(); _e105++) {
                    var _e106 = _t116.getDataCodewords(),
                        _n57 = r.getECCodewords() + _e106;o[s++] = new le(_e106, new Uint8Array(_n57));
                  }
                }
              } catch (err) {
                _didIteratorError37 = true;
                _iteratorError37 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion37 && _iterator37.return) {
                    _iterator37.return();
                  }
                } finally {
                  if (_didIteratorError37) {
                    throw _iteratorError37;
                  }
                }
              }

              var a = o[0].codewords.length - r.getECCodewords(),
                  l = a - 1;var h = 0;for (var _e102 = 0; _e102 < l; _e102++) {
                for (var _r66 = 0; _r66 < s; _r66++) {
                  o[_r66].codewords[_e102] = t[h++];
                }
              }var u = 24 === e.getVersionNumber(),
                  d = u ? 8 : s;for (var _e103 = 0; _e103 < d; _e103++) {
                o[_e103].codewords[a - 1] = t[h++];
              }var f = o[0].codewords.length;for (var _e104 = a; _e104 < f; _e104++) {
                for (var _r67 = 0; _r67 < s; _r67++) {
                  var _n56 = u ? (_r67 + 8) % s : _r67,
                      _i48 = u && _n56 > 7 ? _e104 - 1 : _e104;o[_n56].codewords[_i48] = t[h++];
                }
              }if (h !== t.length) throw new c();return o;
            }
          }]);

          return le;
        }();

        var he = function () {
          function he(t) {
            _classCallCheck(this, he);

            this.bytes = t, this.byteOffset = 0, this.bitOffset = 0;
          }

          _createClass(he, [{
            key: "getBitOffset",
            value: function getBitOffset() {
              return this.bitOffset;
            }
          }, {
            key: "getByteOffset",
            value: function getByteOffset() {
              return this.byteOffset;
            }
          }, {
            key: "readBits",
            value: function readBits(t) {
              if (t < 1 || t > 32 || t > this.available()) throw new c("" + t);var e = 0,
                  r = this.bitOffset,
                  n = this.byteOffset;var i = this.bytes;if (r > 0) {
                var _o34 = 8 - r,
                    _s38 = t < _o34 ? t : _o34,
                    _a18 = _o34 - _s38,
                    _c16 = 255 >> 8 - _s38 << _a18;e = (i[n] & _c16) >> _a18, t -= _s38, r += _s38, 8 === r && (r = 0, n++);
              }if (t > 0) {
                for (; t >= 8;) {
                  e = e << 8 | 255 & i[n], n++, t -= 8;
                }if (t > 0) {
                  var _o35 = 8 - t,
                      _s39 = 255 >> _o35 << _o35;e = e << t | (i[n] & _s39) >> _o35, r += t;
                }
              }return this.bitOffset = r, this.byteOffset = n, e;
            }
          }, {
            key: "available",
            value: function available() {
              return 8 * (this.bytes.length - this.byteOffset) - this.bitOffset;
            }
          }]);

          return he;
        }();

        !function (t) {
          t[t.PAD_ENCODE = 0] = "PAD_ENCODE", t[t.ASCII_ENCODE = 1] = "ASCII_ENCODE", t[t.C40_ENCODE = 2] = "C40_ENCODE", t[t.TEXT_ENCODE = 3] = "TEXT_ENCODE", t[t.ANSIX12_ENCODE = 4] = "ANSIX12_ENCODE", t[t.EDIFACT_ENCODE = 5] = "EDIFACT_ENCODE", t[t.BASE256_ENCODE = 6] = "BASE256_ENCODE";
        }(V || (V = {}));
        var ue = function () {
          function ue() {
            _classCallCheck(this, ue);
          }

          _createClass(ue, null, [{
            key: "decode",
            value: function decode(t) {
              var e = new he(t),
                  r = new y(),
                  n = new y(),
                  i = new Array();var o = V.ASCII_ENCODE;do {
                if (o === V.ASCII_ENCODE) o = this.decodeAsciiSegment(e, r, n);else {
                  switch (o) {case V.C40_ENCODE:
                      this.decodeC40Segment(e, r);break;case V.TEXT_ENCODE:
                      this.decodeTextSegment(e, r);break;case V.ANSIX12_ENCODE:
                      this.decodeAnsiX12Segment(e, r);break;case V.EDIFACT_ENCODE:
                      this.decodeEdifactSegment(e, r);break;case V.BASE256_ENCODE:
                      this.decodeBase256Segment(e, r, i);break;default:
                      throw new E();}o = V.ASCII_ENCODE;
                }
              } while (o !== V.PAD_ENCODE && e.available() > 0);return n.length() > 0 && r.append(n.toString()), new j(t, r.toString(), 0 === i.length ? null : i, null);
            }
          }, {
            key: "decodeAsciiSegment",
            value: function decodeAsciiSegment(t, e, r) {
              var n = !1;do {
                var _i49 = t.readBits(8);if (0 === _i49) throw new E();if (_i49 <= 128) return n && (_i49 += 128), e.append(String.fromCharCode(_i49 - 1)), V.ASCII_ENCODE;if (129 === _i49) return V.PAD_ENCODE;if (_i49 <= 229) {
                  var _t117 = _i49 - 130;_t117 < 10 && e.append("0"), e.append("" + _t117);
                } else switch (_i49) {case 230:
                    return V.C40_ENCODE;case 231:
                    return V.BASE256_ENCODE;case 232:
                    e.append(String.fromCharCode(29));break;case 233:case 234:case 241:
                    break;case 235:
                    n = !0;break;case 236:
                    e.append("[)>05"), r.insert(0, "");break;case 237:
                    e.append("[)>06"), r.insert(0, "");break;case 238:
                    return V.ANSIX12_ENCODE;case 239:
                    return V.TEXT_ENCODE;case 240:
                    return V.EDIFACT_ENCODE;default:
                    if (254 !== _i49 || 0 !== t.available()) throw new E();}
              } while (t.available() > 0);return V.ASCII_ENCODE;
            }
          }, {
            key: "decodeC40Segment",
            value: function decodeC40Segment(t, e) {
              var r = !1;var n = [];var i = 0;do {
                if (8 === t.available()) return;var _o36 = t.readBits(8);if (254 === _o36) return;this.parseTwoBytes(_o36, t.readBits(8), n);for (var _t118 = 0; _t118 < 3; _t118++) {
                  var _o37 = n[_t118];switch (i) {case 0:
                      if (_o37 < 3) i = _o37 + 1;else {
                        if (!(_o37 < this.C40_BASIC_SET_CHARS.length)) throw new E();{
                          var _t119 = this.C40_BASIC_SET_CHARS[_o37];r ? (e.append(String.fromCharCode(_t119.charCodeAt(0) + 128)), r = !1) : e.append(_t119);
                        }
                      }break;case 1:
                      r ? (e.append(String.fromCharCode(_o37 + 128)), r = !1) : e.append(String.fromCharCode(_o37)), i = 0;break;case 2:
                      if (_o37 < this.C40_SHIFT2_SET_CHARS.length) {
                        var _t120 = this.C40_SHIFT2_SET_CHARS[_o37];r ? (e.append(String.fromCharCode(_t120.charCodeAt(0) + 128)), r = !1) : e.append(_t120);
                      } else switch (_o37) {case 27:
                          e.append(String.fromCharCode(29));break;case 30:
                          r = !0;break;default:
                          throw new E();}i = 0;break;case 3:
                      r ? (e.append(String.fromCharCode(_o37 + 224)), r = !1) : e.append(String.fromCharCode(_o37 + 96)), i = 0;break;default:
                      throw new E();}
                }
              } while (t.available() > 0);
            }
          }, {
            key: "decodeTextSegment",
            value: function decodeTextSegment(t, e) {
              var r = !1,
                  n = [],
                  i = 0;do {
                if (8 === t.available()) return;var _o38 = t.readBits(8);if (254 === _o38) return;this.parseTwoBytes(_o38, t.readBits(8), n);for (var _t121 = 0; _t121 < 3; _t121++) {
                  var _o39 = n[_t121];switch (i) {case 0:
                      if (_o39 < 3) i = _o39 + 1;else {
                        if (!(_o39 < this.TEXT_BASIC_SET_CHARS.length)) throw new E();{
                          var _t122 = this.TEXT_BASIC_SET_CHARS[_o39];r ? (e.append(String.fromCharCode(_t122.charCodeAt(0) + 128)), r = !1) : e.append(_t122);
                        }
                      }break;case 1:
                      r ? (e.append(String.fromCharCode(_o39 + 128)), r = !1) : e.append(String.fromCharCode(_o39)), i = 0;break;case 2:
                      if (_o39 < this.TEXT_SHIFT2_SET_CHARS.length) {
                        var _t123 = this.TEXT_SHIFT2_SET_CHARS[_o39];r ? (e.append(String.fromCharCode(_t123.charCodeAt(0) + 128)), r = !1) : e.append(_t123);
                      } else switch (_o39) {case 27:
                          e.append(String.fromCharCode(29));break;case 30:
                          r = !0;break;default:
                          throw new E();}i = 0;break;case 3:
                      if (!(_o39 < this.TEXT_SHIFT3_SET_CHARS.length)) throw new E();{
                        var _t124 = this.TEXT_SHIFT3_SET_CHARS[_o39];r ? (e.append(String.fromCharCode(_t124.charCodeAt(0) + 128)), r = !1) : e.append(_t124), i = 0;
                      }break;default:
                      throw new E();}
                }
              } while (t.available() > 0);
            }
          }, {
            key: "decodeAnsiX12Segment",
            value: function decodeAnsiX12Segment(t, e) {
              var r = [];do {
                if (8 === t.available()) return;var _n58 = t.readBits(8);if (254 === _n58) return;this.parseTwoBytes(_n58, t.readBits(8), r);for (var _t125 = 0; _t125 < 3; _t125++) {
                  var _n59 = r[_t125];switch (_n59) {case 0:
                      e.append("\r");break;case 1:
                      e.append("*");break;case 2:
                      e.append(">");break;case 3:
                      e.append(" ");break;default:
                      if (_n59 < 14) e.append(String.fromCharCode(_n59 + 44));else {
                        if (!(_n59 < 40)) throw new E();e.append(String.fromCharCode(_n59 + 51));
                      }}
                }
              } while (t.available() > 0);
            }
          }, {
            key: "parseTwoBytes",
            value: function parseTwoBytes(t, e, r) {
              var n = (t << 8) + e - 1,
                  i = Math.floor(n / 1600);r[0] = i, n -= 1600 * i, i = Math.floor(n / 40), r[1] = i, r[2] = n - 40 * i;
            }
          }, {
            key: "decodeEdifactSegment",
            value: function decodeEdifactSegment(t, e) {
              do {
                if (t.available() <= 16) return;for (var r = 0; r < 4; r++) {
                  var r = t.readBits(6);if (31 === r) {
                    var _e107 = 8 - t.getBitOffset();return void (8 !== _e107 && t.readBits(_e107));
                  }0 == (32 & r) && (r |= 64), e.append(String.fromCharCode(r));
                }
              } while (t.available() > 0);
            }
          }, {
            key: "decodeBase256Segment",
            value: function decodeBase256Segment(t, e, r) {
              var n = 1 + t.getByteOffset();var i = this.unrandomize255State(t.readBits(8), n++);var o = void 0;if (o = 0 === i ? t.available() / 8 | 0 : i < 250 ? i : 250 * (i - 249) + this.unrandomize255State(t.readBits(8), n++), o < 0) throw new E();var s = new Uint8Array(o);for (var _e108 = 0; _e108 < o; _e108++) {
                if (t.available() < 8) throw new E();s[_e108] = this.unrandomize255State(t.readBits(8), n++);
              }r.push(s);try {
                e.append(_.decode(s, T.ISO88591));
              } catch (t) {
                throw new $("Platform does not support required encoding: " + t.message);
              }
            }
          }, {
            key: "unrandomize255State",
            value: function unrandomize255State(t, e) {
              var r = t - (149 * e % 255 + 1);return r >= 0 ? r : r + 256;
            }
          }]);

          return ue;
        }();

        ue.C40_BASIC_SET_CHARS = ["*", "*", "*", " ", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], ue.C40_SHIFT2_SET_CHARS = ["!", '"', "#", "$", "%", "&", "'", "(", ")", "*", "+", ",", "-", ".", "/", ":", ";", "<", "=", ">", "?", "@", "[", "\\", "]", "^", "_"], ue.TEXT_BASIC_SET_CHARS = ["*", "*", "*", " ", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], ue.TEXT_SHIFT2_SET_CHARS = ue.C40_SHIFT2_SET_CHARS, ue.TEXT_SHIFT3_SET_CHARS = ["`", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "{", "|", "}", "~", String.fromCharCode(127)];
        var de = function () {
          function de() {
            _classCallCheck(this, de);

            this.rsDecoder = new tt(q.DATA_MATRIX_FIELD_256);
          }

          _createClass(de, [{
            key: "decode",
            value: function decode(t) {
              var e = new ce(t),
                  r = e.getVersion(),
                  n = e.readCodewords(),
                  i = le.getDataBlocks(n, r);var o = 0;var _iteratorNormalCompletion38 = true;
              var _didIteratorError38 = false;
              var _iteratorError38 = undefined;

              try {
                for (var _iterator38 = i[Symbol.iterator](), _step38; !(_iteratorNormalCompletion38 = (_step38 = _iterator38.next()).done); _iteratorNormalCompletion38 = true) {
                  var _t127 = _step38.value;
                  o += _t127.getNumDataCodewords();
                }
              } catch (err) {
                _didIteratorError38 = true;
                _iteratorError38 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion38 && _iterator38.return) {
                    _iterator38.return();
                  }
                } finally {
                  if (_didIteratorError38) {
                    throw _iteratorError38;
                  }
                }
              }

              var s = new Uint8Array(o),
                  a = i.length;for (var _t126 = 0; _t126 < a; _t126++) {
                var _e109 = i[_t126],
                    _r68 = _e109.getCodewords(),
                    _n60 = _e109.getNumDataCodewords();this.correctErrors(_r68, _n60);for (var _e110 = 0; _e110 < _n60; _e110++) {
                  s[_e110 * a + _t126] = _r68[_e110];
                }
              }return ue.decode(s);
            }
          }, {
            key: "correctErrors",
            value: function correctErrors(t, e) {
              var r = new Int32Array(t);try {
                this.rsDecoder.decode(r, t.length - e);
              } catch (t) {
                throw new h();
              }for (var _n61 = 0; _n61 < e; _n61++) {
                t[_n61] = r[_n61];
              }
            }
          }]);

          return de;
        }();

        var fe = function () {
          function fe(t) {
            _classCallCheck(this, fe);

            this.image = t, this.rectangleDetector = new at(this.image);
          }

          _createClass(fe, [{
            key: "detect",
            value: function detect() {
              var t = this.rectangleDetector.detect();var e = this.detectSolid1(t);if (e = this.detectSolid2(e), e[3] = this.correctTopRight(e), !e[3]) throw new D();e = this.shiftToModuleCenter(e);var r = e[0],
                  n = e[1],
                  i = e[2],
                  o = e[3];var s = this.transitionsBetween(r, o) + 1,
                  a = this.transitionsBetween(i, o) + 1;1 == (1 & s) && (s += 1), 1 == (1 & a) && (a += 1), 4 * s < 7 * a && 4 * a < 7 * s && (s = a = Math.max(s, a));var c = fe.sampleGrid(this.image, r, n, i, o, s, a);return new ot(c, [r, n, i, o]);
            }
          }, {
            key: "detectSolid1",
            value: function detectSolid1(t) {
              var e = t[0],
                  r = t[1],
                  n = t[3],
                  i = t[2],
                  o = this.transitionsBetween(e, r),
                  s = this.transitionsBetween(r, n),
                  a = this.transitionsBetween(n, i),
                  c = this.transitionsBetween(i, e),
                  l = o,
                  h = [i, e, r, n];return l > s && (l = s, h[0] = e, h[1] = r, h[2] = n, h[3] = i), l > a && (l = a, h[0] = r, h[1] = n, h[2] = i, h[3] = e), l > c && (h[0] = n, h[1] = i, h[2] = e, h[3] = r), h;
            }
          }, {
            key: "detectSolid2",
            value: function detectSolid2(t) {
              var e = t[0],
                  r = t[1],
                  n = t[2],
                  i = t[3],
                  o = this.transitionsBetween(e, i),
                  s = fe.shiftPoint(r, n, 4 * (o + 1)),
                  a = fe.shiftPoint(n, r, 4 * (o + 1));return this.transitionsBetween(s, e) < this.transitionsBetween(a, i) ? (t[0] = e, t[1] = r, t[2] = n, t[3] = i) : (t[0] = r, t[1] = n, t[2] = i, t[3] = e), t;
            }
          }, {
            key: "correctTopRight",
            value: function correctTopRight(t) {
              var e = t[0],
                  r = t[1],
                  n = t[2],
                  i = t[3],
                  o = this.transitionsBetween(e, i),
                  s = this.transitionsBetween(r, i),
                  a = fe.shiftPoint(e, r, 4 * (s + 1)),
                  c = fe.shiftPoint(n, r, 4 * (o + 1));o = this.transitionsBetween(a, i), s = this.transitionsBetween(c, i);var l = new it(i.getX() + (n.getX() - r.getX()) / (o + 1), i.getY() + (n.getY() - r.getY()) / (o + 1)),
                  h = new it(i.getX() + (e.getX() - r.getX()) / (s + 1), i.getY() + (e.getY() - r.getY()) / (s + 1));return this.isValid(l) ? this.isValid(h) ? this.transitionsBetween(a, l) + this.transitionsBetween(c, l) > this.transitionsBetween(a, h) + this.transitionsBetween(c, h) ? l : h : l : this.isValid(h) ? h : null;
            }
          }, {
            key: "shiftToModuleCenter",
            value: function shiftToModuleCenter(t) {
              var e = t[0],
                  r = t[1],
                  n = t[2],
                  i = t[3],
                  o = this.transitionsBetween(e, i) + 1,
                  s = this.transitionsBetween(n, i) + 1,
                  a = fe.shiftPoint(e, r, 4 * s),
                  c = fe.shiftPoint(n, r, 4 * o);o = this.transitionsBetween(a, i) + 1, s = this.transitionsBetween(c, i) + 1, 1 == (1 & o) && (o += 1), 1 == (1 & s) && (s += 1);var l = void 0,
                  h = void 0,
                  u = (e.getX() + r.getX() + n.getX() + i.getX()) / 4,
                  d = (e.getY() + r.getY() + n.getY() + i.getY()) / 4;return e = fe.moveAway(e, u, d), r = fe.moveAway(r, u, d), n = fe.moveAway(n, u, d), i = fe.moveAway(i, u, d), a = fe.shiftPoint(e, r, 4 * s), a = fe.shiftPoint(a, i, 4 * o), l = fe.shiftPoint(r, e, 4 * s), l = fe.shiftPoint(l, n, 4 * o), c = fe.shiftPoint(n, i, 4 * s), c = fe.shiftPoint(c, r, 4 * o), h = fe.shiftPoint(i, n, 4 * s), h = fe.shiftPoint(h, e, 4 * o), [a, l, c, h];
            }
          }, {
            key: "isValid",
            value: function isValid(t) {
              return t.getX() >= 0 && t.getX() < this.image.getWidth() && t.getY() > 0 && t.getY() < this.image.getHeight();
            }
          }, {
            key: "transitionsBetween",
            value: function transitionsBetween(t, e) {
              var r = Math.trunc(t.getX()),
                  n = Math.trunc(t.getY()),
                  i = Math.trunc(e.getX()),
                  o = Math.trunc(e.getY()),
                  s = Math.abs(o - n) > Math.abs(i - r);if (s) {
                var _t128 = r;r = n, n = _t128, _t128 = i, i = o, o = _t128;
              }var a = Math.abs(i - r),
                  c = Math.abs(o - n),
                  l = -a / 2,
                  h = n < o ? 1 : -1,
                  u = r < i ? 1 : -1,
                  d = 0,
                  f = this.image.get(s ? n : r, s ? r : n);for (var _t129 = r, _e111 = n; _t129 !== i; _t129 += u) {
                var _r69 = this.image.get(s ? _e111 : _t129, s ? _t129 : _e111);if (_r69 !== f && (d++, f = _r69), l += c, l > 0) {
                  if (_e111 === o) break;_e111 += h, l -= a;
                }
              }return d;
            }
          }], [{
            key: "shiftPoint",
            value: function shiftPoint(t, e, r) {
              var n = (e.getX() - t.getX()) / (r + 1),
                  i = (e.getY() - t.getY()) / (r + 1);return new it(t.getX() + n, t.getY() + i);
            }
          }, {
            key: "moveAway",
            value: function moveAway(t, e, r) {
              var n = t.getX(),
                  i = t.getY();return n < e ? n -= 1 : n += 1, i < r ? i -= 1 : i += 1, new it(n, i);
            }
          }, {
            key: "sampleGrid",
            value: function sampleGrid(t, e, r, n, i, o, s) {
              return ut.getInstance().sampleGrid(t, o, s, .5, .5, o - .5, .5, o - .5, s - .5, .5, s - .5, e.getX(), e.getY(), i.getX(), i.getY(), n.getX(), n.getY(), r.getX(), r.getY());
            }
          }]);

          return fe;
        }();

        var ge = function () {
          function ge() {
            _classCallCheck(this, ge);

            this.decoder = new de();
          }

          _createClass(ge, [{
            key: "decode",
            value: function decode(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var r = void 0,
                  n = void 0;if (null != e && e.has(C.PURE_BARCODE)) {
                var _e112 = ge.extractPureBits(t.getBlackMatrix());r = this.decoder.decode(_e112), n = ge.NO_POINTS;
              } else {
                var _e113 = new fe(t.getBlackMatrix()).detect();r = this.decoder.decode(_e113.getBits()), n = _e113.getPoints();
              }var i = r.getRawBytes(),
                  o = new x(r.getText(), i, 8 * i.length, n, U.DATA_MATRIX, d.currentTimeMillis()),
                  s = r.getByteSegments();null != s && o.putMetadata(W.BYTE_SEGMENTS, s);var a = r.getECLevel();return null != a && o.putMetadata(W.ERROR_CORRECTION_LEVEL, a), o;
            }
          }, {
            key: "reset",
            value: function reset() {}
          }], [{
            key: "extractPureBits",
            value: function extractPureBits(t) {
              var e = t.getTopLeftOnBit(),
                  r = t.getBottomRightOnBit();if (null == e || null == r) throw new D();var n = this.moduleSize(e, t);var i = e[1];var o = r[1];var s = e[0];var a = (r[0] - s + 1) / n,
                  c = (o - i + 1) / n;if (a <= 0 || c <= 0) throw new D();var l = n / 2;i += l, s += l;var h = new N(a, c);for (var _e114 = 0; _e114 < c; _e114++) {
                var _r70 = i + _e114 * n;for (var _i50 = 0; _i50 < a; _i50++) {
                  t.get(s + _i50 * n, _r70) && h.set(_i50, _e114);
                }
              }return h;
            }
          }, {
            key: "moduleSize",
            value: function moduleSize(t, e) {
              var r = e.getWidth();var n = t[0];var i = t[1];for (; n < r && e.get(n, i);) {
                n++;
              }if (n === r) throw new D();var o = n - t[0];if (0 === o) throw new D();return o;
            }
          }]);

          return ge;
        }();

        ge.NO_POINTS = [];!function (t) {
          t[t.L = 0] = "L", t[t.M = 1] = "M", t[t.Q = 2] = "Q", t[t.H = 3] = "H";
        }(z || (z = {}));
        var we = function () {
          function we(t, e, r) {
            _classCallCheck(this, we);

            this.value = t, this.stringValue = e, this.bits = r, we.FOR_BITS.set(r, this), we.FOR_VALUE.set(t, this);
          }

          _createClass(we, [{
            key: "getValue",
            value: function getValue() {
              return this.value;
            }
          }, {
            key: "getBits",
            value: function getBits() {
              return this.bits;
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.stringValue;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof we)) return !1;var e = t;return this.value === e.value;
            }
          }], [{
            key: "fromString",
            value: function fromString(t) {
              switch (t) {case "L":
                  return we.L;case "M":
                  return we.M;case "Q":
                  return we.Q;case "H":
                  return we.H;default:
                  throw new a(t + "not available");}
            }
          }, {
            key: "forBits",
            value: function forBits(t) {
              if (t < 0 || t >= we.FOR_BITS.size) throw new c();return we.FOR_BITS.get(t);
            }
          }]);

          return we;
        }();

        we.FOR_BITS = new Map(), we.FOR_VALUE = new Map(), we.L = new we(z.L, "L", 1), we.M = new we(z.M, "M", 0), we.Q = new we(z.Q, "Q", 3), we.H = new we(z.H, "H", 2);
        var me = function () {
          function me(t) {
            _classCallCheck(this, me);

            this.errorCorrectionLevel = we.forBits(t >> 3 & 3), this.dataMask = 7 & t;
          }

          _createClass(me, [{
            key: "getErrorCorrectionLevel",
            value: function getErrorCorrectionLevel() {
              return this.errorCorrectionLevel;
            }
          }, {
            key: "getDataMask",
            value: function getDataMask() {
              return this.dataMask;
            }
          }, {
            key: "hashCode",
            value: function hashCode() {
              return this.errorCorrectionLevel.getBits() << 3 | this.dataMask;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof me)) return !1;var e = t;return this.errorCorrectionLevel === e.errorCorrectionLevel && this.dataMask === e.dataMask;
            }
          }], [{
            key: "numBitsDiffering",
            value: function numBitsDiffering(t, e) {
              return m.bitCount(t ^ e);
            }
          }, {
            key: "decodeFormatInformation",
            value: function decodeFormatInformation(t, e) {
              var r = me.doDecodeFormatInformation(t, e);return null !== r ? r : me.doDecodeFormatInformation(t ^ me.FORMAT_INFO_MASK_QR, e ^ me.FORMAT_INFO_MASK_QR);
            }
          }, {
            key: "doDecodeFormatInformation",
            value: function doDecodeFormatInformation(t, e) {
              var r = Number.MAX_SAFE_INTEGER,
                  n = 0;var _iteratorNormalCompletion39 = true;
              var _didIteratorError39 = false;
              var _iteratorError39 = undefined;

              try {
                for (var _iterator39 = me.FORMAT_INFO_DECODE_LOOKUP[Symbol.iterator](), _step39; !(_iteratorNormalCompletion39 = (_step39 = _iterator39.next()).done); _iteratorNormalCompletion39 = true) {
                  var _i51 = _step39.value;
                  var _o40 = _i51[0];if (_o40 === t || _o40 === e) return new me(_i51[1]);var _s40 = me.numBitsDiffering(t, _o40);_s40 < r && (n = _i51[1], r = _s40), t !== e && (_s40 = me.numBitsDiffering(e, _o40), _s40 < r && (n = _i51[1], r = _s40));
                }
              } catch (err) {
                _didIteratorError39 = true;
                _iteratorError39 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion39 && _iterator39.return) {
                    _iterator39.return();
                  }
                } finally {
                  if (_didIteratorError39) {
                    throw _iteratorError39;
                  }
                }
              }

              return r <= 3 ? new me(n) : null;
            }
          }]);

          return me;
        }();

        me.FORMAT_INFO_MASK_QR = 21522, me.FORMAT_INFO_DECODE_LOOKUP = [Int32Array.from([21522, 0]), Int32Array.from([20773, 1]), Int32Array.from([24188, 2]), Int32Array.from([23371, 3]), Int32Array.from([17913, 4]), Int32Array.from([16590, 5]), Int32Array.from([20375, 6]), Int32Array.from([19104, 7]), Int32Array.from([30660, 8]), Int32Array.from([29427, 9]), Int32Array.from([32170, 10]), Int32Array.from([30877, 11]), Int32Array.from([26159, 12]), Int32Array.from([25368, 13]), Int32Array.from([27713, 14]), Int32Array.from([26998, 15]), Int32Array.from([5769, 16]), Int32Array.from([5054, 17]), Int32Array.from([7399, 18]), Int32Array.from([6608, 19]), Int32Array.from([1890, 20]), Int32Array.from([597, 21]), Int32Array.from([3340, 22]), Int32Array.from([2107, 23]), Int32Array.from([13663, 24]), Int32Array.from([12392, 25]), Int32Array.from([16177, 26]), Int32Array.from([14854, 27]), Int32Array.from([9396, 28]), Int32Array.from([8579, 29]), Int32Array.from([11994, 30]), Int32Array.from([11245, 31])];
        var pe = function () {
          function pe(t) {
            _classCallCheck(this, pe);

            for (var _len4 = arguments.length, e = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
              e[_key4 - 1] = arguments[_key4];
            }

            this.ecCodewordsPerBlock = t, this.ecBlocks = e;
          }

          _createClass(pe, [{
            key: "getECCodewordsPerBlock",
            value: function getECCodewordsPerBlock() {
              return this.ecCodewordsPerBlock;
            }
          }, {
            key: "getNumBlocks",
            value: function getNumBlocks() {
              var t = 0;var e = this.ecBlocks;var _iteratorNormalCompletion40 = true;
              var _didIteratorError40 = false;
              var _iteratorError40 = undefined;

              try {
                for (var _iterator40 = e[Symbol.iterator](), _step40; !(_iteratorNormalCompletion40 = (_step40 = _iterator40.next()).done); _iteratorNormalCompletion40 = true) {
                  var r = _step40.value;
                  t += r.getCount();
                }
              } catch (err) {
                _didIteratorError40 = true;
                _iteratorError40 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion40 && _iterator40.return) {
                    _iterator40.return();
                  }
                } finally {
                  if (_didIteratorError40) {
                    throw _iteratorError40;
                  }
                }
              }

              return t;
            }
          }, {
            key: "getTotalECCodewords",
            value: function getTotalECCodewords() {
              return this.ecCodewordsPerBlock * this.getNumBlocks();
            }
          }, {
            key: "getECBlocks",
            value: function getECBlocks() {
              return this.ecBlocks;
            }
          }]);

          return pe;
        }();

        var Ae = function () {
          function Ae(t, e) {
            _classCallCheck(this, Ae);

            this.count = t, this.dataCodewords = e;
          }

          _createClass(Ae, [{
            key: "getCount",
            value: function getCount() {
              return this.count;
            }
          }, {
            key: "getDataCodewords",
            value: function getDataCodewords() {
              return this.dataCodewords;
            }
          }]);

          return Ae;
        }();

        var Ce = function () {
          function Ce(t, e) {
            _classCallCheck(this, Ce);

            for (var _len5 = arguments.length, r = Array(_len5 > 2 ? _len5 - 2 : 0), _key5 = 2; _key5 < _len5; _key5++) {
              r[_key5 - 2] = arguments[_key5];
            }

            this.versionNumber = t, this.alignmentPatternCenters = e, this.ecBlocks = r;var n = 0;var i = r[0].getECCodewordsPerBlock(),
                o = r[0].getECBlocks();var _iteratorNormalCompletion41 = true;
            var _didIteratorError41 = false;
            var _iteratorError41 = undefined;

            try {
              for (var _iterator41 = o[Symbol.iterator](), _step41; !(_iteratorNormalCompletion41 = (_step41 = _iterator41.next()).done); _iteratorNormalCompletion41 = true) {
                var _t130 = _step41.value;
                n += _t130.getCount() * (_t130.getDataCodewords() + i);
              }
            } catch (err) {
              _didIteratorError41 = true;
              _iteratorError41 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion41 && _iterator41.return) {
                  _iterator41.return();
                }
              } finally {
                if (_didIteratorError41) {
                  throw _iteratorError41;
                }
              }
            }

            this.totalCodewords = n;
          }

          _createClass(Ce, [{
            key: "getVersionNumber",
            value: function getVersionNumber() {
              return this.versionNumber;
            }
          }, {
            key: "getAlignmentPatternCenters",
            value: function getAlignmentPatternCenters() {
              return this.alignmentPatternCenters;
            }
          }, {
            key: "getTotalCodewords",
            value: function getTotalCodewords() {
              return this.totalCodewords;
            }
          }, {
            key: "getDimensionForVersion",
            value: function getDimensionForVersion() {
              return 17 + 4 * this.versionNumber;
            }
          }, {
            key: "getECBlocksForLevel",
            value: function getECBlocksForLevel(t) {
              return this.ecBlocks[t.getValue()];
            }
          }, {
            key: "buildFunctionPattern",
            value: function buildFunctionPattern() {
              var t = this.getDimensionForVersion(),
                  e = new N(t);e.setRegion(0, 0, 9, 9), e.setRegion(t - 8, 0, 8, 9), e.setRegion(0, t - 8, 9, 8);var r = this.alignmentPatternCenters.length;for (var _t131 = 0; _t131 < r; _t131++) {
                var _n62 = this.alignmentPatternCenters[_t131] - 2;for (var _i52 = 0; _i52 < r; _i52++) {
                  0 === _t131 && (0 === _i52 || _i52 === r - 1) || _t131 === r - 1 && 0 === _i52 || e.setRegion(this.alignmentPatternCenters[_i52] - 2, _n62, 5, 5);
                }
              }return e.setRegion(6, 9, 1, t - 17), e.setRegion(9, 6, t - 17, 1), this.versionNumber > 6 && (e.setRegion(t - 11, 0, 3, 6), e.setRegion(0, t - 11, 6, 3)), e;
            }
          }, {
            key: "toString",
            value: function toString() {
              return "" + this.versionNumber;
            }
          }], [{
            key: "getProvisionalVersionForDimension",
            value: function getProvisionalVersionForDimension(t) {
              if (t % 4 != 1) throw new E();try {
                return this.getVersionForNumber((t - 17) / 4);
              } catch (t) {
                throw new E();
              }
            }
          }, {
            key: "getVersionForNumber",
            value: function getVersionForNumber(t) {
              if (t < 1 || t > 40) throw new c();return Ce.VERSIONS[t - 1];
            }
          }, {
            key: "decodeVersionInformation",
            value: function decodeVersionInformation(t) {
              var e = Number.MAX_SAFE_INTEGER,
                  r = 0;for (var _n63 = 0; _n63 < Ce.VERSION_DECODE_INFO.length; _n63++) {
                var _i53 = Ce.VERSION_DECODE_INFO[_n63];if (_i53 === t) return Ce.getVersionForNumber(_n63 + 7);var _o41 = me.numBitsDiffering(t, _i53);_o41 < e && (r = _n63 + 7, e = _o41);
              }return e <= 3 ? Ce.getVersionForNumber(r) : null;
            }
          }]);

          return Ce;
        }();

        Ce.VERSION_DECODE_INFO = Int32Array.from([31892, 34236, 39577, 42195, 48118, 51042, 55367, 58893, 63784, 68472, 70749, 76311, 79154, 84390, 87683, 92361, 96236, 102084, 102881, 110507, 110734, 117786, 119615, 126325, 127568, 133589, 136944, 141498, 145311, 150283, 152622, 158308, 161089, 167017]), Ce.VERSIONS = [new Ce(1, new Int32Array(0), new pe(7, new Ae(1, 19)), new pe(10, new Ae(1, 16)), new pe(13, new Ae(1, 13)), new pe(17, new Ae(1, 9))), new Ce(2, Int32Array.from([6, 18]), new pe(10, new Ae(1, 34)), new pe(16, new Ae(1, 28)), new pe(22, new Ae(1, 22)), new pe(28, new Ae(1, 16))), new Ce(3, Int32Array.from([6, 22]), new pe(15, new Ae(1, 55)), new pe(26, new Ae(1, 44)), new pe(18, new Ae(2, 17)), new pe(22, new Ae(2, 13))), new Ce(4, Int32Array.from([6, 26]), new pe(20, new Ae(1, 80)), new pe(18, new Ae(2, 32)), new pe(26, new Ae(2, 24)), new pe(16, new Ae(4, 9))), new Ce(5, Int32Array.from([6, 30]), new pe(26, new Ae(1, 108)), new pe(24, new Ae(2, 43)), new pe(18, new Ae(2, 15), new Ae(2, 16)), new pe(22, new Ae(2, 11), new Ae(2, 12))), new Ce(6, Int32Array.from([6, 34]), new pe(18, new Ae(2, 68)), new pe(16, new Ae(4, 27)), new pe(24, new Ae(4, 19)), new pe(28, new Ae(4, 15))), new Ce(7, Int32Array.from([6, 22, 38]), new pe(20, new Ae(2, 78)), new pe(18, new Ae(4, 31)), new pe(18, new Ae(2, 14), new Ae(4, 15)), new pe(26, new Ae(4, 13), new Ae(1, 14))), new Ce(8, Int32Array.from([6, 24, 42]), new pe(24, new Ae(2, 97)), new pe(22, new Ae(2, 38), new Ae(2, 39)), new pe(22, new Ae(4, 18), new Ae(2, 19)), new pe(26, new Ae(4, 14), new Ae(2, 15))), new Ce(9, Int32Array.from([6, 26, 46]), new pe(30, new Ae(2, 116)), new pe(22, new Ae(3, 36), new Ae(2, 37)), new pe(20, new Ae(4, 16), new Ae(4, 17)), new pe(24, new Ae(4, 12), new Ae(4, 13))), new Ce(10, Int32Array.from([6, 28, 50]), new pe(18, new Ae(2, 68), new Ae(2, 69)), new pe(26, new Ae(4, 43), new Ae(1, 44)), new pe(24, new Ae(6, 19), new Ae(2, 20)), new pe(28, new Ae(6, 15), new Ae(2, 16))), new Ce(11, Int32Array.from([6, 30, 54]), new pe(20, new Ae(4, 81)), new pe(30, new Ae(1, 50), new Ae(4, 51)), new pe(28, new Ae(4, 22), new Ae(4, 23)), new pe(24, new Ae(3, 12), new Ae(8, 13))), new Ce(12, Int32Array.from([6, 32, 58]), new pe(24, new Ae(2, 92), new Ae(2, 93)), new pe(22, new Ae(6, 36), new Ae(2, 37)), new pe(26, new Ae(4, 20), new Ae(6, 21)), new pe(28, new Ae(7, 14), new Ae(4, 15))), new Ce(13, Int32Array.from([6, 34, 62]), new pe(26, new Ae(4, 107)), new pe(22, new Ae(8, 37), new Ae(1, 38)), new pe(24, new Ae(8, 20), new Ae(4, 21)), new pe(22, new Ae(12, 11), new Ae(4, 12))), new Ce(14, Int32Array.from([6, 26, 46, 66]), new pe(30, new Ae(3, 115), new Ae(1, 116)), new pe(24, new Ae(4, 40), new Ae(5, 41)), new pe(20, new Ae(11, 16), new Ae(5, 17)), new pe(24, new Ae(11, 12), new Ae(5, 13))), new Ce(15, Int32Array.from([6, 26, 48, 70]), new pe(22, new Ae(5, 87), new Ae(1, 88)), new pe(24, new Ae(5, 41), new Ae(5, 42)), new pe(30, new Ae(5, 24), new Ae(7, 25)), new pe(24, new Ae(11, 12), new Ae(7, 13))), new Ce(16, Int32Array.from([6, 26, 50, 74]), new pe(24, new Ae(5, 98), new Ae(1, 99)), new pe(28, new Ae(7, 45), new Ae(3, 46)), new pe(24, new Ae(15, 19), new Ae(2, 20)), new pe(30, new Ae(3, 15), new Ae(13, 16))), new Ce(17, Int32Array.from([6, 30, 54, 78]), new pe(28, new Ae(1, 107), new Ae(5, 108)), new pe(28, new Ae(10, 46), new Ae(1, 47)), new pe(28, new Ae(1, 22), new Ae(15, 23)), new pe(28, new Ae(2, 14), new Ae(17, 15))), new Ce(18, Int32Array.from([6, 30, 56, 82]), new pe(30, new Ae(5, 120), new Ae(1, 121)), new pe(26, new Ae(9, 43), new Ae(4, 44)), new pe(28, new Ae(17, 22), new Ae(1, 23)), new pe(28, new Ae(2, 14), new Ae(19, 15))), new Ce(19, Int32Array.from([6, 30, 58, 86]), new pe(28, new Ae(3, 113), new Ae(4, 114)), new pe(26, new Ae(3, 44), new Ae(11, 45)), new pe(26, new Ae(17, 21), new Ae(4, 22)), new pe(26, new Ae(9, 13), new Ae(16, 14))), new Ce(20, Int32Array.from([6, 34, 62, 90]), new pe(28, new Ae(3, 107), new Ae(5, 108)), new pe(26, new Ae(3, 41), new Ae(13, 42)), new pe(30, new Ae(15, 24), new Ae(5, 25)), new pe(28, new Ae(15, 15), new Ae(10, 16))), new Ce(21, Int32Array.from([6, 28, 50, 72, 94]), new pe(28, new Ae(4, 116), new Ae(4, 117)), new pe(26, new Ae(17, 42)), new pe(28, new Ae(17, 22), new Ae(6, 23)), new pe(30, new Ae(19, 16), new Ae(6, 17))), new Ce(22, Int32Array.from([6, 26, 50, 74, 98]), new pe(28, new Ae(2, 111), new Ae(7, 112)), new pe(28, new Ae(17, 46)), new pe(30, new Ae(7, 24), new Ae(16, 25)), new pe(24, new Ae(34, 13))), new Ce(23, Int32Array.from([6, 30, 54, 78, 102]), new pe(30, new Ae(4, 121), new Ae(5, 122)), new pe(28, new Ae(4, 47), new Ae(14, 48)), new pe(30, new Ae(11, 24), new Ae(14, 25)), new pe(30, new Ae(16, 15), new Ae(14, 16))), new Ce(24, Int32Array.from([6, 28, 54, 80, 106]), new pe(30, new Ae(6, 117), new Ae(4, 118)), new pe(28, new Ae(6, 45), new Ae(14, 46)), new pe(30, new Ae(11, 24), new Ae(16, 25)), new pe(30, new Ae(30, 16), new Ae(2, 17))), new Ce(25, Int32Array.from([6, 32, 58, 84, 110]), new pe(26, new Ae(8, 106), new Ae(4, 107)), new pe(28, new Ae(8, 47), new Ae(13, 48)), new pe(30, new Ae(7, 24), new Ae(22, 25)), new pe(30, new Ae(22, 15), new Ae(13, 16))), new Ce(26, Int32Array.from([6, 30, 58, 86, 114]), new pe(28, new Ae(10, 114), new Ae(2, 115)), new pe(28, new Ae(19, 46), new Ae(4, 47)), new pe(28, new Ae(28, 22), new Ae(6, 23)), new pe(30, new Ae(33, 16), new Ae(4, 17))), new Ce(27, Int32Array.from([6, 34, 62, 90, 118]), new pe(30, new Ae(8, 122), new Ae(4, 123)), new pe(28, new Ae(22, 45), new Ae(3, 46)), new pe(30, new Ae(8, 23), new Ae(26, 24)), new pe(30, new Ae(12, 15), new Ae(28, 16))), new Ce(28, Int32Array.from([6, 26, 50, 74, 98, 122]), new pe(30, new Ae(3, 117), new Ae(10, 118)), new pe(28, new Ae(3, 45), new Ae(23, 46)), new pe(30, new Ae(4, 24), new Ae(31, 25)), new pe(30, new Ae(11, 15), new Ae(31, 16))), new Ce(29, Int32Array.from([6, 30, 54, 78, 102, 126]), new pe(30, new Ae(7, 116), new Ae(7, 117)), new pe(28, new Ae(21, 45), new Ae(7, 46)), new pe(30, new Ae(1, 23), new Ae(37, 24)), new pe(30, new Ae(19, 15), new Ae(26, 16))), new Ce(30, Int32Array.from([6, 26, 52, 78, 104, 130]), new pe(30, new Ae(5, 115), new Ae(10, 116)), new pe(28, new Ae(19, 47), new Ae(10, 48)), new pe(30, new Ae(15, 24), new Ae(25, 25)), new pe(30, new Ae(23, 15), new Ae(25, 16))), new Ce(31, Int32Array.from([6, 30, 56, 82, 108, 134]), new pe(30, new Ae(13, 115), new Ae(3, 116)), new pe(28, new Ae(2, 46), new Ae(29, 47)), new pe(30, new Ae(42, 24), new Ae(1, 25)), new pe(30, new Ae(23, 15), new Ae(28, 16))), new Ce(32, Int32Array.from([6, 34, 60, 86, 112, 138]), new pe(30, new Ae(17, 115)), new pe(28, new Ae(10, 46), new Ae(23, 47)), new pe(30, new Ae(10, 24), new Ae(35, 25)), new pe(30, new Ae(19, 15), new Ae(35, 16))), new Ce(33, Int32Array.from([6, 30, 58, 86, 114, 142]), new pe(30, new Ae(17, 115), new Ae(1, 116)), new pe(28, new Ae(14, 46), new Ae(21, 47)), new pe(30, new Ae(29, 24), new Ae(19, 25)), new pe(30, new Ae(11, 15), new Ae(46, 16))), new Ce(34, Int32Array.from([6, 34, 62, 90, 118, 146]), new pe(30, new Ae(13, 115), new Ae(6, 116)), new pe(28, new Ae(14, 46), new Ae(23, 47)), new pe(30, new Ae(44, 24), new Ae(7, 25)), new pe(30, new Ae(59, 16), new Ae(1, 17))), new Ce(35, Int32Array.from([6, 30, 54, 78, 102, 126, 150]), new pe(30, new Ae(12, 121), new Ae(7, 122)), new pe(28, new Ae(12, 47), new Ae(26, 48)), new pe(30, new Ae(39, 24), new Ae(14, 25)), new pe(30, new Ae(22, 15), new Ae(41, 16))), new Ce(36, Int32Array.from([6, 24, 50, 76, 102, 128, 154]), new pe(30, new Ae(6, 121), new Ae(14, 122)), new pe(28, new Ae(6, 47), new Ae(34, 48)), new pe(30, new Ae(46, 24), new Ae(10, 25)), new pe(30, new Ae(2, 15), new Ae(64, 16))), new Ce(37, Int32Array.from([6, 28, 54, 80, 106, 132, 158]), new pe(30, new Ae(17, 122), new Ae(4, 123)), new pe(28, new Ae(29, 46), new Ae(14, 47)), new pe(30, new Ae(49, 24), new Ae(10, 25)), new pe(30, new Ae(24, 15), new Ae(46, 16))), new Ce(38, Int32Array.from([6, 32, 58, 84, 110, 136, 162]), new pe(30, new Ae(4, 122), new Ae(18, 123)), new pe(28, new Ae(13, 46), new Ae(32, 47)), new pe(30, new Ae(48, 24), new Ae(14, 25)), new pe(30, new Ae(42, 15), new Ae(32, 16))), new Ce(39, Int32Array.from([6, 26, 54, 82, 110, 138, 166]), new pe(30, new Ae(20, 117), new Ae(4, 118)), new pe(28, new Ae(40, 47), new Ae(7, 48)), new pe(30, new Ae(43, 24), new Ae(22, 25)), new pe(30, new Ae(10, 15), new Ae(67, 16))), new Ce(40, Int32Array.from([6, 30, 58, 86, 114, 142, 170]), new pe(30, new Ae(19, 118), new Ae(6, 119)), new pe(28, new Ae(18, 47), new Ae(31, 48)), new pe(30, new Ae(34, 24), new Ae(34, 25)), new pe(30, new Ae(20, 15), new Ae(61, 16)))], function (t) {
          t[t.DATA_MASK_000 = 0] = "DATA_MASK_000", t[t.DATA_MASK_001 = 1] = "DATA_MASK_001", t[t.DATA_MASK_010 = 2] = "DATA_MASK_010", t[t.DATA_MASK_011 = 3] = "DATA_MASK_011", t[t.DATA_MASK_100 = 4] = "DATA_MASK_100", t[t.DATA_MASK_101 = 5] = "DATA_MASK_101", t[t.DATA_MASK_110 = 6] = "DATA_MASK_110", t[t.DATA_MASK_111 = 7] = "DATA_MASK_111";
        }(G || (G = {}));
        var Ee = function () {
          function Ee(t, e) {
            _classCallCheck(this, Ee);

            this.value = t, this.isMasked = e;
          }

          _createClass(Ee, [{
            key: "unmaskBitMatrix",
            value: function unmaskBitMatrix(t, e) {
              for (var r = 0; r < e; r++) {
                for (var _n64 = 0; _n64 < e; _n64++) {
                  this.isMasked(r, _n64) && t.flip(_n64, r);
                }
              }
            }
          }]);

          return Ee;
        }();

        Ee.values = new Map([[G.DATA_MASK_000, new Ee(G.DATA_MASK_000, function (t, e) {
          return 0 == (t + e & 1);
        })], [G.DATA_MASK_001, new Ee(G.DATA_MASK_001, function (t, e) {
          return 0 == (1 & t);
        })], [G.DATA_MASK_010, new Ee(G.DATA_MASK_010, function (t, e) {
          return e % 3 == 0;
        })], [G.DATA_MASK_011, new Ee(G.DATA_MASK_011, function (t, e) {
          return (t + e) % 3 == 0;
        })], [G.DATA_MASK_100, new Ee(G.DATA_MASK_100, function (t, e) {
          return 0 == (Math.floor(t / 2) + Math.floor(e / 3) & 1);
        })], [G.DATA_MASK_101, new Ee(G.DATA_MASK_101, function (t, e) {
          return t * e % 6 == 0;
        })], [G.DATA_MASK_110, new Ee(G.DATA_MASK_110, function (t, e) {
          return t * e % 6 < 3;
        })], [G.DATA_MASK_111, new Ee(G.DATA_MASK_111, function (t, e) {
          return 0 == (t + e + t * e % 3 & 1);
        })]]);
        var Ie = function () {
          function Ie(t) {
            _classCallCheck(this, Ie);

            var e = t.getHeight();if (e < 21 || 1 != (3 & e)) throw new E();this.bitMatrix = t;
          }

          _createClass(Ie, [{
            key: "readFormatInformation",
            value: function readFormatInformation() {
              if (null !== this.parsedFormatInfo && void 0 !== this.parsedFormatInfo) return this.parsedFormatInfo;var t = 0;for (var _e115 = 0; _e115 < 6; _e115++) {
                t = this.copyBit(_e115, 8, t);
              }t = this.copyBit(7, 8, t), t = this.copyBit(8, 8, t), t = this.copyBit(8, 7, t);for (var _e116 = 5; _e116 >= 0; _e116--) {
                t = this.copyBit(8, _e116, t);
              }var e = this.bitMatrix.getHeight();var r = 0;var n = e - 7;for (var _t132 = e - 1; _t132 >= n; _t132--) {
                r = this.copyBit(8, _t132, r);
              }for (var _t133 = e - 8; _t133 < e; _t133++) {
                r = this.copyBit(_t133, 8, r);
              }if (this.parsedFormatInfo = me.decodeFormatInformation(t, r), null !== this.parsedFormatInfo) return this.parsedFormatInfo;throw new E();
            }
          }, {
            key: "readVersion",
            value: function readVersion() {
              if (null !== this.parsedVersion && void 0 !== this.parsedVersion) return this.parsedVersion;var t = this.bitMatrix.getHeight(),
                  e = Math.floor((t - 17) / 4);if (e <= 6) return Ce.getVersionForNumber(e);var r = 0;var n = t - 11;for (var _e117 = 5; _e117 >= 0; _e117--) {
                for (var _i54 = t - 9; _i54 >= n; _i54--) {
                  r = this.copyBit(_i54, _e117, r);
                }
              }var i = Ce.decodeVersionInformation(r);if (null !== i && i.getDimensionForVersion() === t) return this.parsedVersion = i, i;r = 0;for (var _e118 = 5; _e118 >= 0; _e118--) {
                for (var _i55 = t - 9; _i55 >= n; _i55--) {
                  r = this.copyBit(_e118, _i55, r);
                }
              }if (i = Ce.decodeVersionInformation(r), null !== i && i.getDimensionForVersion() === t) return this.parsedVersion = i, i;throw new E();
            }
          }, {
            key: "copyBit",
            value: function copyBit(t, e, r) {
              return (this.isMirror ? this.bitMatrix.get(e, t) : this.bitMatrix.get(t, e)) ? r << 1 | 1 : r << 1;
            }
          }, {
            key: "readCodewords",
            value: function readCodewords() {
              var t = this.readFormatInformation(),
                  e = this.readVersion(),
                  r = Ee.values.get(t.getDataMask()),
                  n = this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix, n);var i = e.buildFunctionPattern();var o = !0;var s = new Uint8Array(e.getTotalCodewords());var a = 0,
                  c = 0,
                  l = 0;for (var _t134 = n - 1; _t134 > 0; _t134 -= 2) {
                6 === _t134 && _t134--;for (var _e119 = 0; _e119 < n; _e119++) {
                  var _r71 = o ? n - 1 - _e119 : _e119;for (var _e120 = 0; _e120 < 2; _e120++) {
                    i.get(_t134 - _e120, _r71) || (l++, c <<= 1, this.bitMatrix.get(_t134 - _e120, _r71) && (c |= 1), 8 === l && (s[a++] = c, l = 0, c = 0));
                  }
                }o = !o;
              }if (a !== e.getTotalCodewords()) throw new E();return s;
            }
          }, {
            key: "remask",
            value: function remask() {
              if (null === this.parsedFormatInfo) return;var t = Ee.values[this.parsedFormatInfo.getDataMask()],
                  e = this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix, e);
            }
          }, {
            key: "setMirror",
            value: function setMirror(t) {
              this.parsedVersion = null, this.parsedFormatInfo = null, this.isMirror = t;
            }
          }, {
            key: "mirror",
            value: function mirror() {
              var t = this.bitMatrix;for (var _e121 = 0, r = t.getWidth(); _e121 < r; _e121++) {
                for (var _r72 = _e121 + 1, _n65 = t.getHeight(); _r72 < _n65; _r72++) {
                  t.get(_e121, _r72) !== t.get(_r72, _e121) && (t.flip(_r72, _e121), t.flip(_e121, _r72));
                }
              }
            }
          }]);

          return Ie;
        }();

        var Se = function () {
          function Se(t, e) {
            _classCallCheck(this, Se);

            this.numDataCodewords = t, this.codewords = e;
          }

          _createClass(Se, [{
            key: "getNumDataCodewords",
            value: function getNumDataCodewords() {
              return this.numDataCodewords;
            }
          }, {
            key: "getCodewords",
            value: function getCodewords() {
              return this.codewords;
            }
          }], [{
            key: "getDataBlocks",
            value: function getDataBlocks(t, e, r) {
              if (t.length !== e.getTotalCodewords()) throw new c();var n = e.getECBlocksForLevel(r);var i = 0;var o = n.getECBlocks();var _iteratorNormalCompletion42 = true;
              var _didIteratorError42 = false;
              var _iteratorError42 = undefined;

              try {
                for (var _iterator42 = o[Symbol.iterator](), _step42; !(_iteratorNormalCompletion42 = (_step42 = _iterator42.next()).done); _iteratorNormalCompletion42 = true) {
                  var _t135 = _step42.value;
                  i += _t135.getCount();
                }
              } catch (err) {
                _didIteratorError42 = true;
                _iteratorError42 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion42 && _iterator42.return) {
                    _iterator42.return();
                  }
                } finally {
                  if (_didIteratorError42) {
                    throw _iteratorError42;
                  }
                }
              }

              var s = new Array(i);var a = 0;var _iteratorNormalCompletion43 = true;
              var _didIteratorError43 = false;
              var _iteratorError43 = undefined;

              try {
                for (var _iterator43 = o[Symbol.iterator](), _step43; !(_iteratorNormalCompletion43 = (_step43 = _iterator43.next()).done); _iteratorNormalCompletion43 = true) {
                  var _t136 = _step43.value;
                  for (var _e125 = 0; _e125 < _t136.getCount(); _e125++) {
                    var _e126 = _t136.getDataCodewords(),
                        _r75 = n.getECCodewordsPerBlock() + _e126;s[a++] = new Se(_e126, new Uint8Array(_r75));
                  }
                }
              } catch (err) {
                _didIteratorError43 = true;
                _iteratorError43 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion43 && _iterator43.return) {
                    _iterator43.return();
                  }
                } finally {
                  if (_didIteratorError43) {
                    throw _iteratorError43;
                  }
                }
              }

              var l = s[0].codewords.length;var h = s.length - 1;for (; h >= 0 && s[h].codewords.length !== l;) {
                h--;
              }h++;var u = l - n.getECCodewordsPerBlock();var d = 0;for (var _e122 = 0; _e122 < u; _e122++) {
                for (var _r73 = 0; _r73 < a; _r73++) {
                  s[_r73].codewords[_e122] = t[d++];
                }
              }for (var _e123 = h; _e123 < a; _e123++) {
                s[_e123].codewords[u] = t[d++];
              }var f = s[0].codewords.length;for (var _e124 = u; _e124 < f; _e124++) {
                for (var _r74 = 0; _r74 < a; _r74++) {
                  var _n66 = _r74 < h ? _e124 : _e124 + 1;s[_r74].codewords[_n66] = t[d++];
                }
              }return s;
            }
          }]);

          return Se;
        }();

        !function (t) {
          t[t.TERMINATOR = 0] = "TERMINATOR", t[t.NUMERIC = 1] = "NUMERIC", t[t.ALPHANUMERIC = 2] = "ALPHANUMERIC", t[t.STRUCTURED_APPEND = 3] = "STRUCTURED_APPEND", t[t.BYTE = 4] = "BYTE", t[t.ECI = 5] = "ECI", t[t.KANJI = 6] = "KANJI", t[t.FNC1_FIRST_POSITION = 7] = "FNC1_FIRST_POSITION", t[t.FNC1_SECOND_POSITION = 8] = "FNC1_SECOND_POSITION", t[t.HANZI = 9] = "HANZI";
        }(Y || (Y = {}));
        var _e = function () {
          function _e(t, e, r, n) {
            _classCallCheck(this, _e);

            this.value = t, this.stringValue = e, this.characterCountBitsForVersions = r, this.bits = n, _e.FOR_BITS.set(n, this), _e.FOR_VALUE.set(t, this);
          }

          _createClass(_e, [{
            key: "getCharacterCountBits",
            value: function getCharacterCountBits(t) {
              var e = t.getVersionNumber();var r = void 0;return r = e <= 9 ? 0 : e <= 26 ? 1 : 2, this.characterCountBitsForVersions[r];
            }
          }, {
            key: "getValue",
            value: function getValue() {
              return this.value;
            }
          }, {
            key: "getBits",
            value: function getBits() {
              return this.bits;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof _e)) return !1;var e = t;return this.value === e.value;
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.stringValue;
            }
          }], [{
            key: "forBits",
            value: function forBits(t) {
              var e = _e.FOR_BITS.get(t);if (void 0 === e) throw new c();return e;
            }
          }]);

          return _e;
        }();

        _e.FOR_BITS = new Map(), _e.FOR_VALUE = new Map(), _e.TERMINATOR = new _e(Y.TERMINATOR, "TERMINATOR", Int32Array.from([0, 0, 0]), 0), _e.NUMERIC = new _e(Y.NUMERIC, "NUMERIC", Int32Array.from([10, 12, 14]), 1), _e.ALPHANUMERIC = new _e(Y.ALPHANUMERIC, "ALPHANUMERIC", Int32Array.from([9, 11, 13]), 2), _e.STRUCTURED_APPEND = new _e(Y.STRUCTURED_APPEND, "STRUCTURED_APPEND", Int32Array.from([0, 0, 0]), 3), _e.BYTE = new _e(Y.BYTE, "BYTE", Int32Array.from([8, 16, 16]), 4), _e.ECI = new _e(Y.ECI, "ECI", Int32Array.from([0, 0, 0]), 7), _e.KANJI = new _e(Y.KANJI, "KANJI", Int32Array.from([8, 10, 12]), 8), _e.FNC1_FIRST_POSITION = new _e(Y.FNC1_FIRST_POSITION, "FNC1_FIRST_POSITION", Int32Array.from([0, 0, 0]), 5), _e.FNC1_SECOND_POSITION = new _e(Y.FNC1_SECOND_POSITION, "FNC1_SECOND_POSITION", Int32Array.from([0, 0, 0]), 9), _e.HANZI = new _e(Y.HANZI, "HANZI", Int32Array.from([8, 10, 12]), 13);
        var Te = function () {
          function Te() {
            _classCallCheck(this, Te);
          }

          _createClass(Te, null, [{
            key: "decode",
            value: function decode(t, e, r, n) {
              var i = new he(t);var o = new y();var s = new Array();var a = -1,
                  c = -1;try {
                var _t137 = void 0,
                    _r76 = null,
                    _l8 = !1;do {
                  if (i.available() < 4) _t137 = _e.TERMINATOR;else {
                    var _e127 = i.readBits(4);_t137 = _e.forBits(_e127);
                  }switch (_t137) {case _e.TERMINATOR:
                      break;case _e.FNC1_FIRST_POSITION:case _e.FNC1_SECOND_POSITION:
                      _l8 = !0;break;case _e.STRUCTURED_APPEND:
                      if (i.available() < 16) throw new E();a = i.readBits(8), c = i.readBits(8);break;case _e.ECI:
                      var _h6 = Te.parseECIValue(i);if (_r76 = I.getCharacterSetECIByValue(_h6), null === _r76) throw new E();break;case _e.HANZI:
                      var _u7 = i.readBits(4),
                          _d5 = i.readBits(_t137.getCharacterCountBits(e));_u7 === Te.GB2312_SUBSET && Te.decodeHanziSegment(i, o, _d5);break;default:
                      var _f6 = i.readBits(_t137.getCharacterCountBits(e));switch (_t137) {case _e.NUMERIC:
                          Te.decodeNumericSegment(i, o, _f6);break;case _e.ALPHANUMERIC:
                          Te.decodeAlphanumericSegment(i, o, _f6, _l8);break;case _e.BYTE:
                          Te.decodeByteSegment(i, o, _f6, _r76, s, n);break;case _e.KANJI:
                          Te.decodeKanjiSegment(i, o, _f6);break;default:
                          throw new E();}}
                } while (_t137 !== _e.TERMINATOR);
              } catch (t) {
                throw new E();
              }return new j(t, o.toString(), 0 === s.length ? null : s, null === r ? null : r.toString(), a, c);
            }
          }, {
            key: "decodeHanziSegment",
            value: function decodeHanziSegment(t, e, r) {
              if (13 * r > t.available()) throw new E();var n = new Uint8Array(2 * r);var i = 0;for (; r > 0;) {
                var _e128 = t.readBits(13);var _o42 = _e128 / 96 << 8 & 4294967295 | _e128 % 96;_o42 += _o42 < 959 ? 41377 : 42657, n[i] = _o42 >> 8 & 255, n[i + 1] = 255 & _o42, i += 2, r--;
              }try {
                e.append(_.decode(n, T.GB2312));
              } catch (t) {
                throw new E(t);
              }
            }
          }, {
            key: "decodeKanjiSegment",
            value: function decodeKanjiSegment(t, e, r) {
              if (13 * r > t.available()) throw new E();var n = new Uint8Array(2 * r);var i = 0;for (; r > 0;) {
                var _e129 = t.readBits(13);var _o43 = _e129 / 192 << 8 & 4294967295 | _e129 % 192;_o43 += _o43 < 7936 ? 33088 : 49472, n[i] = _o43 >> 8, n[i + 1] = _o43, i += 2, r--;
              }try {
                e.append(_.decode(n, T.SHIFT_JIS));
              } catch (t) {
                throw new E(t);
              }
            }
          }, {
            key: "decodeByteSegment",
            value: function decodeByteSegment(t, e, r, n, i, o) {
              if (8 * r > t.available()) throw new E();var s = new Uint8Array(r);for (var _e130 = 0; _e130 < r; _e130++) {
                s[_e130] = t.readBits(8);
              }var a = void 0;a = null === n ? T.guessEncoding(s, o) : n.getName();try {
                e.append(_.decode(s, a));
              } catch (t) {
                throw new E(t);
              }i.push(s);
            }
          }, {
            key: "toAlphaNumericChar",
            value: function toAlphaNumericChar(t) {
              if (t >= Te.ALPHANUMERIC_CHARS.length) throw new E();return Te.ALPHANUMERIC_CHARS[t];
            }
          }, {
            key: "decodeAlphanumericSegment",
            value: function decodeAlphanumericSegment(t, e, r, n) {
              var i = e.length();for (; r > 1;) {
                if (t.available() < 11) throw new E();var _n67 = t.readBits(11);e.append(Te.toAlphaNumericChar(Math.floor(_n67 / 45))), e.append(Te.toAlphaNumericChar(_n67 % 45)), r -= 2;
              }if (1 === r) {
                if (t.available() < 6) throw new E();e.append(Te.toAlphaNumericChar(t.readBits(6)));
              }if (n) for (var _t138 = i; _t138 < e.length(); _t138++) {
                "%" === e.charAt(_t138) && (_t138 < e.length() - 1 && "%" === e.charAt(_t138 + 1) ? e.deleteCharAt(_t138 + 1) : e.setCharAt(_t138, String.fromCharCode(29)));
              }
            }
          }, {
            key: "decodeNumericSegment",
            value: function decodeNumericSegment(t, e, r) {
              for (; r >= 3;) {
                if (t.available() < 10) throw new E();var _n68 = t.readBits(10);if (_n68 >= 1e3) throw new E();e.append(Te.toAlphaNumericChar(Math.floor(_n68 / 100))), e.append(Te.toAlphaNumericChar(Math.floor(_n68 / 10) % 10)), e.append(Te.toAlphaNumericChar(_n68 % 10)), r -= 3;
              }if (2 === r) {
                if (t.available() < 7) throw new E();var _r77 = t.readBits(7);if (_r77 >= 100) throw new E();e.append(Te.toAlphaNumericChar(Math.floor(_r77 / 10))), e.append(Te.toAlphaNumericChar(_r77 % 10));
              } else if (1 === r) {
                if (t.available() < 4) throw new E();var _r78 = t.readBits(4);if (_r78 >= 10) throw new E();e.append(Te.toAlphaNumericChar(_r78));
              }
            }
          }, {
            key: "parseECIValue",
            value: function parseECIValue(t) {
              var e = t.readBits(8);if (0 == (128 & e)) return 127 & e;if (128 == (192 & e)) return (63 & e) << 8 & 4294967295 | t.readBits(8);if (192 == (224 & e)) return (31 & e) << 16 & 4294967295 | t.readBits(16);throw new E();
            }
          }]);

          return Te;
        }();

        Te.ALPHANUMERIC_CHARS = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:", Te.GB2312_SUBSET = 1;
        var ye = function () {
          function ye(t) {
            _classCallCheck(this, ye);

            this.mirrored = t;
          }

          _createClass(ye, [{
            key: "isMirrored",
            value: function isMirrored() {
              return this.mirrored;
            }
          }, {
            key: "applyMirroredCorrection",
            value: function applyMirroredCorrection(t) {
              if (!this.mirrored || null === t || t.length < 3) return;var e = t[0];t[0] = t[2], t[2] = e;
            }
          }]);

          return ye;
        }();

        var Ne = function () {
          function Ne() {
            _classCallCheck(this, Ne);

            this.rsDecoder = new tt(q.QR_CODE_FIELD_256);
          }

          _createClass(Ne, [{
            key: "decodeBooleanArray",
            value: function decodeBooleanArray(t, e) {
              return this.decodeBitMatrix(N.parseFromBooleanArray(t), e);
            }
          }, {
            key: "decodeBitMatrix",
            value: function decodeBitMatrix(t, e) {
              var r = new Ie(t);var n = null;try {
                return this.decodeBitMatrixParser(r, e);
              } catch (t) {
                n = t;
              }try {
                r.remask(), r.setMirror(!0), r.readVersion(), r.readFormatInformation(), r.mirror();var _t139 = this.decodeBitMatrixParser(r, e);return _t139.setOther(new ye(!0)), _t139;
              } catch (t) {
                if (null !== n) throw n;throw t;
              }
            }
          }, {
            key: "decodeBitMatrixParser",
            value: function decodeBitMatrixParser(t, e) {
              var r = t.readVersion(),
                  n = t.readFormatInformation().getErrorCorrectionLevel(),
                  i = t.readCodewords(),
                  o = Se.getDataBlocks(i, r, n);var s = 0;var _iteratorNormalCompletion44 = true;
              var _didIteratorError44 = false;
              var _iteratorError44 = undefined;

              try {
                for (var _iterator44 = o[Symbol.iterator](), _step44; !(_iteratorNormalCompletion44 = (_step44 = _iterator44.next()).done); _iteratorNormalCompletion44 = true) {
                  var _t140 = _step44.value;
                  s += _t140.getNumDataCodewords();
                }
              } catch (err) {
                _didIteratorError44 = true;
                _iteratorError44 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion44 && _iterator44.return) {
                    _iterator44.return();
                  }
                } finally {
                  if (_didIteratorError44) {
                    throw _iteratorError44;
                  }
                }
              }

              var a = new Uint8Array(s);var c = 0;var _iteratorNormalCompletion45 = true;
              var _didIteratorError45 = false;
              var _iteratorError45 = undefined;

              try {
                for (var _iterator45 = o[Symbol.iterator](), _step45; !(_iteratorNormalCompletion45 = (_step45 = _iterator45.next()).done); _iteratorNormalCompletion45 = true) {
                  var _t141 = _step45.value;
                  var _e131 = _t141.getCodewords(),
                      _r79 = _t141.getNumDataCodewords();this.correctErrors(_e131, _r79);for (var _t142 = 0; _t142 < _r79; _t142++) {
                    a[c++] = _e131[_t142];
                  }
                }
              } catch (err) {
                _didIteratorError45 = true;
                _iteratorError45 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion45 && _iterator45.return) {
                    _iterator45.return();
                  }
                } finally {
                  if (_didIteratorError45) {
                    throw _iteratorError45;
                  }
                }
              }

              return Te.decode(a, r, n, e);
            }
          }, {
            key: "correctErrors",
            value: function correctErrors(t, e) {
              var r = new Int32Array(t);try {
                this.rsDecoder.decode(r, t.length - e);
              } catch (t) {
                throw new h();
              }for (var _n69 = 0; _n69 < e; _n69++) {
                t[_n69] = r[_n69];
              }
            }
          }]);

          return Ne;
        }();

        var De = function (_it) {
          _inherits(De, _it);

          function De(t, e, r) {
            var _this53;

            _classCallCheck(this, De);

            (_this53 = _possibleConstructorReturn(this, (De.__proto__ || Object.getPrototypeOf(De)).call(this, t, e)), _this53), _this53.estimatedModuleSize = r;return _this53;
          }

          _createClass(De, [{
            key: "aboutEquals",
            value: function aboutEquals(t, e, r) {
              if (Math.abs(e - this.getY()) <= t && Math.abs(r - this.getX()) <= t) {
                var _e132 = Math.abs(t - this.estimatedModuleSize);return _e132 <= 1 || _e132 <= this.estimatedModuleSize;
              }return !1;
            }
          }, {
            key: "combineEstimate",
            value: function combineEstimate(t, e, r) {
              var n = (this.getX() + e) / 2,
                  i = (this.getY() + t) / 2,
                  o = (this.estimatedModuleSize + r) / 2;return new De(n, i, o);
            }
          }]);

          return De;
        }(it);

        var Me = function () {
          function Me(t, e, r, n, i, o, s) {
            _classCallCheck(this, Me);

            this.image = t, this.startX = e, this.startY = r, this.width = n, this.height = i, this.moduleSize = o, this.resultPointCallback = s, this.possibleCenters = [], this.crossCheckStateCount = new Int32Array(3);
          }

          _createClass(Me, [{
            key: "find",
            value: function find() {
              var t = this.startX,
                  e = this.height,
                  r = t + this.width,
                  n = this.startY + e / 2,
                  i = new Int32Array(3),
                  o = this.image;for (var _s41 = 0; _s41 < e; _s41++) {
                var _e133 = n + (0 == (1 & _s41) ? Math.floor((_s41 + 1) / 2) : -Math.floor((_s41 + 1) / 2));i[0] = 0, i[1] = 0, i[2] = 0;var _a19 = t;for (; _a19 < r && !o.get(_a19, _e133);) {
                  _a19++;
                }var _c17 = 0;for (; _a19 < r;) {
                  if (o.get(_a19, _e133)) {
                    if (1 === _c17) i[1]++;else if (2 === _c17) {
                      if (this.foundPatternCross(i)) {
                        var _t143 = this.handlePossibleCenter(i, _e133, _a19);if (null !== _t143) return _t143;
                      }i[0] = i[2], i[1] = 1, i[2] = 0, _c17 = 1;
                    } else i[++_c17]++;
                  } else 1 === _c17 && _c17++, i[_c17]++;_a19++;
                }if (this.foundPatternCross(i)) {
                  var _t144 = this.handlePossibleCenter(i, _e133, r);if (null !== _t144) return _t144;
                }
              }if (0 !== this.possibleCenters.length) return this.possibleCenters[0];throw new D();
            }
          }, {
            key: "foundPatternCross",
            value: function foundPatternCross(t) {
              var e = this.moduleSize,
                  r = e / 2;for (var _n70 = 0; _n70 < 3; _n70++) {
                if (Math.abs(e - t[_n70]) >= r) return !1;
              }return !0;
            }
          }, {
            key: "crossCheckVertical",
            value: function crossCheckVertical(t, e, r, n) {
              var i = this.image,
                  o = i.getHeight(),
                  s = this.crossCheckStateCount;s[0] = 0, s[1] = 0, s[2] = 0;var a = t;for (; a >= 0 && i.get(e, a) && s[1] <= r;) {
                s[1]++, a--;
              }if (a < 0 || s[1] > r) return NaN;for (; a >= 0 && !i.get(e, a) && s[0] <= r;) {
                s[0]++, a--;
              }if (s[0] > r) return NaN;for (a = t + 1; a < o && i.get(e, a) && s[1] <= r;) {
                s[1]++, a++;
              }if (a === o || s[1] > r) return NaN;for (; a < o && !i.get(e, a) && s[2] <= r;) {
                s[2]++, a++;
              }if (s[2] > r) return NaN;var c = s[0] + s[1] + s[2];return 5 * Math.abs(c - n) >= 2 * n ? NaN : this.foundPatternCross(s) ? Me.centerFromEnd(s, a) : NaN;
            }
          }, {
            key: "handlePossibleCenter",
            value: function handlePossibleCenter(t, e, r) {
              var n = t[0] + t[1] + t[2],
                  i = Me.centerFromEnd(t, r),
                  o = this.crossCheckVertical(e, i, 2 * t[1], n);if (!isNaN(o)) {
                var _e134 = (t[0] + t[1] + t[2]) / 3;var _iteratorNormalCompletion46 = true;
                var _didIteratorError46 = false;
                var _iteratorError46 = undefined;

                try {
                  for (var _iterator46 = this.possibleCenters[Symbol.iterator](), _step46; !(_iteratorNormalCompletion46 = (_step46 = _iterator46.next()).done); _iteratorNormalCompletion46 = true) {
                    var _t145 = _step46.value;
                    if (_t145.aboutEquals(_e134, o, i)) return _t145.combineEstimate(o, i, _e134);
                  }
                } catch (err) {
                  _didIteratorError46 = true;
                  _iteratorError46 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion46 && _iterator46.return) {
                      _iterator46.return();
                    }
                  } finally {
                    if (_didIteratorError46) {
                      throw _iteratorError46;
                    }
                  }
                }

                var _r80 = new De(i, o, _e134);this.possibleCenters.push(_r80), null !== this.resultPointCallback && void 0 !== this.resultPointCallback && this.resultPointCallback.foundPossibleResultPoint(_r80);
              }return null;
            }
          }], [{
            key: "centerFromEnd",
            value: function centerFromEnd(t, e) {
              return e - t[2] - t[1] / 2;
            }
          }]);

          return Me;
        }();

        var Re = function (_it2) {
          _inherits(Re, _it2);

          function Re(t, e, r, n) {
            var _this54;

            _classCallCheck(this, Re);

            (_this54 = _possibleConstructorReturn(this, (Re.__proto__ || Object.getPrototypeOf(Re)).call(this, t, e)), _this54), _this54.estimatedModuleSize = r, _this54.count = n, void 0 === n && (_this54.count = 1);return _this54;
          }

          _createClass(Re, [{
            key: "getEstimatedModuleSize",
            value: function getEstimatedModuleSize() {
              return this.estimatedModuleSize;
            }
          }, {
            key: "getCount",
            value: function getCount() {
              return this.count;
            }
          }, {
            key: "aboutEquals",
            value: function aboutEquals(t, e, r) {
              if (Math.abs(e - this.getY()) <= t && Math.abs(r - this.getX()) <= t) {
                var _e135 = Math.abs(t - this.estimatedModuleSize);return _e135 <= 1 || _e135 <= this.estimatedModuleSize;
              }return !1;
            }
          }, {
            key: "combineEstimate",
            value: function combineEstimate(t, e, r) {
              var n = this.count + 1,
                  i = (this.count * this.getX() + e) / n,
                  o = (this.count * this.getY() + t) / n,
                  s = (this.count * this.estimatedModuleSize + r) / n;return new Re(i, o, s, n);
            }
          }]);

          return Re;
        }(it);

        var Oe = function () {
          function Oe(t) {
            _classCallCheck(this, Oe);

            this.bottomLeft = t[0], this.topLeft = t[1], this.topRight = t[2];
          }

          _createClass(Oe, [{
            key: "getBottomLeft",
            value: function getBottomLeft() {
              return this.bottomLeft;
            }
          }, {
            key: "getTopLeft",
            value: function getTopLeft() {
              return this.topLeft;
            }
          }, {
            key: "getTopRight",
            value: function getTopRight() {
              return this.topRight;
            }
          }]);

          return Oe;
        }();

        var be = function () {
          function be(t, e) {
            _classCallCheck(this, be);

            this.image = t, this.resultPointCallback = e, this.possibleCenters = [], this.crossCheckStateCount = new Int32Array(5), this.resultPointCallback = e;
          }

          _createClass(be, [{
            key: "getImage",
            value: function getImage() {
              return this.image;
            }
          }, {
            key: "getPossibleCenters",
            value: function getPossibleCenters() {
              return this.possibleCenters;
            }
          }, {
            key: "find",
            value: function find(t) {
              var e = null != t && void 0 !== t.get(C.TRY_HARDER),
                  r = null != t && void 0 !== t.get(C.PURE_BARCODE),
                  n = this.image,
                  i = n.getHeight(),
                  o = n.getWidth();var s = Math.floor(3 * i / (4 * be.MAX_MODULES));(s < be.MIN_SKIP || e) && (s = be.MIN_SKIP);var a = !1;var c = new Int32Array(5);for (var _t146 = s - 1; _t146 < i && !a; _t146 += s) {
                c[0] = 0, c[1] = 0, c[2] = 0, c[3] = 0, c[4] = 0;var _e136 = 0;for (var _i56 = 0; _i56 < o; _i56++) {
                  if (n.get(_i56, _t146)) 1 == (1 & _e136) && _e136++, c[_e136]++;else if (0 == (1 & _e136)) {
                    if (4 === _e136) {
                      if (be.foundPatternCross(c)) {
                        if (!0 !== this.handlePossibleCenter(c, _t146, _i56, r)) {
                          c[0] = c[2], c[1] = c[3], c[2] = c[4], c[3] = 1, c[4] = 0, _e136 = 3;continue;
                        }if (s = 2, !0 === this.hasSkipped) a = this.haveMultiplyConfirmedCenters();else {
                          var _e137 = this.findRowSkip();_e137 > c[2] && (_t146 += _e137 - c[2] - s, _i56 = o - 1);
                        }_e136 = 0, c[0] = 0, c[1] = 0, c[2] = 0, c[3] = 0, c[4] = 0;
                      } else c[0] = c[2], c[1] = c[3], c[2] = c[4], c[3] = 1, c[4] = 0, _e136 = 3;
                    } else c[++_e136]++;
                  } else c[_e136]++;
                }be.foundPatternCross(c) && !0 === this.handlePossibleCenter(c, _t146, o, r) && (s = c[0], this.hasSkipped && (a = this.haveMultiplyConfirmedCenters()));
              }var l = this.selectBestPatterns();return it.orderBestPatterns(l), new Oe(l);
            }
          }, {
            key: "getCrossCheckStateCount",
            value: function getCrossCheckStateCount() {
              var t = this.crossCheckStateCount;return t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t;
            }
          }, {
            key: "crossCheckDiagonal",
            value: function crossCheckDiagonal(t, e, r, n) {
              var i = this.getCrossCheckStateCount();var o = 0;var s = this.image;for (; t >= o && e >= o && s.get(e - o, t - o);) {
                i[2]++, o++;
              }if (t < o || e < o) return !1;for (; t >= o && e >= o && !s.get(e - o, t - o) && i[1] <= r;) {
                i[1]++, o++;
              }if (t < o || e < o || i[1] > r) return !1;for (; t >= o && e >= o && s.get(e - o, t - o) && i[0] <= r;) {
                i[0]++, o++;
              }if (i[0] > r) return !1;var a = s.getHeight(),
                  c = s.getWidth();for (o = 1; t + o < a && e + o < c && s.get(e + o, t + o);) {
                i[2]++, o++;
              }if (t + o >= a || e + o >= c) return !1;for (; t + o < a && e + o < c && !s.get(e + o, t + o) && i[3] < r;) {
                i[3]++, o++;
              }if (t + o >= a || e + o >= c || i[3] >= r) return !1;for (; t + o < a && e + o < c && s.get(e + o, t + o) && i[4] < r;) {
                i[4]++, o++;
              }if (i[4] >= r) return !1;var l = i[0] + i[1] + i[2] + i[3] + i[4];return Math.abs(l - n) < 2 * n && be.foundPatternCross(i);
            }
          }, {
            key: "crossCheckVertical",
            value: function crossCheckVertical(t, e, r, n) {
              var i = this.image,
                  o = i.getHeight(),
                  s = this.getCrossCheckStateCount();var a = t;for (; a >= 0 && i.get(e, a);) {
                s[2]++, a--;
              }if (a < 0) return NaN;for (; a >= 0 && !i.get(e, a) && s[1] <= r;) {
                s[1]++, a--;
              }if (a < 0 || s[1] > r) return NaN;for (; a >= 0 && i.get(e, a) && s[0] <= r;) {
                s[0]++, a--;
              }if (s[0] > r) return NaN;for (a = t + 1; a < o && i.get(e, a);) {
                s[2]++, a++;
              }if (a === o) return NaN;for (; a < o && !i.get(e, a) && s[3] < r;) {
                s[3]++, a++;
              }if (a === o || s[3] >= r) return NaN;for (; a < o && i.get(e, a) && s[4] < r;) {
                s[4]++, a++;
              }if (s[4] >= r) return NaN;var c = s[0] + s[1] + s[2] + s[3] + s[4];return 5 * Math.abs(c - n) >= 2 * n ? NaN : be.foundPatternCross(s) ? be.centerFromEnd(s, a) : NaN;
            }
          }, {
            key: "crossCheckHorizontal",
            value: function crossCheckHorizontal(t, e, r, n) {
              var i = this.image,
                  o = i.getWidth(),
                  s = this.getCrossCheckStateCount();var a = t;for (; a >= 0 && i.get(a, e);) {
                s[2]++, a--;
              }if (a < 0) return NaN;for (; a >= 0 && !i.get(a, e) && s[1] <= r;) {
                s[1]++, a--;
              }if (a < 0 || s[1] > r) return NaN;for (; a >= 0 && i.get(a, e) && s[0] <= r;) {
                s[0]++, a--;
              }if (s[0] > r) return NaN;for (a = t + 1; a < o && i.get(a, e);) {
                s[2]++, a++;
              }if (a === o) return NaN;for (; a < o && !i.get(a, e) && s[3] < r;) {
                s[3]++, a++;
              }if (a === o || s[3] >= r) return NaN;for (; a < o && i.get(a, e) && s[4] < r;) {
                s[4]++, a++;
              }if (s[4] >= r) return NaN;var c = s[0] + s[1] + s[2] + s[3] + s[4];return 5 * Math.abs(c - n) >= n ? NaN : be.foundPatternCross(s) ? be.centerFromEnd(s, a) : NaN;
            }
          }, {
            key: "handlePossibleCenter",
            value: function handlePossibleCenter(t, e, r, n) {
              var i = t[0] + t[1] + t[2] + t[3] + t[4];var o = be.centerFromEnd(t, r),
                  s = this.crossCheckVertical(e, Math.floor(o), t[2], i);if (!isNaN(s) && (o = this.crossCheckHorizontal(Math.floor(o), Math.floor(s), t[2], i), !isNaN(o) && (!n || this.crossCheckDiagonal(Math.floor(s), Math.floor(o), t[2], i)))) {
                var _t147 = i / 7;var _e138 = !1;var _r81 = this.possibleCenters;for (var _n71 = 0, _i57 = _r81.length; _n71 < _i57; _n71++) {
                  var _i58 = _r81[_n71];if (_i58.aboutEquals(_t147, s, o)) {
                    _r81[_n71] = _i58.combineEstimate(s, o, _t147), _e138 = !0;break;
                  }
                }if (!_e138) {
                  var _e139 = new Re(o, s, _t147);_r81.push(_e139), null !== this.resultPointCallback && void 0 !== this.resultPointCallback && this.resultPointCallback.foundPossibleResultPoint(_e139);
                }return !0;
              }return !1;
            }
          }, {
            key: "findRowSkip",
            value: function findRowSkip() {
              if (this.possibleCenters.length <= 1) return 0;var t = null;var _iteratorNormalCompletion47 = true;
              var _didIteratorError47 = false;
              var _iteratorError47 = undefined;

              try {
                for (var _iterator47 = this.possibleCenters[Symbol.iterator](), _step47; !(_iteratorNormalCompletion47 = (_step47 = _iterator47.next()).done); _iteratorNormalCompletion47 = true) {
                  var _e140 = _step47.value;
                  if (_e140.getCount() >= be.CENTER_QUORUM) {
                    if (null != t) return this.hasSkipped = !0, Math.floor((Math.abs(t.getX() - _e140.getX()) - Math.abs(t.getY() - _e140.getY())) / 2);t = _e140;
                  }
                }
              } catch (err) {
                _didIteratorError47 = true;
                _iteratorError47 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion47 && _iterator47.return) {
                    _iterator47.return();
                  }
                } finally {
                  if (_didIteratorError47) {
                    throw _iteratorError47;
                  }
                }
              }

              return 0;
            }
          }, {
            key: "haveMultiplyConfirmedCenters",
            value: function haveMultiplyConfirmedCenters() {
              var t = 0,
                  e = 0;var r = this.possibleCenters.length;var _iteratorNormalCompletion48 = true;
              var _didIteratorError48 = false;
              var _iteratorError48 = undefined;

              try {
                for (var _iterator48 = this.possibleCenters[Symbol.iterator](), _step48; !(_iteratorNormalCompletion48 = (_step48 = _iterator48.next()).done); _iteratorNormalCompletion48 = true) {
                  var _r82 = _step48.value;
                  _r82.getCount() >= be.CENTER_QUORUM && (t++, e += _r82.getEstimatedModuleSize());
                }
              } catch (err) {
                _didIteratorError48 = true;
                _iteratorError48 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion48 && _iterator48.return) {
                    _iterator48.return();
                  }
                } finally {
                  if (_didIteratorError48) {
                    throw _iteratorError48;
                  }
                }
              }

              if (t < 3) return !1;var n = e / r;var i = 0;var _iteratorNormalCompletion49 = true;
              var _didIteratorError49 = false;
              var _iteratorError49 = undefined;

              try {
                for (var _iterator49 = this.possibleCenters[Symbol.iterator](), _step49; !(_iteratorNormalCompletion49 = (_step49 = _iterator49.next()).done); _iteratorNormalCompletion49 = true) {
                  var _t148 = _step49.value;
                  i += Math.abs(_t148.getEstimatedModuleSize() - n);
                }
              } catch (err) {
                _didIteratorError49 = true;
                _iteratorError49 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion49 && _iterator49.return) {
                    _iterator49.return();
                  }
                } finally {
                  if (_didIteratorError49) {
                    throw _iteratorError49;
                  }
                }
              }

              return i <= .05 * e;
            }
          }, {
            key: "selectBestPatterns",
            value: function selectBestPatterns() {
              var t = this.possibleCenters.length;if (t < 3) throw new D();var e = this.possibleCenters;var r = void 0;if (t > 3) {
                var _n72 = 0,
                    _i59 = 0;var _iteratorNormalCompletion50 = true;
                var _didIteratorError50 = false;
                var _iteratorError50 = undefined;

                try {
                  for (var _iterator50 = this.possibleCenters[Symbol.iterator](), _step50; !(_iteratorNormalCompletion50 = (_step50 = _iterator50.next()).done); _iteratorNormalCompletion50 = true) {
                    var _t150 = _step50.value;
                    var _e141 = _t150.getEstimatedModuleSize();_n72 += _e141, _i59 += _e141 * _e141;
                  }
                } catch (err) {
                  _didIteratorError50 = true;
                  _iteratorError50 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion50 && _iterator50.return) {
                      _iterator50.return();
                    }
                  } finally {
                    if (_didIteratorError50) {
                      throw _iteratorError50;
                    }
                  }
                }

                r = _n72 / t;var _o44 = Math.sqrt(_i59 / t - r * r);e.sort(function (t, e) {
                  var n = Math.abs(e.getEstimatedModuleSize() - r),
                      i = Math.abs(t.getEstimatedModuleSize() - r);return n < i ? -1 : n > i ? 1 : 0;
                });var _s42 = Math.max(.2 * r, _o44);for (var _t149 = 0; _t149 < e.length && e.length > 3; _t149++) {
                  var _n73 = e[_t149];Math.abs(_n73.getEstimatedModuleSize() - r) > _s42 && (e.splice(_t149, 1), _t149--);
                }
              }if (e.length > 3) {
                var _t151 = 0;var _iteratorNormalCompletion51 = true;
                var _didIteratorError51 = false;
                var _iteratorError51 = undefined;

                try {
                  for (var _iterator51 = e[Symbol.iterator](), _step51; !(_iteratorNormalCompletion51 = (_step51 = _iterator51.next()).done); _iteratorNormalCompletion51 = true) {
                    var _r83 = _step51.value;
                    _t151 += _r83.getEstimatedModuleSize();
                  }
                } catch (err) {
                  _didIteratorError51 = true;
                  _iteratorError51 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion51 && _iterator51.return) {
                      _iterator51.return();
                    }
                  } finally {
                    if (_didIteratorError51) {
                      throw _iteratorError51;
                    }
                  }
                }

                r = _t151 / e.length, e.sort(function (t, e) {
                  if (e.getCount() === t.getCount()) {
                    var _n74 = Math.abs(e.getEstimatedModuleSize() - r),
                        _i60 = Math.abs(t.getEstimatedModuleSize() - r);return _n74 < _i60 ? 1 : _n74 > _i60 ? -1 : 0;
                  }return e.getCount() - t.getCount();
                }), e.splice(3);
              }return [e[0], e[1], e[2]];
            }
          }], [{
            key: "centerFromEnd",
            value: function centerFromEnd(t, e) {
              return e - t[4] - t[3] - t[2] / 2;
            }
          }, {
            key: "foundPatternCross",
            value: function foundPatternCross(t) {
              var e = 0;for (var _r84 = 0; _r84 < 5; _r84++) {
                var _n75 = t[_r84];if (0 === _n75) return !1;e += _n75;
              }if (e < 7) return !1;var r = e / 7,
                  n = r / 2;return Math.abs(r - t[0]) < n && Math.abs(r - t[1]) < n && Math.abs(3 * r - t[2]) < 3 * n && Math.abs(r - t[3]) < n && Math.abs(r - t[4]) < n;
            }
          }]);

          return be;
        }();

        be.CENTER_QUORUM = 2, be.MIN_SKIP = 3, be.MAX_MODULES = 57;
        var Be = function () {
          function Be(t) {
            _classCallCheck(this, Be);

            this.image = t;
          }

          _createClass(Be, [{
            key: "getImage",
            value: function getImage() {
              return this.image;
            }
          }, {
            key: "getResultPointCallback",
            value: function getResultPointCallback() {
              return this.resultPointCallback;
            }
          }, {
            key: "detect",
            value: function detect(t) {
              this.resultPointCallback = null == t ? null : t.get(C.NEED_RESULT_POINT_CALLBACK);var e = new be(this.image, this.resultPointCallback).find(t);return this.processFinderPatternInfo(e);
            }
          }, {
            key: "processFinderPatternInfo",
            value: function processFinderPatternInfo(t) {
              var e = t.getTopLeft(),
                  r = t.getTopRight(),
                  n = t.getBottomLeft(),
                  i = this.calculateModuleSize(e, r, n);if (i < 1) throw new D("No pattern found in proccess finder.");var o = Be.computeDimension(e, r, n, i),
                  s = Ce.getProvisionalVersionForDimension(o),
                  a = s.getDimensionForVersion() - 7;var c = null;if (s.getAlignmentPatternCenters().length > 0) {
                var _t152 = r.getX() - e.getX() + n.getX(),
                    _o45 = r.getY() - e.getY() + n.getY(),
                    _s43 = 1 - 3 / a,
                    _l9 = Math.floor(e.getX() + _s43 * (_t152 - e.getX())),
                    _h7 = Math.floor(e.getY() + _s43 * (_o45 - e.getY()));for (var _t153 = 4; _t153 <= 16; _t153 <<= 1) {
                  try {
                    c = this.findAlignmentInRegion(i, _l9, _h7, _t153);break;
                  } catch (t) {
                    if (!(t instanceof D)) throw t;
                  }
                }
              }var l = Be.createTransform(e, r, n, c, o),
                  h = Be.sampleGrid(this.image, l, o);var u = void 0;return u = null === c ? [n, e, r] : [n, e, r, c], new ot(h, u);
            }
          }, {
            key: "calculateModuleSize",
            value: function calculateModuleSize(t, e, r) {
              return (this.calculateModuleSizeOneWay(t, e) + this.calculateModuleSizeOneWay(t, r)) / 2;
            }
          }, {
            key: "calculateModuleSizeOneWay",
            value: function calculateModuleSizeOneWay(t, e) {
              var r = this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()), Math.floor(t.getY()), Math.floor(e.getX()), Math.floor(e.getY())),
                  n = this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()), Math.floor(e.getY()), Math.floor(t.getX()), Math.floor(t.getY()));return isNaN(r) ? n / 7 : isNaN(n) ? r / 7 : (r + n) / 14;
            }
          }, {
            key: "sizeOfBlackWhiteBlackRunBothWays",
            value: function sizeOfBlackWhiteBlackRunBothWays(t, e, r, n) {
              var i = this.sizeOfBlackWhiteBlackRun(t, e, r, n),
                  o = 1,
                  s = t - (r - t);s < 0 ? (o = t / (t - s), s = 0) : s >= this.image.getWidth() && (o = (this.image.getWidth() - 1 - t) / (s - t), s = this.image.getWidth() - 1);var a = Math.floor(e - (n - e) * o);return o = 1, a < 0 ? (o = e / (e - a), a = 0) : a >= this.image.getHeight() && (o = (this.image.getHeight() - 1 - e) / (a - e), a = this.image.getHeight() - 1), s = Math.floor(t + (s - t) * o), i += this.sizeOfBlackWhiteBlackRun(t, e, s, a), i - 1;
            }
          }, {
            key: "sizeOfBlackWhiteBlackRun",
            value: function sizeOfBlackWhiteBlackRun(t, e, r, n) {
              var i = Math.abs(n - e) > Math.abs(r - t);if (i) {
                var _i61 = t;t = e, e = _i61, _i61 = r, r = n, n = _i61;
              }var o = Math.abs(r - t),
                  s = Math.abs(n - e);var a = -o / 2;var c = t < r ? 1 : -1,
                  l = e < n ? 1 : -1;var h = 0;var u = r + c;for (var _r85 = t, _d6 = e; _r85 !== u; _r85 += c) {
                var _c18 = i ? _d6 : _r85,
                    _u8 = i ? _r85 : _d6;if (1 === h === this.image.get(_c18, _u8)) {
                  if (2 === h) return rt.distance(_r85, _d6, t, e);h++;
                }if (a += s, a > 0) {
                  if (_d6 === n) break;_d6 += l, a -= o;
                }
              }return 2 === h ? rt.distance(r + c, n, t, e) : NaN;
            }
          }, {
            key: "findAlignmentInRegion",
            value: function findAlignmentInRegion(t, e, r, n) {
              var i = Math.floor(n * t),
                  o = Math.max(0, e - i),
                  s = Math.min(this.image.getWidth() - 1, e + i);if (s - o < 3 * t) throw new D("Alignment top exceeds estimated module size.");var a = Math.max(0, r - i),
                  c = Math.min(this.image.getHeight() - 1, r + i);if (c - a < 3 * t) throw new D("Alignment bottom exceeds estimated module size.");return new Me(this.image, o, a, s - o, c - a, t, this.resultPointCallback).find();
            }
          }], [{
            key: "createTransform",
            value: function createTransform(t, e, r, n, i) {
              var o = i - 3.5;var s = void 0,
                  a = void 0,
                  c = void 0,
                  l = void 0;return null !== n ? (s = n.getX(), a = n.getY(), c = o - 3, l = c) : (s = e.getX() - t.getX() + r.getX(), a = e.getY() - t.getY() + r.getY(), c = o, l = o), lt.quadrilateralToQuadrilateral(3.5, 3.5, o, 3.5, c, l, 3.5, o, t.getX(), t.getY(), e.getX(), e.getY(), s, a, r.getX(), r.getY());
            }
          }, {
            key: "sampleGrid",
            value: function sampleGrid(t, e, r) {
              return ut.getInstance().sampleGridWithTransform(t, r, r, e);
            }
          }, {
            key: "computeDimension",
            value: function computeDimension(t, e, r, n) {
              var i = rt.round(it.distance(t, e) / n),
                  o = rt.round(it.distance(t, r) / n);var s = Math.floor((i + o) / 2) + 7;switch (3 & s) {case 0:
                  s++;break;case 2:
                  s--;break;case 3:
                  throw new D("Dimensions could be not found.");}return s;
            }
          }]);

          return Be;
        }();

        var Le = function () {
          function Le() {
            _classCallCheck(this, Le);

            this.decoder = new Ne();
          }

          _createClass(Le, [{
            key: "getDecoder",
            value: function getDecoder() {
              return this.decoder;
            }
          }, {
            key: "decode",
            value: function decode(t, e) {
              var r = void 0,
                  n = void 0;if (null != e && void 0 !== e.get(C.PURE_BARCODE)) {
                var _i62 = Le.extractPureBits(t.getBlackMatrix());r = this.decoder.decodeBitMatrix(_i62, e), n = Le.NO_POINTS;
              } else {
                var _i63 = new Be(t.getBlackMatrix()).detect(e);r = this.decoder.decodeBitMatrix(_i63.getBits(), e), n = _i63.getPoints();
              }r.getOther() instanceof ye && r.getOther().applyMirroredCorrection(n);var i = new x(r.getText(), r.getRawBytes(), void 0, n, U.QR_CODE, void 0),
                  o = r.getByteSegments();null !== o && i.putMetadata(W.BYTE_SEGMENTS, o);var s = r.getECLevel();return null !== s && i.putMetadata(W.ERROR_CORRECTION_LEVEL, s), r.hasStructuredAppend() && (i.putMetadata(W.STRUCTURED_APPEND_SEQUENCE, r.getStructuredAppendSequenceNumber()), i.putMetadata(W.STRUCTURED_APPEND_PARITY, r.getStructuredAppendParity())), i;
            }
          }, {
            key: "reset",
            value: function reset() {}
          }], [{
            key: "extractPureBits",
            value: function extractPureBits(t) {
              var e = t.getTopLeftOnBit(),
                  r = t.getBottomRightOnBit();if (null === e || null === r) throw new D();var n = this.moduleSize(e, t);var i = e[1],
                  o = r[1],
                  s = e[0],
                  a = r[0];if (s >= a || i >= o) throw new D();if (o - i != a - s && (a = s + (o - i), a >= t.getWidth())) throw new D();var c = Math.round((a - s + 1) / n),
                  l = Math.round((o - i + 1) / n);if (c <= 0 || l <= 0) throw new D();if (l !== c) throw new D();var h = Math.floor(n / 2);i += h, s += h;var u = s + Math.floor((c - 1) * n) - a;if (u > 0) {
                if (u > h) throw new D();s -= u;
              }var d = i + Math.floor((l - 1) * n) - o;if (d > 0) {
                if (d > h) throw new D();i -= d;
              }var f = new N(c, l);for (var _e142 = 0; _e142 < l; _e142++) {
                var _r86 = i + Math.floor(_e142 * n);for (var _i64 = 0; _i64 < c; _i64++) {
                  t.get(s + Math.floor(_i64 * n), _r86) && f.set(_i64, _e142);
                }
              }return f;
            }
          }, {
            key: "moduleSize",
            value: function moduleSize(t, e) {
              var r = e.getHeight(),
                  n = e.getWidth();var i = t[0],
                  o = t[1],
                  s = !0,
                  a = 0;for (; i < n && o < r;) {
                if (s !== e.get(i, o)) {
                  if (5 == ++a) break;s = !s;
                }i++, o++;
              }if (i === n || o === r) throw new D();return (i - t[0]) / 7;
            }
          }]);

          return Le;
        }();

        Le.NO_POINTS = new Array();
        var Pe = function () {
          function Pe() {
            _classCallCheck(this, Pe);
          }

          _createClass(Pe, [{
            key: "PDF417Common",
            value: function PDF417Common() {}
          }], [{
            key: "getBitCountSum",
            value: function getBitCountSum(t) {
              return rt.sum(t);
            }
          }, {
            key: "toIntArray",
            value: function toIntArray(t) {
              if (null == t || !t.length) return Pe.EMPTY_INT_ARRAY;var e = new Int32Array(t.length);var r = 0;var _iteratorNormalCompletion52 = true;
              var _didIteratorError52 = false;
              var _iteratorError52 = undefined;

              try {
                for (var _iterator52 = t[Symbol.iterator](), _step52; !(_iteratorNormalCompletion52 = (_step52 = _iterator52.next()).done); _iteratorNormalCompletion52 = true) {
                  var _n76 = _step52.value;
                  e[r++] = _n76;
                }
              } catch (err) {
                _didIteratorError52 = true;
                _iteratorError52 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion52 && _iterator52.return) {
                    _iterator52.return();
                  }
                } finally {
                  if (_didIteratorError52) {
                    throw _iteratorError52;
                  }
                }
              }

              return e;
            }
          }, {
            key: "getCodeword",
            value: function getCodeword(t) {
              var e = w.binarySearch(Pe.SYMBOL_TABLE, 262143 & t);return e < 0 ? -1 : (Pe.CODEWORD_TABLE[e] - 1) % Pe.NUMBER_OF_CODEWORDS;
            }
          }]);

          return Pe;
        }();

        Pe.NUMBER_OF_CODEWORDS = 929, Pe.MAX_CODEWORDS_IN_BARCODE = Pe.NUMBER_OF_CODEWORDS - 1, Pe.MIN_ROWS_IN_BARCODE = 3, Pe.MAX_ROWS_IN_BARCODE = 90, Pe.MODULES_IN_CODEWORD = 17, Pe.MODULES_IN_STOP_PATTERN = 18, Pe.BARS_IN_MODULE = 8, Pe.EMPTY_INT_ARRAY = new Int32Array([]), Pe.SYMBOL_TABLE = Int32Array.from([66142, 66170, 66206, 66236, 66290, 66292, 66350, 66382, 66396, 66454, 66470, 66476, 66594, 66600, 66614, 66626, 66628, 66632, 66640, 66654, 66662, 66668, 66682, 66690, 66718, 66720, 66748, 66758, 66776, 66798, 66802, 66804, 66820, 66824, 66832, 66846, 66848, 66876, 66880, 66936, 66950, 66956, 66968, 66992, 67006, 67022, 67036, 67042, 67044, 67048, 67062, 67118, 67150, 67164, 67214, 67228, 67256, 67294, 67322, 67350, 67366, 67372, 67398, 67404, 67416, 67438, 67474, 67476, 67490, 67492, 67496, 67510, 67618, 67624, 67650, 67656, 67664, 67678, 67686, 67692, 67706, 67714, 67716, 67728, 67742, 67744, 67772, 67782, 67788, 67800, 67822, 67826, 67828, 67842, 67848, 67870, 67872, 67900, 67904, 67960, 67974, 67992, 68016, 68030, 68046, 68060, 68066, 68068, 68072, 68086, 68104, 68112, 68126, 68128, 68156, 68160, 68216, 68336, 68358, 68364, 68376, 68400, 68414, 68448, 68476, 68494, 68508, 68536, 68546, 68548, 68552, 68560, 68574, 68582, 68588, 68654, 68686, 68700, 68706, 68708, 68712, 68726, 68750, 68764, 68792, 68802, 68804, 68808, 68816, 68830, 68838, 68844, 68858, 68878, 68892, 68920, 68976, 68990, 68994, 68996, 69e3, 69008, 69022, 69024, 69052, 69062, 69068, 69080, 69102, 69106, 69108, 69142, 69158, 69164, 69190, 69208, 69230, 69254, 69260, 69272, 69296, 69310, 69326, 69340, 69386, 69394, 69396, 69410, 69416, 69430, 69442, 69444, 69448, 69456, 69470, 69478, 69484, 69554, 69556, 69666, 69672, 69698, 69704, 69712, 69726, 69754, 69762, 69764, 69776, 69790, 69792, 69820, 69830, 69836, 69848, 69870, 69874, 69876, 69890, 69918, 69920, 69948, 69952, 70008, 70022, 70040, 70064, 70078, 70094, 70108, 70114, 70116, 70120, 70134, 70152, 70174, 70176, 70264, 70384, 70412, 70448, 70462, 70496, 70524, 70542, 70556, 70584, 70594, 70600, 70608, 70622, 70630, 70636, 70664, 70672, 70686, 70688, 70716, 70720, 70776, 70896, 71136, 71180, 71192, 71216, 71230, 71264, 71292, 71360, 71416, 71452, 71480, 71536, 71550, 71554, 71556, 71560, 71568, 71582, 71584, 71612, 71622, 71628, 71640, 71662, 71726, 71732, 71758, 71772, 71778, 71780, 71784, 71798, 71822, 71836, 71864, 71874, 71880, 71888, 71902, 71910, 71916, 71930, 71950, 71964, 71992, 72048, 72062, 72066, 72068, 72080, 72094, 72096, 72124, 72134, 72140, 72152, 72174, 72178, 72180, 72206, 72220, 72248, 72304, 72318, 72416, 72444, 72456, 72464, 72478, 72480, 72508, 72512, 72568, 72588, 72600, 72624, 72638, 72654, 72668, 72674, 72676, 72680, 72694, 72726, 72742, 72748, 72774, 72780, 72792, 72814, 72838, 72856, 72880, 72894, 72910, 72924, 72930, 72932, 72936, 72950, 72966, 72972, 72984, 73008, 73022, 73056, 73084, 73102, 73116, 73144, 73156, 73160, 73168, 73182, 73190, 73196, 73210, 73226, 73234, 73236, 73250, 73252, 73256, 73270, 73282, 73284, 73296, 73310, 73318, 73324, 73346, 73348, 73352, 73360, 73374, 73376, 73404, 73414, 73420, 73432, 73454, 73498, 73518, 73522, 73524, 73550, 73564, 73570, 73572, 73576, 73590, 73800, 73822, 73858, 73860, 73872, 73886, 73888, 73916, 73944, 73970, 73972, 73992, 74014, 74016, 74044, 74048, 74104, 74118, 74136, 74160, 74174, 74210, 74212, 74216, 74230, 74244, 74256, 74270, 74272, 74360, 74480, 74502, 74508, 74544, 74558, 74592, 74620, 74638, 74652, 74680, 74690, 74696, 74704, 74726, 74732, 74782, 74784, 74812, 74992, 75232, 75288, 75326, 75360, 75388, 75456, 75512, 75576, 75632, 75646, 75650, 75652, 75664, 75678, 75680, 75708, 75718, 75724, 75736, 75758, 75808, 75836, 75840, 75896, 76016, 76256, 76736, 76824, 76848, 76862, 76896, 76924, 76992, 77048, 77296, 77340, 77368, 77424, 77438, 77536, 77564, 77572, 77576, 77584, 77600, 77628, 77632, 77688, 77702, 77708, 77720, 77744, 77758, 77774, 77788, 77870, 77902, 77916, 77922, 77928, 77966, 77980, 78008, 78018, 78024, 78032, 78046, 78060, 78074, 78094, 78136, 78192, 78206, 78210, 78212, 78224, 78238, 78240, 78268, 78278, 78284, 78296, 78322, 78324, 78350, 78364, 78448, 78462, 78560, 78588, 78600, 78622, 78624, 78652, 78656, 78712, 78726, 78744, 78768, 78782, 78798, 78812, 78818, 78820, 78824, 78838, 78862, 78876, 78904, 78960, 78974, 79072, 79100, 79296, 79352, 79368, 79376, 79390, 79392, 79420, 79424, 79480, 79600, 79628, 79640, 79664, 79678, 79712, 79740, 79772, 79800, 79810, 79812, 79816, 79824, 79838, 79846, 79852, 79894, 79910, 79916, 79942, 79948, 79960, 79982, 79988, 80006, 80024, 80048, 80062, 80078, 80092, 80098, 80100, 80104, 80134, 80140, 80176, 80190, 80224, 80252, 80270, 80284, 80312, 80328, 80336, 80350, 80358, 80364, 80378, 80390, 80396, 80408, 80432, 80446, 80480, 80508, 80576, 80632, 80654, 80668, 80696, 80752, 80766, 80776, 80784, 80798, 80800, 80828, 80844, 80856, 80878, 80882, 80884, 80914, 80916, 80930, 80932, 80936, 80950, 80962, 80968, 80976, 80990, 80998, 81004, 81026, 81028, 81040, 81054, 81056, 81084, 81094, 81100, 81112, 81134, 81154, 81156, 81160, 81168, 81182, 81184, 81212, 81216, 81272, 81286, 81292, 81304, 81328, 81342, 81358, 81372, 81380, 81384, 81398, 81434, 81454, 81458, 81460, 81486, 81500, 81506, 81508, 81512, 81526, 81550, 81564, 81592, 81602, 81604, 81608, 81616, 81630, 81638, 81644, 81702, 81708, 81722, 81734, 81740, 81752, 81774, 81778, 81780, 82050, 82078, 82080, 82108, 82180, 82184, 82192, 82206, 82208, 82236, 82240, 82296, 82316, 82328, 82352, 82366, 82402, 82404, 82408, 82440, 82448, 82462, 82464, 82492, 82496, 82552, 82672, 82694, 82700, 82712, 82736, 82750, 82784, 82812, 82830, 82882, 82884, 82888, 82896, 82918, 82924, 82952, 82960, 82974, 82976, 83004, 83008, 83064, 83184, 83424, 83468, 83480, 83504, 83518, 83552, 83580, 83648, 83704, 83740, 83768, 83824, 83838, 83842, 83844, 83848, 83856, 83872, 83900, 83910, 83916, 83928, 83950, 83984, 84e3, 84028, 84032, 84088, 84208, 84448, 84928, 85040, 85054, 85088, 85116, 85184, 85240, 85488, 85560, 85616, 85630, 85728, 85756, 85764, 85768, 85776, 85790, 85792, 85820, 85824, 85880, 85894, 85900, 85912, 85936, 85966, 85980, 86048, 86080, 86136, 86256, 86496, 86976, 88160, 88188, 88256, 88312, 88560, 89056, 89200, 89214, 89312, 89340, 89536, 89592, 89608, 89616, 89632, 89664, 89720, 89840, 89868, 89880, 89904, 89952, 89980, 89998, 90012, 90040, 90190, 90204, 90254, 90268, 90296, 90306, 90308, 90312, 90334, 90382, 90396, 90424, 90480, 90494, 90500, 90504, 90512, 90526, 90528, 90556, 90566, 90572, 90584, 90610, 90612, 90638, 90652, 90680, 90736, 90750, 90848, 90876, 90884, 90888, 90896, 90910, 90912, 90940, 90944, 91e3, 91014, 91020, 91032, 91056, 91070, 91086, 91100, 91106, 91108, 91112, 91126, 91150, 91164, 91192, 91248, 91262, 91360, 91388, 91584, 91640, 91664, 91678, 91680, 91708, 91712, 91768, 91888, 91928, 91952, 91966, 92e3, 92028, 92046, 92060, 92088, 92098, 92100, 92104, 92112, 92126, 92134, 92140, 92188, 92216, 92272, 92384, 92412, 92608, 92664, 93168, 93200, 93214, 93216, 93244, 93248, 93304, 93424, 93664, 93720, 93744, 93758, 93792, 93820, 93888, 93944, 93980, 94008, 94064, 94078, 94084, 94088, 94096, 94110, 94112, 94140, 94150, 94156, 94168, 94246, 94252, 94278, 94284, 94296, 94318, 94342, 94348, 94360, 94384, 94398, 94414, 94428, 94440, 94470, 94476, 94488, 94512, 94526, 94560, 94588, 94606, 94620, 94648, 94658, 94660, 94664, 94672, 94686, 94694, 94700, 94714, 94726, 94732, 94744, 94768, 94782, 94816, 94844, 94912, 94968, 94990, 95004, 95032, 95088, 95102, 95112, 95120, 95134, 95136, 95164, 95180, 95192, 95214, 95218, 95220, 95244, 95256, 95280, 95294, 95328, 95356, 95424, 95480, 95728, 95758, 95772, 95800, 95856, 95870, 95968, 95996, 96008, 96016, 96030, 96032, 96060, 96064, 96120, 96152, 96176, 96190, 96220, 96226, 96228, 96232, 96290, 96292, 96296, 96310, 96322, 96324, 96328, 96336, 96350, 96358, 96364, 96386, 96388, 96392, 96400, 96414, 96416, 96444, 96454, 96460, 96472, 96494, 96498, 96500, 96514, 96516, 96520, 96528, 96542, 96544, 96572, 96576, 96632, 96646, 96652, 96664, 96688, 96702, 96718, 96732, 96738, 96740, 96744, 96758, 96772, 96776, 96784, 96798, 96800, 96828, 96832, 96888, 97008, 97030, 97036, 97048, 97072, 97086, 97120, 97148, 97166, 97180, 97208, 97220, 97224, 97232, 97246, 97254, 97260, 97326, 97330, 97332, 97358, 97372, 97378, 97380, 97384, 97398, 97422, 97436, 97464, 97474, 97476, 97480, 97488, 97502, 97510, 97516, 97550, 97564, 97592, 97648, 97666, 97668, 97672, 97680, 97694, 97696, 97724, 97734, 97740, 97752, 97774, 97830, 97836, 97850, 97862, 97868, 97880, 97902, 97906, 97908, 97926, 97932, 97944, 97968, 97998, 98012, 98018, 98020, 98024, 98038, 98618, 98674, 98676, 98838, 98854, 98874, 98892, 98904, 98926, 98930, 98932, 98968, 99006, 99042, 99044, 99048, 99062, 99166, 99194, 99246, 99286, 99350, 99366, 99372, 99386, 99398, 99416, 99438, 99442, 99444, 99462, 99504, 99518, 99534, 99548, 99554, 99556, 99560, 99574, 99590, 99596, 99608, 99632, 99646, 99680, 99708, 99726, 99740, 99768, 99778, 99780, 99784, 99792, 99806, 99814, 99820, 99834, 99858, 99860, 99874, 99880, 99894, 99906, 99920, 99934, 99962, 99970, 99972, 99976, 99984, 99998, 1e5, 100028, 100038, 100044, 100056, 100078, 100082, 100084, 100142, 100174, 100188, 100246, 100262, 100268, 100306, 100308, 100390, 100396, 100410, 100422, 100428, 100440, 100462, 100466, 100468, 100486, 100504, 100528, 100542, 100558, 100572, 100578, 100580, 100584, 100598, 100620, 100656, 100670, 100704, 100732, 100750, 100792, 100802, 100808, 100816, 100830, 100838, 100844, 100858, 100888, 100912, 100926, 100960, 100988, 101056, 101112, 101148, 101176, 101232, 101246, 101250, 101252, 101256, 101264, 101278, 101280, 101308, 101318, 101324, 101336, 101358, 101362, 101364, 101410, 101412, 101416, 101430, 101442, 101448, 101456, 101470, 101478, 101498, 101506, 101508, 101520, 101534, 101536, 101564, 101580, 101618, 101620, 101636, 101640, 101648, 101662, 101664, 101692, 101696, 101752, 101766, 101784, 101838, 101858, 101860, 101864, 101934, 101938, 101940, 101966, 101980, 101986, 101988, 101992, 102030, 102044, 102072, 102082, 102084, 102088, 102096, 102138, 102166, 102182, 102188, 102214, 102220, 102232, 102254, 102282, 102290, 102292, 102306, 102308, 102312, 102326, 102444, 102458, 102470, 102476, 102488, 102514, 102516, 102534, 102552, 102576, 102590, 102606, 102620, 102626, 102632, 102646, 102662, 102668, 102704, 102718, 102752, 102780, 102798, 102812, 102840, 102850, 102856, 102864, 102878, 102886, 102892, 102906, 102936, 102974, 103008, 103036, 103104, 103160, 103224, 103280, 103294, 103298, 103300, 103312, 103326, 103328, 103356, 103366, 103372, 103384, 103406, 103410, 103412, 103472, 103486, 103520, 103548, 103616, 103672, 103920, 103992, 104048, 104062, 104160, 104188, 104194, 104196, 104200, 104208, 104224, 104252, 104256, 104312, 104326, 104332, 104344, 104368, 104382, 104398, 104412, 104418, 104420, 104424, 104482, 104484, 104514, 104520, 104528, 104542, 104550, 104570, 104578, 104580, 104592, 104606, 104608, 104636, 104652, 104690, 104692, 104706, 104712, 104734, 104736, 104764, 104768, 104824, 104838, 104856, 104910, 104930, 104932, 104936, 104968, 104976, 104990, 104992, 105020, 105024, 105080, 105200, 105240, 105278, 105312, 105372, 105410, 105412, 105416, 105424, 105446, 105518, 105524, 105550, 105564, 105570, 105572, 105576, 105614, 105628, 105656, 105666, 105672, 105680, 105702, 105722, 105742, 105756, 105784, 105840, 105854, 105858, 105860, 105864, 105872, 105888, 105932, 105970, 105972, 106006, 106022, 106028, 106054, 106060, 106072, 106100, 106118, 106124, 106136, 106160, 106174, 106190, 106210, 106212, 106216, 106250, 106258, 106260, 106274, 106276, 106280, 106306, 106308, 106312, 106320, 106334, 106348, 106394, 106414, 106418, 106420, 106566, 106572, 106610, 106612, 106630, 106636, 106648, 106672, 106686, 106722, 106724, 106728, 106742, 106758, 106764, 106776, 106800, 106814, 106848, 106876, 106894, 106908, 106936, 106946, 106948, 106952, 106960, 106974, 106982, 106988, 107032, 107056, 107070, 107104, 107132, 107200, 107256, 107292, 107320, 107376, 107390, 107394, 107396, 107400, 107408, 107422, 107424, 107452, 107462, 107468, 107480, 107502, 107506, 107508, 107544, 107568, 107582, 107616, 107644, 107712, 107768, 108016, 108060, 108088, 108144, 108158, 108256, 108284, 108290, 108292, 108296, 108304, 108318, 108320, 108348, 108352, 108408, 108422, 108428, 108440, 108464, 108478, 108494, 108508, 108514, 108516, 108520, 108592, 108640, 108668, 108736, 108792, 109040, 109536, 109680, 109694, 109792, 109820, 110016, 110072, 110084, 110088, 110096, 110112, 110140, 110144, 110200, 110320, 110342, 110348, 110360, 110384, 110398, 110432, 110460, 110478, 110492, 110520, 110532, 110536, 110544, 110558, 110658, 110686, 110714, 110722, 110724, 110728, 110736, 110750, 110752, 110780, 110796, 110834, 110836, 110850, 110852, 110856, 110864, 110878, 110880, 110908, 110912, 110968, 110982, 111e3, 111054, 111074, 111076, 111080, 111108, 111112, 111120, 111134, 111136, 111164, 111168, 111224, 111344, 111372, 111422, 111456, 111516, 111554, 111556, 111560, 111568, 111590, 111632, 111646, 111648, 111676, 111680, 111736, 111856, 112096, 112152, 112224, 112252, 112320, 112440, 112514, 112516, 112520, 112528, 112542, 112544, 112588, 112686, 112718, 112732, 112782, 112796, 112824, 112834, 112836, 112840, 112848, 112870, 112890, 112910, 112924, 112952, 113008, 113022, 113026, 113028, 113032, 113040, 113054, 113056, 113100, 113138, 113140, 113166, 113180, 113208, 113264, 113278, 113376, 113404, 113416, 113424, 113440, 113468, 113472, 113560, 113614, 113634, 113636, 113640, 113686, 113702, 113708, 113734, 113740, 113752, 113778, 113780, 113798, 113804, 113816, 113840, 113854, 113870, 113890, 113892, 113896, 113926, 113932, 113944, 113968, 113982, 114016, 114044, 114076, 114114, 114116, 114120, 114128, 114150, 114170, 114194, 114196, 114210, 114212, 114216, 114242, 114244, 114248, 114256, 114270, 114278, 114306, 114308, 114312, 114320, 114334, 114336, 114364, 114380, 114420, 114458, 114478, 114482, 114484, 114510, 114524, 114530, 114532, 114536, 114842, 114866, 114868, 114970, 114994, 114996, 115042, 115044, 115048, 115062, 115130, 115226, 115250, 115252, 115278, 115292, 115298, 115300, 115304, 115318, 115342, 115394, 115396, 115400, 115408, 115422, 115430, 115436, 115450, 115478, 115494, 115514, 115526, 115532, 115570, 115572, 115738, 115758, 115762, 115764, 115790, 115804, 115810, 115812, 115816, 115830, 115854, 115868, 115896, 115906, 115912, 115920, 115934, 115942, 115948, 115962, 115996, 116024, 116080, 116094, 116098, 116100, 116104, 116112, 116126, 116128, 116156, 116166, 116172, 116184, 116206, 116210, 116212, 116246, 116262, 116268, 116282, 116294, 116300, 116312, 116334, 116338, 116340, 116358, 116364, 116376, 116400, 116414, 116430, 116444, 116450, 116452, 116456, 116498, 116500, 116514, 116520, 116534, 116546, 116548, 116552, 116560, 116574, 116582, 116588, 116602, 116654, 116694, 116714, 116762, 116782, 116786, 116788, 116814, 116828, 116834, 116836, 116840, 116854, 116878, 116892, 116920, 116930, 116936, 116944, 116958, 116966, 116972, 116986, 117006, 117048, 117104, 117118, 117122, 117124, 117136, 117150, 117152, 117180, 117190, 117196, 117208, 117230, 117234, 117236, 117304, 117360, 117374, 117472, 117500, 117506, 117508, 117512, 117520, 117536, 117564, 117568, 117624, 117638, 117644, 117656, 117680, 117694, 117710, 117724, 117730, 117732, 117736, 117750, 117782, 117798, 117804, 117818, 117830, 117848, 117874, 117876, 117894, 117936, 117950, 117966, 117986, 117988, 117992, 118022, 118028, 118040, 118064, 118078, 118112, 118140, 118172, 118210, 118212, 118216, 118224, 118238, 118246, 118266, 118306, 118312, 118338, 118352, 118366, 118374, 118394, 118402, 118404, 118408, 118416, 118430, 118432, 118460, 118476, 118514, 118516, 118574, 118578, 118580, 118606, 118620, 118626, 118628, 118632, 118678, 118694, 118700, 118730, 118738, 118740, 118830, 118834, 118836, 118862, 118876, 118882, 118884, 118888, 118902, 118926, 118940, 118968, 118978, 118980, 118984, 118992, 119006, 119014, 119020, 119034, 119068, 119096, 119152, 119166, 119170, 119172, 119176, 119184, 119198, 119200, 119228, 119238, 119244, 119256, 119278, 119282, 119284, 119324, 119352, 119408, 119422, 119520, 119548, 119554, 119556, 119560, 119568, 119582, 119584, 119612, 119616, 119672, 119686, 119692, 119704, 119728, 119742, 119758, 119772, 119778, 119780, 119784, 119798, 119920, 119934, 120032, 120060, 120256, 120312, 120324, 120328, 120336, 120352, 120384, 120440, 120560, 120582, 120588, 120600, 120624, 120638, 120672, 120700, 120718, 120732, 120760, 120770, 120772, 120776, 120784, 120798, 120806, 120812, 120870, 120876, 120890, 120902, 120908, 120920, 120946, 120948, 120966, 120972, 120984, 121008, 121022, 121038, 121058, 121060, 121064, 121078, 121100, 121112, 121136, 121150, 121184, 121212, 121244, 121282, 121284, 121288, 121296, 121318, 121338, 121356, 121368, 121392, 121406, 121440, 121468, 121536, 121592, 121656, 121730, 121732, 121736, 121744, 121758, 121760, 121804, 121842, 121844, 121890, 121922, 121924, 121928, 121936, 121950, 121958, 121978, 121986, 121988, 121992, 122e3, 122014, 122016, 122044, 122060, 122098, 122100, 122116, 122120, 122128, 122142, 122144, 122172, 122176, 122232, 122246, 122264, 122318, 122338, 122340, 122344, 122414, 122418, 122420, 122446, 122460, 122466, 122468, 122472, 122510, 122524, 122552, 122562, 122564, 122568, 122576, 122598, 122618, 122646, 122662, 122668, 122694, 122700, 122712, 122738, 122740, 122762, 122770, 122772, 122786, 122788, 122792, 123018, 123026, 123028, 123042, 123044, 123048, 123062, 123098, 123146, 123154, 123156, 123170, 123172, 123176, 123190, 123202, 123204, 123208, 123216, 123238, 123244, 123258, 123290, 123314, 123316, 123402, 123410, 123412, 123426, 123428, 123432, 123446, 123458, 123464, 123472, 123486, 123494, 123500, 123514, 123522, 123524, 123528, 123536, 123552, 123580, 123590, 123596, 123608, 123630, 123634, 123636, 123674, 123698, 123700, 123740, 123746, 123748, 123752, 123834, 123914, 123922, 123924, 123938, 123944, 123958, 123970, 123976, 123984, 123998, 124006, 124012, 124026, 124034, 124036, 124048, 124062, 124064, 124092, 124102, 124108, 124120, 124142, 124146, 124148, 124162, 124164, 124168, 124176, 124190, 124192, 124220, 124224, 124280, 124294, 124300, 124312, 124336, 124350, 124366, 124380, 124386, 124388, 124392, 124406, 124442, 124462, 124466, 124468, 124494, 124508, 124514, 124520, 124558, 124572, 124600, 124610, 124612, 124616, 124624, 124646, 124666, 124694, 124710, 124716, 124730, 124742, 124748, 124760, 124786, 124788, 124818, 124820, 124834, 124836, 124840, 124854, 124946, 124948, 124962, 124964, 124968, 124982, 124994, 124996, 125e3, 125008, 125022, 125030, 125036, 125050, 125058, 125060, 125064, 125072, 125086, 125088, 125116, 125126, 125132, 125144, 125166, 125170, 125172, 125186, 125188, 125192, 125200, 125216, 125244, 125248, 125304, 125318, 125324, 125336, 125360, 125374, 125390, 125404, 125410, 125412, 125416, 125430, 125444, 125448, 125456, 125472, 125504, 125560, 125680, 125702, 125708, 125720, 125744, 125758, 125792, 125820, 125838, 125852, 125880, 125890, 125892, 125896, 125904, 125918, 125926, 125932, 125978, 125998, 126002, 126004, 126030, 126044, 126050, 126052, 126056, 126094, 126108, 126136, 126146, 126148, 126152, 126160, 126182, 126202, 126222, 126236, 126264, 126320, 126334, 126338, 126340, 126344, 126352, 126366, 126368, 126412, 126450, 126452, 126486, 126502, 126508, 126522, 126534, 126540, 126552, 126574, 126578, 126580, 126598, 126604, 126616, 126640, 126654, 126670, 126684, 126690, 126692, 126696, 126738, 126754, 126756, 126760, 126774, 126786, 126788, 126792, 126800, 126814, 126822, 126828, 126842, 126894, 126898, 126900, 126934, 127126, 127142, 127148, 127162, 127178, 127186, 127188, 127254, 127270, 127276, 127290, 127302, 127308, 127320, 127342, 127346, 127348, 127370, 127378, 127380, 127394, 127396, 127400, 127450, 127510, 127526, 127532, 127546, 127558, 127576, 127598, 127602, 127604, 127622, 127628, 127640, 127664, 127678, 127694, 127708, 127714, 127716, 127720, 127734, 127754, 127762, 127764, 127778, 127784, 127810, 127812, 127816, 127824, 127838, 127846, 127866, 127898, 127918, 127922, 127924, 128022, 128038, 128044, 128058, 128070, 128076, 128088, 128110, 128114, 128116, 128134, 128140, 128152, 128176, 128190, 128206, 128220, 128226, 128228, 128232, 128246, 128262, 128268, 128280, 128304, 128318, 128352, 128380, 128398, 128412, 128440, 128450, 128452, 128456, 128464, 128478, 128486, 128492, 128506, 128522, 128530, 128532, 128546, 128548, 128552, 128566, 128578, 128580, 128584, 128592, 128606, 128614, 128634, 128642, 128644, 128648, 128656, 128670, 128672, 128700, 128716, 128754, 128756, 128794, 128814, 128818, 128820, 128846, 128860, 128866, 128868, 128872, 128886, 128918, 128934, 128940, 128954, 128978, 128980, 129178, 129198, 129202, 129204, 129238, 129258, 129306, 129326, 129330, 129332, 129358, 129372, 129378, 129380, 129384, 129398, 129430, 129446, 129452, 129466, 129482, 129490, 129492, 129562, 129582, 129586, 129588, 129614, 129628, 129634, 129636, 129640, 129654, 129678, 129692, 129720, 129730, 129732, 129736, 129744, 129758, 129766, 129772, 129814, 129830, 129836, 129850, 129862, 129868, 129880, 129902, 129906, 129908, 129930, 129938, 129940, 129954, 129956, 129960, 129974, 130010]), Pe.CODEWORD_TABLE = Int32Array.from([2627, 1819, 2622, 2621, 1813, 1812, 2729, 2724, 2723, 2779, 2774, 2773, 902, 896, 908, 868, 865, 861, 859, 2511, 873, 871, 1780, 835, 2493, 825, 2491, 842, 837, 844, 1764, 1762, 811, 810, 809, 2483, 807, 2482, 806, 2480, 815, 814, 813, 812, 2484, 817, 816, 1745, 1744, 1742, 1746, 2655, 2637, 2635, 2626, 2625, 2623, 2628, 1820, 2752, 2739, 2737, 2728, 2727, 2725, 2730, 2785, 2783, 2778, 2777, 2775, 2780, 787, 781, 747, 739, 736, 2413, 754, 752, 1719, 692, 689, 681, 2371, 678, 2369, 700, 697, 694, 703, 1688, 1686, 642, 638, 2343, 631, 2341, 627, 2338, 651, 646, 643, 2345, 654, 652, 1652, 1650, 1647, 1654, 601, 599, 2322, 596, 2321, 594, 2319, 2317, 611, 610, 608, 606, 2324, 603, 2323, 615, 614, 612, 1617, 1616, 1614, 1612, 616, 1619, 1618, 2575, 2538, 2536, 905, 901, 898, 909, 2509, 2507, 2504, 870, 867, 864, 860, 2512, 875, 872, 1781, 2490, 2489, 2487, 2485, 1748, 836, 834, 832, 830, 2494, 827, 2492, 843, 841, 839, 845, 1765, 1763, 2701, 2676, 2674, 2653, 2648, 2656, 2634, 2633, 2631, 2629, 1821, 2638, 2636, 2770, 2763, 2761, 2750, 2745, 2753, 2736, 2735, 2733, 2731, 1848, 2740, 2738, 2786, 2784, 591, 588, 576, 569, 566, 2296, 1590, 537, 534, 526, 2276, 522, 2274, 545, 542, 539, 548, 1572, 1570, 481, 2245, 466, 2242, 462, 2239, 492, 485, 482, 2249, 496, 494, 1534, 1531, 1528, 1538, 413, 2196, 406, 2191, 2188, 425, 419, 2202, 415, 2199, 432, 430, 427, 1472, 1467, 1464, 433, 1476, 1474, 368, 367, 2160, 365, 2159, 362, 2157, 2155, 2152, 378, 377, 375, 2166, 372, 2165, 369, 2162, 383, 381, 379, 2168, 1419, 1418, 1416, 1414, 385, 1411, 384, 1423, 1422, 1420, 1424, 2461, 802, 2441, 2439, 790, 786, 783, 794, 2409, 2406, 2403, 750, 742, 738, 2414, 756, 753, 1720, 2367, 2365, 2362, 2359, 1663, 693, 691, 684, 2373, 680, 2370, 702, 699, 696, 704, 1690, 1687, 2337, 2336, 2334, 2332, 1624, 2329, 1622, 640, 637, 2344, 634, 2342, 630, 2340, 650, 648, 645, 2346, 655, 653, 1653, 1651, 1649, 1655, 2612, 2597, 2595, 2571, 2568, 2565, 2576, 2534, 2529, 2526, 1787, 2540, 2537, 907, 904, 900, 910, 2503, 2502, 2500, 2498, 1768, 2495, 1767, 2510, 2508, 2506, 869, 866, 863, 2513, 876, 874, 1782, 2720, 2713, 2711, 2697, 2694, 2691, 2702, 2672, 2670, 2664, 1828, 2678, 2675, 2647, 2646, 2644, 2642, 1823, 2639, 1822, 2654, 2652, 2650, 2657, 2771, 1855, 2765, 2762, 1850, 1849, 2751, 2749, 2747, 2754, 353, 2148, 344, 342, 336, 2142, 332, 2140, 345, 1375, 1373, 306, 2130, 299, 2128, 295, 2125, 319, 314, 311, 2132, 1354, 1352, 1349, 1356, 262, 257, 2101, 253, 2096, 2093, 274, 273, 267, 2107, 263, 2104, 280, 278, 275, 1316, 1311, 1308, 1320, 1318, 2052, 202, 2050, 2044, 2040, 219, 2063, 212, 2060, 208, 2055, 224, 221, 2066, 1260, 1258, 1252, 231, 1248, 229, 1266, 1264, 1261, 1268, 155, 1998, 153, 1996, 1994, 1991, 1988, 165, 164, 2007, 162, 2006, 159, 2003, 2e3, 172, 171, 169, 2012, 166, 2010, 1186, 1184, 1182, 1179, 175, 1176, 173, 1192, 1191, 1189, 1187, 176, 1194, 1193, 2313, 2307, 2305, 592, 589, 2294, 2292, 2289, 578, 572, 568, 2297, 580, 1591, 2272, 2267, 2264, 1547, 538, 536, 529, 2278, 525, 2275, 547, 544, 541, 1574, 1571, 2237, 2235, 2229, 1493, 2225, 1489, 478, 2247, 470, 2244, 465, 2241, 493, 488, 484, 2250, 498, 495, 1536, 1533, 1530, 1539, 2187, 2186, 2184, 2182, 1432, 2179, 1430, 2176, 1427, 414, 412, 2197, 409, 2195, 405, 2193, 2190, 426, 424, 421, 2203, 418, 2201, 431, 429, 1473, 1471, 1469, 1466, 434, 1477, 1475, 2478, 2472, 2470, 2459, 2457, 2454, 2462, 803, 2437, 2432, 2429, 1726, 2443, 2440, 792, 789, 785, 2401, 2399, 2393, 1702, 2389, 1699, 2411, 2408, 2405, 745, 741, 2415, 758, 755, 1721, 2358, 2357, 2355, 2353, 1661, 2350, 1660, 2347, 1657, 2368, 2366, 2364, 2361, 1666, 690, 687, 2374, 683, 2372, 701, 698, 705, 1691, 1689, 2619, 2617, 2610, 2608, 2605, 2613, 2593, 2588, 2585, 1803, 2599, 2596, 2563, 2561, 2555, 1797, 2551, 1795, 2573, 2570, 2567, 2577, 2525, 2524, 2522, 2520, 1786, 2517, 1785, 2514, 1783, 2535, 2533, 2531, 2528, 1788, 2541, 2539, 906, 903, 911, 2721, 1844, 2715, 2712, 1838, 1836, 2699, 2696, 2693, 2703, 1827, 1826, 1824, 2673, 2671, 2669, 2666, 1829, 2679, 2677, 1858, 1857, 2772, 1854, 1853, 1851, 1856, 2766, 2764, 143, 1987, 139, 1986, 135, 133, 131, 1984, 128, 1983, 125, 1981, 138, 137, 136, 1985, 1133, 1132, 1130, 112, 110, 1974, 107, 1973, 104, 1971, 1969, 122, 121, 119, 117, 1977, 114, 1976, 124, 1115, 1114, 1112, 1110, 1117, 1116, 84, 83, 1953, 81, 1952, 78, 1950, 1948, 1945, 94, 93, 91, 1959, 88, 1958, 85, 1955, 99, 97, 95, 1961, 1086, 1085, 1083, 1081, 1078, 100, 1090, 1089, 1087, 1091, 49, 47, 1917, 44, 1915, 1913, 1910, 1907, 59, 1926, 56, 1925, 53, 1922, 1919, 66, 64, 1931, 61, 1929, 1042, 1040, 1038, 71, 1035, 70, 1032, 68, 1048, 1047, 1045, 1043, 1050, 1049, 12, 10, 1869, 1867, 1864, 1861, 21, 1880, 19, 1877, 1874, 1871, 28, 1888, 25, 1886, 22, 1883, 982, 980, 977, 974, 32, 30, 991, 989, 987, 984, 34, 995, 994, 992, 2151, 2150, 2147, 2146, 2144, 356, 355, 354, 2149, 2139, 2138, 2136, 2134, 1359, 343, 341, 338, 2143, 335, 2141, 348, 347, 346, 1376, 1374, 2124, 2123, 2121, 2119, 1326, 2116, 1324, 310, 308, 305, 2131, 302, 2129, 298, 2127, 320, 318, 316, 313, 2133, 322, 321, 1355, 1353, 1351, 1357, 2092, 2091, 2089, 2087, 1276, 2084, 1274, 2081, 1271, 259, 2102, 256, 2100, 252, 2098, 2095, 272, 269, 2108, 266, 2106, 281, 279, 277, 1317, 1315, 1313, 1310, 282, 1321, 1319, 2039, 2037, 2035, 2032, 1203, 2029, 1200, 1197, 207, 2053, 205, 2051, 201, 2049, 2046, 2043, 220, 218, 2064, 215, 2062, 211, 2059, 228, 226, 223, 2069, 1259, 1257, 1254, 232, 1251, 230, 1267, 1265, 1263, 2316, 2315, 2312, 2311, 2309, 2314, 2304, 2303, 2301, 2299, 1593, 2308, 2306, 590, 2288, 2287, 2285, 2283, 1578, 2280, 1577, 2295, 2293, 2291, 579, 577, 574, 571, 2298, 582, 581, 1592, 2263, 2262, 2260, 2258, 1545, 2255, 1544, 2252, 1541, 2273, 2271, 2269, 2266, 1550, 535, 532, 2279, 528, 2277, 546, 543, 549, 1575, 1573, 2224, 2222, 2220, 1486, 2217, 1485, 2214, 1482, 1479, 2238, 2236, 2234, 2231, 1496, 2228, 1492, 480, 477, 2248, 473, 2246, 469, 2243, 490, 487, 2251, 497, 1537, 1535, 1532, 2477, 2476, 2474, 2479, 2469, 2468, 2466, 2464, 1730, 2473, 2471, 2453, 2452, 2450, 2448, 1729, 2445, 1728, 2460, 2458, 2456, 2463, 805, 804, 2428, 2427, 2425, 2423, 1725, 2420, 1724, 2417, 1722, 2438, 2436, 2434, 2431, 1727, 2444, 2442, 793, 791, 788, 795, 2388, 2386, 2384, 1697, 2381, 1696, 2378, 1694, 1692, 2402, 2400, 2398, 2395, 1703, 2392, 1701, 2412, 2410, 2407, 751, 748, 744, 2416, 759, 757, 1807, 2620, 2618, 1806, 1805, 2611, 2609, 2607, 2614, 1802, 1801, 1799, 2594, 2592, 2590, 2587, 1804, 2600, 2598, 1794, 1793, 1791, 1789, 2564, 2562, 2560, 2557, 1798, 2554, 1796, 2574, 2572, 2569, 2578, 1847, 1846, 2722, 1843, 1842, 1840, 1845, 2716, 2714, 1835, 1834, 1832, 1830, 1839, 1837, 2700, 2698, 2695, 2704, 1817, 1811, 1810, 897, 862, 1777, 829, 826, 838, 1760, 1758, 808, 2481, 1741, 1740, 1738, 1743, 2624, 1818, 2726, 2776, 782, 740, 737, 1715, 686, 679, 695, 1682, 1680, 639, 628, 2339, 647, 644, 1645, 1643, 1640, 1648, 602, 600, 597, 595, 2320, 593, 2318, 609, 607, 604, 1611, 1610, 1608, 1606, 613, 1615, 1613, 2328, 926, 924, 892, 886, 899, 857, 850, 2505, 1778, 824, 823, 821, 819, 2488, 818, 2486, 833, 831, 828, 840, 1761, 1759, 2649, 2632, 2630, 2746, 2734, 2732, 2782, 2781, 570, 567, 1587, 531, 527, 523, 540, 1566, 1564, 476, 467, 463, 2240, 486, 483, 1524, 1521, 1518, 1529, 411, 403, 2192, 399, 2189, 423, 416, 1462, 1457, 1454, 428, 1468, 1465, 2210, 366, 363, 2158, 360, 2156, 357, 2153, 376, 373, 370, 2163, 1410, 1409, 1407, 1405, 382, 1402, 380, 1417, 1415, 1412, 1421, 2175, 2174, 777, 774, 771, 784, 732, 725, 722, 2404, 743, 1716, 676, 674, 668, 2363, 665, 2360, 685, 1684, 1681, 626, 624, 622, 2335, 620, 2333, 617, 2330, 641, 635, 649, 1646, 1644, 1642, 2566, 928, 925, 2530, 2527, 894, 891, 888, 2501, 2499, 2496, 858, 856, 854, 851, 1779, 2692, 2668, 2665, 2645, 2643, 2640, 2651, 2768, 2759, 2757, 2744, 2743, 2741, 2748, 352, 1382, 340, 337, 333, 1371, 1369, 307, 300, 296, 2126, 315, 312, 1347, 1342, 1350, 261, 258, 250, 2097, 246, 2094, 271, 268, 264, 1306, 1301, 1298, 276, 1312, 1309, 2115, 203, 2048, 195, 2045, 191, 2041, 213, 209, 2056, 1246, 1244, 1238, 225, 1234, 222, 1256, 1253, 1249, 1262, 2080, 2079, 154, 1997, 150, 1995, 147, 1992, 1989, 163, 160, 2004, 156, 2001, 1175, 1174, 1172, 1170, 1167, 170, 1164, 167, 1185, 1183, 1180, 1177, 174, 1190, 1188, 2025, 2024, 2022, 587, 586, 564, 559, 556, 2290, 573, 1588, 520, 518, 512, 2268, 508, 2265, 530, 1568, 1565, 461, 457, 2233, 450, 2230, 446, 2226, 479, 471, 489, 1526, 1523, 1520, 397, 395, 2185, 392, 2183, 389, 2180, 2177, 410, 2194, 402, 422, 1463, 1461, 1459, 1456, 1470, 2455, 799, 2433, 2430, 779, 776, 773, 2397, 2394, 2390, 734, 728, 724, 746, 1717, 2356, 2354, 2351, 2348, 1658, 677, 675, 673, 670, 667, 688, 1685, 1683, 2606, 2589, 2586, 2559, 2556, 2552, 927, 2523, 2521, 2518, 2515, 1784, 2532, 895, 893, 890, 2718, 2709, 2707, 2689, 2687, 2684, 2663, 2662, 2660, 2658, 1825, 2667, 2769, 1852, 2760, 2758, 142, 141, 1139, 1138, 134, 132, 129, 126, 1982, 1129, 1128, 1126, 1131, 113, 111, 108, 105, 1972, 101, 1970, 120, 118, 115, 1109, 1108, 1106, 1104, 123, 1113, 1111, 82, 79, 1951, 75, 1949, 72, 1946, 92, 89, 86, 1956, 1077, 1076, 1074, 1072, 98, 1069, 96, 1084, 1082, 1079, 1088, 1968, 1967, 48, 45, 1916, 42, 1914, 39, 1911, 1908, 60, 57, 54, 1923, 50, 1920, 1031, 1030, 1028, 1026, 67, 1023, 65, 1020, 62, 1041, 1039, 1036, 1033, 69, 1046, 1044, 1944, 1943, 1941, 11, 9, 1868, 7, 1865, 1862, 1859, 20, 1878, 16, 1875, 13, 1872, 970, 968, 966, 963, 29, 960, 26, 23, 983, 981, 978, 975, 33, 971, 31, 990, 988, 985, 1906, 1904, 1902, 993, 351, 2145, 1383, 331, 330, 328, 326, 2137, 323, 2135, 339, 1372, 1370, 294, 293, 291, 289, 2122, 286, 2120, 283, 2117, 309, 303, 317, 1348, 1346, 1344, 245, 244, 242, 2090, 239, 2088, 236, 2085, 2082, 260, 2099, 249, 270, 1307, 1305, 1303, 1300, 1314, 189, 2038, 186, 2036, 183, 2033, 2030, 2026, 206, 198, 2047, 194, 216, 1247, 1245, 1243, 1240, 227, 1237, 1255, 2310, 2302, 2300, 2286, 2284, 2281, 565, 563, 561, 558, 575, 1589, 2261, 2259, 2256, 2253, 1542, 521, 519, 517, 514, 2270, 511, 533, 1569, 1567, 2223, 2221, 2218, 2215, 1483, 2211, 1480, 459, 456, 453, 2232, 449, 474, 491, 1527, 1525, 1522, 2475, 2467, 2465, 2451, 2449, 2446, 801, 800, 2426, 2424, 2421, 2418, 1723, 2435, 780, 778, 775, 2387, 2385, 2382, 2379, 1695, 2375, 1693, 2396, 735, 733, 730, 727, 749, 1718, 2616, 2615, 2604, 2603, 2601, 2584, 2583, 2581, 2579, 1800, 2591, 2550, 2549, 2547, 2545, 1792, 2542, 1790, 2558, 929, 2719, 1841, 2710, 2708, 1833, 1831, 2690, 2688, 2686, 1815, 1809, 1808, 1774, 1756, 1754, 1737, 1736, 1734, 1739, 1816, 1711, 1676, 1674, 633, 629, 1638, 1636, 1633, 1641, 598, 1605, 1604, 1602, 1600, 605, 1609, 1607, 2327, 887, 853, 1775, 822, 820, 1757, 1755, 1584, 524, 1560, 1558, 468, 464, 1514, 1511, 1508, 1519, 408, 404, 400, 1452, 1447, 1444, 417, 1458, 1455, 2208, 364, 361, 358, 2154, 1401, 1400, 1398, 1396, 374, 1393, 371, 1408, 1406, 1403, 1413, 2173, 2172, 772, 726, 723, 1712, 672, 669, 666, 682, 1678, 1675, 625, 623, 621, 618, 2331, 636, 632, 1639, 1637, 1635, 920, 918, 884, 880, 889, 849, 848, 847, 846, 2497, 855, 852, 1776, 2641, 2742, 2787, 1380, 334, 1367, 1365, 301, 297, 1340, 1338, 1335, 1343, 255, 251, 247, 1296, 1291, 1288, 265, 1302, 1299, 2113, 204, 196, 192, 2042, 1232, 1230, 1224, 214, 1220, 210, 1242, 1239, 1235, 1250, 2077, 2075, 151, 148, 1993, 144, 1990, 1163, 1162, 1160, 1158, 1155, 161, 1152, 157, 1173, 1171, 1168, 1165, 168, 1181, 1178, 2021, 2020, 2018, 2023, 585, 560, 557, 1585, 516, 509, 1562, 1559, 458, 447, 2227, 472, 1516, 1513, 1510, 398, 396, 393, 390, 2181, 386, 2178, 407, 1453, 1451, 1449, 1446, 420, 1460, 2209, 769, 764, 720, 712, 2391, 729, 1713, 664, 663, 661, 659, 2352, 656, 2349, 671, 1679, 1677, 2553, 922, 919, 2519, 2516, 885, 883, 881, 2685, 2661, 2659, 2767, 2756, 2755, 140, 1137, 1136, 130, 127, 1125, 1124, 1122, 1127, 109, 106, 102, 1103, 1102, 1100, 1098, 116, 1107, 1105, 1980, 80, 76, 73, 1947, 1068, 1067, 1065, 1063, 90, 1060, 87, 1075, 1073, 1070, 1080, 1966, 1965, 46, 43, 40, 1912, 36, 1909, 1019, 1018, 1016, 1014, 58, 1011, 55, 1008, 51, 1029, 1027, 1024, 1021, 63, 1037, 1034, 1940, 1939, 1937, 1942, 8, 1866, 4, 1863, 1, 1860, 956, 954, 952, 949, 946, 17, 14, 969, 967, 964, 961, 27, 957, 24, 979, 976, 972, 1901, 1900, 1898, 1896, 986, 1905, 1903, 350, 349, 1381, 329, 327, 324, 1368, 1366, 292, 290, 287, 284, 2118, 304, 1341, 1339, 1337, 1345, 243, 240, 237, 2086, 233, 2083, 254, 1297, 1295, 1293, 1290, 1304, 2114, 190, 187, 184, 2034, 180, 2031, 177, 2027, 199, 1233, 1231, 1229, 1226, 217, 1223, 1241, 2078, 2076, 584, 555, 554, 552, 550, 2282, 562, 1586, 507, 506, 504, 502, 2257, 499, 2254, 515, 1563, 1561, 445, 443, 441, 2219, 438, 2216, 435, 2212, 460, 454, 475, 1517, 1515, 1512, 2447, 798, 797, 2422, 2419, 770, 768, 766, 2383, 2380, 2376, 721, 719, 717, 714, 731, 1714, 2602, 2582, 2580, 2548, 2546, 2543, 923, 921, 2717, 2706, 2705, 2683, 2682, 2680, 1771, 1752, 1750, 1733, 1732, 1731, 1735, 1814, 1707, 1670, 1668, 1631, 1629, 1626, 1634, 1599, 1598, 1596, 1594, 1603, 1601, 2326, 1772, 1753, 1751, 1581, 1554, 1552, 1504, 1501, 1498, 1509, 1442, 1437, 1434, 401, 1448, 1445, 2206, 1392, 1391, 1389, 1387, 1384, 359, 1399, 1397, 1394, 1404, 2171, 2170, 1708, 1672, 1669, 619, 1632, 1630, 1628, 1773, 1378, 1363, 1361, 1333, 1328, 1336, 1286, 1281, 1278, 248, 1292, 1289, 2111, 1218, 1216, 1210, 197, 1206, 193, 1228, 1225, 1221, 1236, 2073, 2071, 1151, 1150, 1148, 1146, 152, 1143, 149, 1140, 145, 1161, 1159, 1156, 1153, 158, 1169, 1166, 2017, 2016, 2014, 2019, 1582, 510, 1556, 1553, 452, 448, 1506, 1500, 394, 391, 387, 1443, 1441, 1439, 1436, 1450, 2207, 765, 716, 713, 1709, 662, 660, 657, 1673, 1671, 916, 914, 879, 878, 877, 882, 1135, 1134, 1121, 1120, 1118, 1123, 1097, 1096, 1094, 1092, 103, 1101, 1099, 1979, 1059, 1058, 1056, 1054, 77, 1051, 74, 1066, 1064, 1061, 1071, 1964, 1963, 1007, 1006, 1004, 1002, 999, 41, 996, 37, 1017, 1015, 1012, 1009, 52, 1025, 1022, 1936, 1935, 1933, 1938, 942, 940, 938, 935, 932, 5, 2, 955, 953, 950, 947, 18, 943, 15, 965, 962, 958, 1895, 1894, 1892, 1890, 973, 1899, 1897, 1379, 325, 1364, 1362, 288, 285, 1334, 1332, 1330, 241, 238, 234, 1287, 1285, 1283, 1280, 1294, 2112, 188, 185, 181, 178, 2028, 1219, 1217, 1215, 1212, 200, 1209, 1227, 2074, 2072, 583, 553, 551, 1583, 505, 503, 500, 513, 1557, 1555, 444, 442, 439, 436, 2213, 455, 451, 1507, 1505, 1502, 796, 763, 762, 760, 767, 711, 710, 708, 706, 2377, 718, 715, 1710, 2544, 917, 915, 2681, 1627, 1597, 1595, 2325, 1769, 1749, 1747, 1499, 1438, 1435, 2204, 1390, 1388, 1385, 1395, 2169, 2167, 1704, 1665, 1662, 1625, 1623, 1620, 1770, 1329, 1282, 1279, 2109, 1214, 1207, 1222, 2068, 2065, 1149, 1147, 1144, 1141, 146, 1157, 1154, 2013, 2011, 2008, 2015, 1579, 1549, 1546, 1495, 1487, 1433, 1431, 1428, 1425, 388, 1440, 2205, 1705, 658, 1667, 1664, 1119, 1095, 1093, 1978, 1057, 1055, 1052, 1062, 1962, 1960, 1005, 1003, 1e3, 997, 38, 1013, 1010, 1932, 1930, 1927, 1934, 941, 939, 936, 933, 6, 930, 3, 951, 948, 944, 1889, 1887, 1884, 1881, 959, 1893, 1891, 35, 1377, 1360, 1358, 1327, 1325, 1322, 1331, 1277, 1275, 1272, 1269, 235, 1284, 2110, 1205, 1204, 1201, 1198, 182, 1195, 179, 1213, 2070, 2067, 1580, 501, 1551, 1548, 440, 437, 1497, 1494, 1490, 1503, 761, 709, 707, 1706, 913, 912, 2198, 1386, 2164, 2161, 1621, 1766, 2103, 1208, 2058, 2054, 1145, 1142, 2005, 2002, 1999, 2009, 1488, 1429, 1426, 2200, 1698, 1659, 1656, 1975, 1053, 1957, 1954, 1001, 998, 1924, 1921, 1918, 1928, 937, 934, 931, 1879, 1876, 1873, 1870, 945, 1885, 1882, 1323, 1273, 1270, 2105, 1202, 1199, 1196, 1211, 2061, 2057, 1576, 1543, 1540, 1484, 1481, 1478, 1491, 1700]);
        var ve = function () {
          function ve(t, e) {
            _classCallCheck(this, ve);

            this.bits = t, this.points = e;
          }

          _createClass(ve, [{
            key: "getBits",
            value: function getBits() {
              return this.bits;
            }
          }, {
            key: "getPoints",
            value: function getPoints() {
              return this.points;
            }
          }]);

          return ve;
        }();

        var Fe = function () {
          function Fe() {
            _classCallCheck(this, Fe);
          }

          _createClass(Fe, null, [{
            key: "detectMultiple",
            value: function detectMultiple(t, e, r) {
              var n = t.getBlackMatrix(),
                  i = Fe.detect(r, n);return i.length || (n = n.clone(), n.rotate180(), i = Fe.detect(r, n)), new ve(n, i);
            }
          }, {
            key: "detect",
            value: function detect(t, e) {
              var r = new Array();var n = 0,
                  i = 0,
                  o = !1;for (; n < e.getHeight();) {
                var _s44 = Fe.findVertices(e, n, i);if (null != _s44[0] || null != _s44[3]) {
                  if (o = !0, r.push(_s44), !t) break;null != _s44[2] ? (i = Math.trunc(_s44[2].getX()), n = Math.trunc(_s44[2].getY())) : (i = Math.trunc(_s44[4].getX()), n = Math.trunc(_s44[4].getY()));
                } else {
                  if (!o) break;o = !1, i = 0;var _iteratorNormalCompletion53 = true;
                  var _didIteratorError53 = false;
                  var _iteratorError53 = undefined;

                  try {
                    for (var _iterator53 = r[Symbol.iterator](), _step53; !(_iteratorNormalCompletion53 = (_step53 = _iterator53.next()).done); _iteratorNormalCompletion53 = true) {
                      var _t154 = _step53.value;
                      null != _t154[1] && (n = Math.trunc(Math.max(n, _t154[1].getY()))), null != _t154[3] && (n = Math.max(n, Math.trunc(_t154[3].getY())));
                    }
                  } catch (err) {
                    _didIteratorError53 = true;
                    _iteratorError53 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion53 && _iterator53.return) {
                        _iterator53.return();
                      }
                    } finally {
                      if (_didIteratorError53) {
                        throw _iteratorError53;
                      }
                    }
                  }

                  n += Fe.ROW_STEP;
                }
              }return r;
            }
          }, {
            key: "findVertices",
            value: function findVertices(t, e, r) {
              var n = t.getHeight(),
                  i = t.getWidth(),
                  o = new Array(8);return Fe.copyToResult(o, Fe.findRowsWithPattern(t, n, i, e, r, Fe.START_PATTERN), Fe.INDEXES_START_PATTERN), null != o[4] && (r = Math.trunc(o[4].getX()), e = Math.trunc(o[4].getY())), Fe.copyToResult(o, Fe.findRowsWithPattern(t, n, i, e, r, Fe.STOP_PATTERN), Fe.INDEXES_STOP_PATTERN), o;
            }
          }, {
            key: "copyToResult",
            value: function copyToResult(t, e, r) {
              for (var _n77 = 0; _n77 < r.length; _n77++) {
                t[r[_n77]] = e[_n77];
              }
            }
          }, {
            key: "findRowsWithPattern",
            value: function findRowsWithPattern(t, e, r, n, i, o) {
              var s = new Array(4);var a = !1;var c = new Int32Array(o.length);for (; n < e; n += Fe.ROW_STEP) {
                var _e143 = Fe.findGuardPattern(t, i, n, r, !1, o, c);if (null != _e143) {
                  for (; n > 0;) {
                    var _s45 = Fe.findGuardPattern(t, i, --n, r, !1, o, c);if (null == _s45) {
                      n++;break;
                    }_e143 = _s45;
                  }s[0] = new it(_e143[0], n), s[1] = new it(_e143[1], n), a = !0;break;
                }
              }var l = n + 1;if (a) {
                var _n78 = 0,
                    _i65 = Int32Array.from([Math.trunc(s[0].getX()), Math.trunc(s[1].getX())]);for (; l < e; l++) {
                  var _e144 = Fe.findGuardPattern(t, _i65[0], l, r, !1, o, c);if (null != _e144 && Math.abs(_i65[0] - _e144[0]) < Fe.MAX_PATTERN_DRIFT && Math.abs(_i65[1] - _e144[1]) < Fe.MAX_PATTERN_DRIFT) _i65 = _e144, _n78 = 0;else {
                    if (_n78 > Fe.SKIPPED_ROW_COUNT_MAX) break;_n78++;
                  }
                }l -= _n78 + 1, s[2] = new it(_i65[0], l), s[3] = new it(_i65[1], l);
              }return l - n < Fe.BARCODE_MIN_HEIGHT && w.fill(s, null), s;
            }
          }, {
            key: "findGuardPattern",
            value: function findGuardPattern(t, e, r, n, i, o, s) {
              w.fillWithin(s, 0, s.length, 0);var a = e,
                  c = 0;for (; t.get(a, r) && a > 0 && c++ < Fe.MAX_PIXEL_DRIFT;) {
                a--;
              }var l = a,
                  h = 0,
                  u = o.length;for (var _e145 = i; l < n; l++) {
                if (t.get(l, r) !== _e145) s[h]++;else {
                  if (h === u - 1) {
                    if (Fe.patternMatchVariance(s, o, Fe.MAX_INDIVIDUAL_VARIANCE) < Fe.MAX_AVG_VARIANCE) return new Int32Array([a, l]);a += s[0] + s[1], d.arraycopy(s, 2, s, 0, h - 1), s[h - 1] = 0, s[h] = 0, h--;
                  } else h++;s[h] = 1, _e145 = !_e145;
                }
              }return h === u - 1 && Fe.patternMatchVariance(s, o, Fe.MAX_INDIVIDUAL_VARIANCE) < Fe.MAX_AVG_VARIANCE ? new Int32Array([a, l - 1]) : null;
            }
          }, {
            key: "patternMatchVariance",
            value: function patternMatchVariance(t, e, r) {
              var n = t.length,
                  i = 0,
                  o = 0;for (var _r87 = 0; _r87 < n; _r87++) {
                i += t[_r87], o += e[_r87];
              }if (i < o) return 1 / 0;var s = i / o;r *= s;var a = 0;for (var _i66 = 0; _i66 < n; _i66++) {
                var _n79 = t[_i66],
                    _o46 = e[_i66] * s,
                    _c19 = _n79 > _o46 ? _n79 - _o46 : _o46 - _n79;if (_c19 > r) return 1 / 0;a += _c19;
              }return a / i;
            }
          }]);

          return Fe;
        }();

        Fe.INDEXES_START_PATTERN = Int32Array.from([0, 4, 1, 5]), Fe.INDEXES_STOP_PATTERN = Int32Array.from([6, 2, 7, 3]), Fe.MAX_AVG_VARIANCE = .42, Fe.MAX_INDIVIDUAL_VARIANCE = .8, Fe.START_PATTERN = Int32Array.from([8, 1, 1, 1, 1, 1, 1, 3]), Fe.STOP_PATTERN = Int32Array.from([7, 1, 1, 3, 1, 1, 1, 2, 1]), Fe.MAX_PIXEL_DRIFT = 3, Fe.MAX_PATTERN_DRIFT = 5, Fe.SKIPPED_ROW_COUNT_MAX = 25, Fe.ROW_STEP = 5, Fe.BARCODE_MIN_HEIGHT = 10;
        var xe = function () {
          function xe(t, e) {
            _classCallCheck(this, xe);

            if (0 === e.length) throw new c();this.field = t;var r = e.length;if (r > 1 && 0 === e[0]) {
              var _t155 = 1;for (; _t155 < r && 0 === e[_t155];) {
                _t155++;
              }_t155 === r ? this.coefficients = new Int32Array([0]) : (this.coefficients = new Int32Array(r - _t155), d.arraycopy(e, _t155, this.coefficients, 0, this.coefficients.length));
            } else this.coefficients = e;
          }

          _createClass(xe, [{
            key: "getCoefficients",
            value: function getCoefficients() {
              return this.coefficients;
            }
          }, {
            key: "getDegree",
            value: function getDegree() {
              return this.coefficients.length - 1;
            }
          }, {
            key: "isZero",
            value: function isZero() {
              return 0 === this.coefficients[0];
            }
          }, {
            key: "getCoefficient",
            value: function getCoefficient(t) {
              return this.coefficients[this.coefficients.length - 1 - t];
            }
          }, {
            key: "evaluateAt",
            value: function evaluateAt(t) {
              if (0 === t) return this.getCoefficient(0);if (1 === t) {
                var _t156 = 0;var _iteratorNormalCompletion54 = true;
                var _didIteratorError54 = false;
                var _iteratorError54 = undefined;

                try {
                  for (var _iterator54 = this.coefficients[Symbol.iterator](), _step54; !(_iteratorNormalCompletion54 = (_step54 = _iterator54.next()).done); _iteratorNormalCompletion54 = true) {
                    var _e146 = _step54.value;
                    _t156 = this.field.add(_t156, _e146);
                  }
                } catch (err) {
                  _didIteratorError54 = true;
                  _iteratorError54 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion54 && _iterator54.return) {
                      _iterator54.return();
                    }
                  } finally {
                    if (_didIteratorError54) {
                      throw _iteratorError54;
                    }
                  }
                }

                return _t156;
              }var e = this.coefficients[0],
                  r = this.coefficients.length;for (var _n80 = 1; _n80 < r; _n80++) {
                e = this.field.add(this.field.multiply(t, e), this.coefficients[_n80]);
              }return e;
            }
          }, {
            key: "add",
            value: function add(t) {
              if (!this.field.equals(t.field)) throw new c("ModulusPolys do not have same ModulusGF field");if (this.isZero()) return t;if (t.isZero()) return this;var e = this.coefficients,
                  r = t.coefficients;if (e.length > r.length) {
                var _t157 = e;e = r, r = _t157;
              }var n = new Int32Array(r.length),
                  i = r.length - e.length;d.arraycopy(r, 0, n, 0, i);for (var _t158 = i; _t158 < r.length; _t158++) {
                n[_t158] = this.field.add(e[_t158 - i], r[_t158]);
              }return new xe(this.field, n);
            }
          }, {
            key: "subtract",
            value: function subtract(t) {
              if (!this.field.equals(t.field)) throw new c("ModulusPolys do not have same ModulusGF field");return t.isZero() ? this : this.add(t.negative());
            }
          }, {
            key: "multiply",
            value: function multiply(t) {
              return t instanceof xe ? this.multiplyOther(t) : this.multiplyScalar(t);
            }
          }, {
            key: "multiplyOther",
            value: function multiplyOther(t) {
              if (!this.field.equals(t.field)) throw new c("ModulusPolys do not have same ModulusGF field");if (this.isZero() || t.isZero()) return new xe(this.field, new Int32Array([0]));var e = this.coefficients,
                  r = e.length,
                  n = t.coefficients,
                  i = n.length,
                  o = new Int32Array(r + i - 1);for (var _t159 = 0; _t159 < r; _t159++) {
                var _r88 = e[_t159];for (var _e147 = 0; _e147 < i; _e147++) {
                  o[_t159 + _e147] = this.field.add(o[_t159 + _e147], this.field.multiply(_r88, n[_e147]));
                }
              }return new xe(this.field, o);
            }
          }, {
            key: "negative",
            value: function negative() {
              var t = this.coefficients.length,
                  e = new Int32Array(t);for (var r = 0; r < t; r++) {
                e[r] = this.field.subtract(0, this.coefficients[r]);
              }return new xe(this.field, e);
            }
          }, {
            key: "multiplyScalar",
            value: function multiplyScalar(t) {
              if (0 === t) return new xe(this.field, new Int32Array([0]));if (1 === t) return this;var e = this.coefficients.length,
                  r = new Int32Array(e);for (var _n81 = 0; _n81 < e; _n81++) {
                r[_n81] = this.field.multiply(this.coefficients[_n81], t);
              }return new xe(this.field, r);
            }
          }, {
            key: "multiplyByMonomial",
            value: function multiplyByMonomial(t, e) {
              if (t < 0) throw new c();if (0 === e) return new xe(this.field, new Int32Array([0]));var r = this.coefficients.length,
                  n = new Int32Array(r + t);for (var _t160 = 0; _t160 < r; _t160++) {
                n[_t160] = this.field.multiply(this.coefficients[_t160], e);
              }return new xe(this.field, n);
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = new y();for (var _e148 = this.getDegree(); _e148 >= 0; _e148--) {
                var r = this.getCoefficient(_e148);0 !== r && (r < 0 ? (t.append(" - "), r = -r) : t.length() > 0 && t.append(" + "), 0 !== _e148 && 1 === r || t.append(r), 0 !== _e148 && (1 === _e148 ? t.append("x") : (t.append("x^"), t.append(_e148))));
              }return t.toString();
            }
          }]);

          return xe;
        }();

        var ke = function () {
          function ke() {
            _classCallCheck(this, ke);
          }

          _createClass(ke, [{
            key: "add",
            value: function add(t, e) {
              return (t + e) % this.modulus;
            }
          }, {
            key: "subtract",
            value: function subtract(t, e) {
              return (this.modulus + t - e) % this.modulus;
            }
          }, {
            key: "exp",
            value: function exp(t) {
              return this.expTable[t];
            }
          }, {
            key: "log",
            value: function log(t) {
              if (0 === t) throw new c();return this.logTable[t];
            }
          }, {
            key: "inverse",
            value: function inverse(t) {
              if (0 === t) throw new K();return this.expTable[this.modulus - this.logTable[t] - 1];
            }
          }, {
            key: "multiply",
            value: function multiply(t, e) {
              return 0 === t || 0 === e ? 0 : this.expTable[(this.logTable[t] + this.logTable[e]) % (this.modulus - 1)];
            }
          }, {
            key: "getSize",
            value: function getSize() {
              return this.modulus;
            }
          }, {
            key: "equals",
            value: function equals(t) {
              return t === this;
            }
          }]);

          return ke;
        }();

        var Ue = function (_ke) {
          _inherits(Ue, _ke);

          function Ue(t, e) {
            var _this55;

            _classCallCheck(this, Ue);

            (_this55 = _possibleConstructorReturn(this, (Ue.__proto__ || Object.getPrototypeOf(Ue)).call(this)), _this55), _this55.modulus = t, _this55.expTable = new Int32Array(t), _this55.logTable = new Int32Array(t);var r = 1;for (var _n82 = 0; _n82 < t; _n82++) {
              _this55.expTable[_n82] = r, r = r * e % t;
            }for (var _e149 = 0; _e149 < t - 1; _e149++) {
              _this55.logTable[_this55.expTable[_e149]] = _e149;
            }_this55.zero = new xe(_this55, new Int32Array([0])), _this55.one = new xe(_this55, new Int32Array([1]));return _this55;
          }

          _createClass(Ue, [{
            key: "getZero",
            value: function getZero() {
              return this.zero;
            }
          }, {
            key: "getOne",
            value: function getOne() {
              return this.one;
            }
          }, {
            key: "buildMonomial",
            value: function buildMonomial(t, e) {
              if (t < 0) throw new c();if (0 === e) return this.zero;var r = new Int32Array(t + 1);return r[0] = e, new xe(this, r);
            }
          }]);

          return Ue;
        }(ke);

        Ue.PDF417_GF = new Ue(Pe.NUMBER_OF_CODEWORDS, 3);
        var He = function () {
          function He() {
            _classCallCheck(this, He);

            this.field = Ue.PDF417_GF;
          }

          _createClass(He, [{
            key: "decode",
            value: function decode(t, e, r) {
              var n = new xe(this.field, t),
                  i = new Int32Array(e),
                  o = !1;for (var _t161 = e; _t161 > 0; _t161--) {
                var _r89 = n.evaluateAt(this.field.exp(_t161));i[e - _t161] = _r89, 0 !== _r89 && (o = !0);
              }if (!o) return 0;var s = this.field.getOne();if (null != r) {
                var _iteratorNormalCompletion55 = true;
                var _didIteratorError55 = false;
                var _iteratorError55 = undefined;

                try {
                  for (var _iterator55 = r[Symbol.iterator](), _step55; !(_iteratorNormalCompletion55 = (_step55 = _iterator55.next()).done); _iteratorNormalCompletion55 = true) {
                    var _e150 = _step55.value;
                    var _r90 = this.field.exp(t.length - 1 - _e150),
                        _n83 = new xe(this.field, new Int32Array([this.field.subtract(0, _r90), 1]));s = s.multiply(_n83);
                  }
                } catch (err) {
                  _didIteratorError55 = true;
                  _iteratorError55 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion55 && _iterator55.return) {
                      _iterator55.return();
                    }
                  } finally {
                    if (_didIteratorError55) {
                      throw _iteratorError55;
                    }
                  }
                }
              }var a = new xe(this.field, i),
                  c = this.runEuclideanAlgorithm(this.field.buildMonomial(e, 1), a, e),
                  l = c[0],
                  u = c[1],
                  d = this.findErrorLocations(l),
                  f = this.findErrorMagnitudes(u, l, d);for (var _e151 = 0; _e151 < d.length; _e151++) {
                var _r91 = t.length - 1 - this.field.log(d[_e151]);if (_r91 < 0) throw h.getChecksumInstance();t[_r91] = this.field.subtract(t[_r91], f[_e151]);
              }return d.length;
            }
          }, {
            key: "runEuclideanAlgorithm",
            value: function runEuclideanAlgorithm(t, e, r) {
              if (t.getDegree() < e.getDegree()) {
                var _r92 = t;t = e, e = _r92;
              }var n = t,
                  i = e,
                  o = this.field.getZero(),
                  s = this.field.getOne();for (; i.getDegree() >= Math.round(r / 2);) {
                var _t162 = n,
                    _e152 = o;if (n = i, o = s, n.isZero()) throw h.getChecksumInstance();i = _t162;var _r93 = this.field.getZero(),
                    _a20 = n.getCoefficient(n.getDegree()),
                    _c20 = this.field.inverse(_a20);for (; i.getDegree() >= n.getDegree() && !i.isZero();) {
                  var _t163 = i.getDegree() - n.getDegree(),
                      _e153 = this.field.multiply(i.getCoefficient(i.getDegree()), _c20);_r93 = _r93.add(this.field.buildMonomial(_t163, _e153)), i = i.subtract(n.multiplyByMonomial(_t163, _e153));
                }s = _r93.multiply(o).subtract(_e152).negative();
              }var a = s.getCoefficient(0);if (0 === a) throw h.getChecksumInstance();var c = this.field.inverse(a);return [s.multiply(c), i.multiply(c)];
            }
          }, {
            key: "findErrorLocations",
            value: function findErrorLocations(t) {
              var e = t.getDegree(),
                  r = new Int32Array(e),
                  n = 0;for (var _i67 = 1; _i67 < this.field.getSize() && n < e; _i67++) {
                0 === t.evaluateAt(_i67) && (r[n] = this.field.inverse(_i67), n++);
              }if (n !== e) throw h.getChecksumInstance();return r;
            }
          }, {
            key: "findErrorMagnitudes",
            value: function findErrorMagnitudes(t, e, r) {
              var n = e.getDegree(),
                  i = new Int32Array(n);for (var _t164 = 1; _t164 <= n; _t164++) {
                i[n - _t164] = this.field.multiply(_t164, e.getCoefficient(_t164));
              }var o = new xe(this.field, i),
                  s = r.length,
                  a = new Int32Array(s);for (var _e154 = 0; _e154 < s; _e154++) {
                var _n84 = this.field.inverse(r[_e154]),
                    _i68 = this.field.subtract(0, t.evaluateAt(_n84)),
                    _s46 = this.field.inverse(o.evaluateAt(_n84));a[_e154] = this.field.multiply(_i68, _s46);
              }return a;
            }
          }]);

          return He;
        }();

        var Ve = function () {
          function Ve(t, e, r, n, i) {
            _classCallCheck(this, Ve);

            t instanceof Ve ? this.constructor_2(t) : this.constructor_1(t, e, r, n, i);
          }

          _createClass(Ve, [{
            key: "constructor_1",
            value: function constructor_1(t, e, r, n, i) {
              var o = null == e || null == r,
                  s = null == n || null == i;if (o && s) throw new D();o ? (e = new it(0, n.getY()), r = new it(0, i.getY())) : s && (n = new it(t.getWidth() - 1, e.getY()), i = new it(t.getWidth() - 1, r.getY())), this.image = t, this.topLeft = e, this.bottomLeft = r, this.topRight = n, this.bottomRight = i, this.minX = Math.trunc(Math.min(e.getX(), r.getX())), this.maxX = Math.trunc(Math.max(n.getX(), i.getX())), this.minY = Math.trunc(Math.min(e.getY(), n.getY())), this.maxY = Math.trunc(Math.max(r.getY(), i.getY()));
            }
          }, {
            key: "constructor_2",
            value: function constructor_2(t) {
              this.image = t.image, this.topLeft = t.getTopLeft(), this.bottomLeft = t.getBottomLeft(), this.topRight = t.getTopRight(), this.bottomRight = t.getBottomRight(), this.minX = t.getMinX(), this.maxX = t.getMaxX(), this.minY = t.getMinY(), this.maxY = t.getMaxY();
            }
          }, {
            key: "addMissingRows",
            value: function addMissingRows(t, e, r) {
              var n = this.topLeft,
                  i = this.bottomLeft,
                  o = this.topRight,
                  s = this.bottomRight;if (t > 0) {
                var _e155 = r ? this.topLeft : this.topRight,
                    _i69 = Math.trunc(_e155.getY() - t);_i69 < 0 && (_i69 = 0);var _s47 = new it(_e155.getX(), _i69);r ? n = _s47 : o = _s47;
              }if (e > 0) {
                var _t165 = r ? this.bottomLeft : this.bottomRight,
                    _n85 = Math.trunc(_t165.getY() + e);_n85 >= this.image.getHeight() && (_n85 = this.image.getHeight() - 1);var _o47 = new it(_t165.getX(), _n85);r ? i = _o47 : s = _o47;
              }return new Ve(this.image, n, i, o, s);
            }
          }, {
            key: "getMinX",
            value: function getMinX() {
              return this.minX;
            }
          }, {
            key: "getMaxX",
            value: function getMaxX() {
              return this.maxX;
            }
          }, {
            key: "getMinY",
            value: function getMinY() {
              return this.minY;
            }
          }, {
            key: "getMaxY",
            value: function getMaxY() {
              return this.maxY;
            }
          }, {
            key: "getTopLeft",
            value: function getTopLeft() {
              return this.topLeft;
            }
          }, {
            key: "getTopRight",
            value: function getTopRight() {
              return this.topRight;
            }
          }, {
            key: "getBottomLeft",
            value: function getBottomLeft() {
              return this.bottomLeft;
            }
          }, {
            key: "getBottomRight",
            value: function getBottomRight() {
              return this.bottomRight;
            }
          }], [{
            key: "merge",
            value: function merge(t, e) {
              return null == t ? e : null == e ? t : new Ve(t.image, t.topLeft, t.bottomLeft, e.topRight, e.bottomRight);
            }
          }]);

          return Ve;
        }();

        var ze = function () {
          function ze(t, e, r, n) {
            _classCallCheck(this, ze);

            this.columnCount = t, this.errorCorrectionLevel = n, this.rowCountUpperPart = e, this.rowCountLowerPart = r, this.rowCount = e + r;
          }

          _createClass(ze, [{
            key: "getColumnCount",
            value: function getColumnCount() {
              return this.columnCount;
            }
          }, {
            key: "getErrorCorrectionLevel",
            value: function getErrorCorrectionLevel() {
              return this.errorCorrectionLevel;
            }
          }, {
            key: "getRowCount",
            value: function getRowCount() {
              return this.rowCount;
            }
          }, {
            key: "getRowCountUpperPart",
            value: function getRowCountUpperPart() {
              return this.rowCountUpperPart;
            }
          }, {
            key: "getRowCountLowerPart",
            value: function getRowCountLowerPart() {
              return this.rowCountLowerPart;
            }
          }]);

          return ze;
        }();

        var Ge = function () {
          function Ge() {
            _classCallCheck(this, Ge);

            this.buffer = "";
          }

          _createClass(Ge, [{
            key: "format",
            value: function format(t) {
              for (var _len6 = arguments.length, e = Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {
                e[_key6 - 1] = arguments[_key6];
              }

              this.buffer += Ge.form(t, e);
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.buffer;
            }
          }], [{
            key: "form",
            value: function form(t, e) {
              var r = -1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g, function (t, n, i, o, s, a) {
                if ("%%" === t) return "%";if (void 0 === e[++r]) return;t = o ? parseInt(o.substr(1)) : void 0;var c = void 0,
                    l = s ? parseInt(s.substr(1)) : void 0;switch (a) {case "s":
                    c = e[r];break;case "c":
                    c = e[r][0];break;case "f":
                    c = parseFloat(e[r]).toFixed(t);break;case "p":
                    c = parseFloat(e[r]).toPrecision(t);break;case "e":
                    c = parseFloat(e[r]).toExponential(t);break;case "x":
                    c = parseInt(e[r]).toString(l || 16);break;case "d":
                    c = parseFloat(parseInt(e[r], l || 10).toPrecision(t)).toFixed(0);}c = "object" == (typeof c === "undefined" ? "undefined" : _typeof(c)) ? JSON.stringify(c) : (+c).toString(l);var h = parseInt(i),
                    u = i && i[0] + "" == "0" ? "0" : " ";for (; c.length < h;) {
                  c = void 0 !== n ? c + u : u + c;
                }return c;
              });
            }
          }]);

          return Ge;
        }();

        var Ye = function () {
          function Ye(t) {
            _classCallCheck(this, Ye);

            this.boundingBox = new Ve(t), this.codewords = new Array(t.getMaxY() - t.getMinY() + 1);
          }

          _createClass(Ye, [{
            key: "getCodewordNearby",
            value: function getCodewordNearby(t) {
              var e = this.getCodeword(t);if (null != e) return e;for (var _r94 = 1; _r94 < Ye.MAX_NEARBY_DISTANCE; _r94++) {
                var _n86 = this.imageRowToCodewordIndex(t) - _r94;if (_n86 >= 0 && (e = this.codewords[_n86], null != e)) return e;if (_n86 = this.imageRowToCodewordIndex(t) + _r94, _n86 < this.codewords.length && (e = this.codewords[_n86], null != e)) return e;
              }return null;
            }
          }, {
            key: "imageRowToCodewordIndex",
            value: function imageRowToCodewordIndex(t) {
              return t - this.boundingBox.getMinY();
            }
          }, {
            key: "setCodeword",
            value: function setCodeword(t, e) {
              this.codewords[this.imageRowToCodewordIndex(t)] = e;
            }
          }, {
            key: "getCodeword",
            value: function getCodeword(t) {
              return this.codewords[this.imageRowToCodewordIndex(t)];
            }
          }, {
            key: "getBoundingBox",
            value: function getBoundingBox() {
              return this.boundingBox;
            }
          }, {
            key: "getCodewords",
            value: function getCodewords() {
              return this.codewords;
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = new Ge();var e = 0;var _iteratorNormalCompletion56 = true;
              var _didIteratorError56 = false;
              var _iteratorError56 = undefined;

              try {
                for (var _iterator56 = this.codewords[Symbol.iterator](), _step56; !(_iteratorNormalCompletion56 = (_step56 = _iterator56.next()).done); _iteratorNormalCompletion56 = true) {
                  var _r95 = _step56.value;
                  null != _r95 ? t.format("%3d: %3d|%3d%n", e++, _r95.getRowNumber(), _r95.getValue()) : t.format("%3d:    |   %n", e++);
                }
              } catch (err) {
                _didIteratorError56 = true;
                _iteratorError56 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion56 && _iterator56.return) {
                    _iterator56.return();
                  }
                } finally {
                  if (_didIteratorError56) {
                    throw _iteratorError56;
                  }
                }
              }

              return t.toString();
            }
          }]);

          return Ye;
        }();

        Ye.MAX_NEARBY_DISTANCE = 5;
        var Xe = function () {
          function Xe() {
            _classCallCheck(this, Xe);

            this.values = new Map();
          }

          _createClass(Xe, [{
            key: "setValue",
            value: function setValue(t) {
              t = Math.trunc(t);var e = this.values.get(t);null == e && (e = 0), e++, this.values.set(t, e);
            }
          }, {
            key: "getValue",
            value: function getValue() {
              var t = -1,
                  e = new Array();var _iteratorNormalCompletion57 = true;
              var _didIteratorError57 = false;
              var _iteratorError57 = undefined;

              try {
                var _loop = function _loop() {
                  var _step57$value = _slicedToArray(_step57.value, 2),
                      r = _step57$value[0],
                      n = _step57$value[1];

                  var i = { getKey: function getKey() {
                      return r;
                    }, getValue: function getValue() {
                      return n;
                    } };i.getValue() > t ? (t = i.getValue(), e = [], e.push(i.getKey())) : i.getValue() === t && e.push(i.getKey());
                };

                for (var _iterator57 = this.values.entries()[Symbol.iterator](), _step57; !(_iteratorNormalCompletion57 = (_step57 = _iterator57.next()).done); _iteratorNormalCompletion57 = true) {
                  _loop();
                }
              } catch (err) {
                _didIteratorError57 = true;
                _iteratorError57 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion57 && _iterator57.return) {
                    _iterator57.return();
                  }
                } finally {
                  if (_didIteratorError57) {
                    throw _iteratorError57;
                  }
                }
              }

              return Pe.toIntArray(e);
            }
          }, {
            key: "getConfidence",
            value: function getConfidence(t) {
              return this.values.get(t);
            }
          }]);

          return Xe;
        }();

        var We = function (_Ye) {
          _inherits(We, _Ye);

          function We(t, e) {
            var _this56;

            _classCallCheck(this, We);

            (_this56 = _possibleConstructorReturn(this, (We.__proto__ || Object.getPrototypeOf(We)).call(this, t)), _this56), _this56._isLeft = e;return _this56;
          }

          _createClass(We, [{
            key: "setRowNumbers",
            value: function setRowNumbers() {
              var _iteratorNormalCompletion58 = true;
              var _didIteratorError58 = false;
              var _iteratorError58 = undefined;

              try {
                for (var _iterator58 = this.getCodewords()[Symbol.iterator](), _step58; !(_iteratorNormalCompletion58 = (_step58 = _iterator58.next()).done); _iteratorNormalCompletion58 = true) {
                  var t = _step58.value;
                  null != t && t.setRowNumberAsRowIndicatorColumn();
                }
              } catch (err) {
                _didIteratorError58 = true;
                _iteratorError58 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion58 && _iterator58.return) {
                    _iterator58.return();
                  }
                } finally {
                  if (_didIteratorError58) {
                    throw _iteratorError58;
                  }
                }
              }
            }
          }, {
            key: "adjustCompleteIndicatorColumnRowNumbers",
            value: function adjustCompleteIndicatorColumnRowNumbers(t) {
              var e = this.getCodewords();this.setRowNumbers(), this.removeIncorrectCodewords(e, t);var r = this.getBoundingBox(),
                  n = this._isLeft ? r.getTopLeft() : r.getTopRight(),
                  i = this._isLeft ? r.getBottomLeft() : r.getBottomRight(),
                  o = this.imageRowToCodewordIndex(Math.trunc(n.getY())),
                  s = this.imageRowToCodewordIndex(Math.trunc(i.getY())),
                  a = -1,
                  c = 1,
                  l = 0;for (var _r96 = o; _r96 < s; _r96++) {
                if (null == e[_r96]) continue;var _n87 = e[_r96],
                    _i70 = _n87.getRowNumber() - a;if (0 === _i70) l++;else if (1 === _i70) c = Math.max(c, l), l = 1, a = _n87.getRowNumber();else if (_i70 < 0 || _n87.getRowNumber() >= t.getRowCount() || _i70 > _r96) e[_r96] = null;else {
                  var _t166 = void 0;_t166 = c > 2 ? (c - 2) * _i70 : _i70;var _o48 = _t166 >= _r96;for (var _n88 = 1; _n88 <= _t166 && !_o48; _n88++) {
                    _o48 = null != e[_r96 - _n88];
                  }_o48 ? e[_r96] = null : (a = _n87.getRowNumber(), l = 1);
                }
              }
            }
          }, {
            key: "getRowHeights",
            value: function getRowHeights() {
              var t = this.getBarcodeMetadata();if (null == t) return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);var e = new Int32Array(t.getRowCount());var _iteratorNormalCompletion59 = true;
              var _didIteratorError59 = false;
              var _iteratorError59 = undefined;

              try {
                for (var _iterator59 = this.getCodewords()[Symbol.iterator](), _step59; !(_iteratorNormalCompletion59 = (_step59 = _iterator59.next()).done); _iteratorNormalCompletion59 = true) {
                  var _t167 = _step59.value;
                  if (null != _t167) {
                    var _r97 = _t167.getRowNumber();if (_r97 >= e.length) continue;e[_r97]++;
                  }
                }
              } catch (err) {
                _didIteratorError59 = true;
                _iteratorError59 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion59 && _iterator59.return) {
                    _iterator59.return();
                  }
                } finally {
                  if (_didIteratorError59) {
                    throw _iteratorError59;
                  }
                }
              }

              return e;
            }
          }, {
            key: "adjustIncompleteIndicatorColumnRowNumbers",
            value: function adjustIncompleteIndicatorColumnRowNumbers(t) {
              var e = this.getBoundingBox(),
                  r = this._isLeft ? e.getTopLeft() : e.getTopRight(),
                  n = this._isLeft ? e.getBottomLeft() : e.getBottomRight(),
                  i = this.imageRowToCodewordIndex(Math.trunc(r.getY())),
                  o = this.imageRowToCodewordIndex(Math.trunc(n.getY())),
                  s = this.getCodewords(),
                  a = -1;for (var _e156 = i; _e156 < o; _e156++) {
                if (null == s[_e156]) continue;var _r98 = s[_e156];_r98.setRowNumberAsRowIndicatorColumn();var _n89 = _r98.getRowNumber() - a;0 === _n89 || (1 === _n89 ? a = _r98.getRowNumber() : _r98.getRowNumber() >= t.getRowCount() ? s[_e156] = null : a = _r98.getRowNumber());
              }
            }
          }, {
            key: "getBarcodeMetadata",
            value: function getBarcodeMetadata() {
              var t = this.getCodewords(),
                  e = new Xe(),
                  r = new Xe(),
                  n = new Xe(),
                  i = new Xe();var _iteratorNormalCompletion60 = true;
              var _didIteratorError60 = false;
              var _iteratorError60 = undefined;

              try {
                for (var _iterator60 = t[Symbol.iterator](), _step60; !(_iteratorNormalCompletion60 = (_step60 = _iterator60.next()).done); _iteratorNormalCompletion60 = true) {
                  var _o49 = _step60.value;
                  if (null == _o49) continue;_o49.setRowNumberAsRowIndicatorColumn();var _t168 = _o49.getValue() % 30,
                      _s48 = _o49.getRowNumber();switch (this._isLeft || (_s48 += 2), _s48 % 3) {case 0:
                      r.setValue(3 * _t168 + 1);break;case 1:
                      i.setValue(_t168 / 3), n.setValue(_t168 % 3);break;case 2:
                      e.setValue(_t168 + 1);}
                }
              } catch (err) {
                _didIteratorError60 = true;
                _iteratorError60 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion60 && _iterator60.return) {
                    _iterator60.return();
                  }
                } finally {
                  if (_didIteratorError60) {
                    throw _iteratorError60;
                  }
                }
              }

              if (0 === e.getValue().length || 0 === r.getValue().length || 0 === n.getValue().length || 0 === i.getValue().length || e.getValue()[0] < 1 || r.getValue()[0] + n.getValue()[0] < Pe.MIN_ROWS_IN_BARCODE || r.getValue()[0] + n.getValue()[0] > Pe.MAX_ROWS_IN_BARCODE) return null;var o = new ze(e.getValue()[0], r.getValue()[0], n.getValue()[0], i.getValue()[0]);return this.removeIncorrectCodewords(t, o), o;
            }
          }, {
            key: "removeIncorrectCodewords",
            value: function removeIncorrectCodewords(t, e) {
              for (var _r99 = 0; _r99 < t.length; _r99++) {
                var _n90 = t[_r99];if (null == t[_r99]) continue;var _i71 = _n90.getValue() % 30,
                    _o50 = _n90.getRowNumber();if (_o50 > e.getRowCount()) t[_r99] = null;else switch (this._isLeft || (_o50 += 2), _o50 % 3) {case 0:
                    3 * _i71 + 1 !== e.getRowCountUpperPart() && (t[_r99] = null);break;case 1:
                    Math.trunc(_i71 / 3) === e.getErrorCorrectionLevel() && _i71 % 3 === e.getRowCountLowerPart() || (t[_r99] = null);break;case 2:
                    _i71 + 1 !== e.getColumnCount() && (t[_r99] = null);}
              }
            }
          }, {
            key: "isLeft",
            value: function isLeft() {
              return this._isLeft;
            }
          }, {
            key: "toString",
            value: function toString() {
              return "IsLeft: " + this._isLeft + "\n" + _get(We.prototype.__proto__ || Object.getPrototypeOf(We.prototype), "toString", this).call(this);
            }
          }]);

          return We;
        }(Ye);

        var je = function () {
          function je(t, e) {
            _classCallCheck(this, je);

            this.ADJUST_ROW_NUMBER_SKIP = 2, this.barcodeMetadata = t, this.barcodeColumnCount = t.getColumnCount(), this.boundingBox = e, this.detectionResultColumns = new Array(this.barcodeColumnCount + 2);
          }

          _createClass(je, [{
            key: "getDetectionResultColumns",
            value: function getDetectionResultColumns() {
              this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]), this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount + 1]);var t = void 0,
                  e = Pe.MAX_CODEWORDS_IN_BARCODE;do {
                t = e, e = this.adjustRowNumbersAndGetCount();
              } while (e > 0 && e < t);return this.detectionResultColumns;
            }
          }, {
            key: "adjustIndicatorColumnRowNumbers",
            value: function adjustIndicatorColumnRowNumbers(t) {
              null != t && t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata);
            }
          }, {
            key: "adjustRowNumbersAndGetCount",
            value: function adjustRowNumbersAndGetCount() {
              var t = this.adjustRowNumbersByRow();if (0 === t) return 0;for (var _t169 = 1; _t169 < this.barcodeColumnCount + 1; _t169++) {
                var _e157 = this.detectionResultColumns[_t169].getCodewords();for (var _r100 = 0; _r100 < _e157.length; _r100++) {
                  null != _e157[_r100] && (_e157[_r100].hasValidRowNumber() || this.adjustRowNumbers(_t169, _r100, _e157));
                }
              }return t;
            }
          }, {
            key: "adjustRowNumbersByRow",
            value: function adjustRowNumbersByRow() {
              return this.adjustRowNumbersFromBothRI(), this.adjustRowNumbersFromLRI() + this.adjustRowNumbersFromRRI();
            }
          }, {
            key: "adjustRowNumbersFromBothRI",
            value: function adjustRowNumbersFromBothRI() {
              if (null == this.detectionResultColumns[0] || null == this.detectionResultColumns[this.barcodeColumnCount + 1]) return;var t = this.detectionResultColumns[0].getCodewords(),
                  e = this.detectionResultColumns[this.barcodeColumnCount + 1].getCodewords();for (var _r101 = 0; _r101 < t.length; _r101++) {
                if (null != t[_r101] && null != e[_r101] && t[_r101].getRowNumber() === e[_r101].getRowNumber()) for (var _e158 = 1; _e158 <= this.barcodeColumnCount; _e158++) {
                  var _n91 = this.detectionResultColumns[_e158].getCodewords()[_r101];null != _n91 && (_n91.setRowNumber(t[_r101].getRowNumber()), _n91.hasValidRowNumber() || (this.detectionResultColumns[_e158].getCodewords()[_r101] = null));
                }
              }
            }
          }, {
            key: "adjustRowNumbersFromRRI",
            value: function adjustRowNumbersFromRRI() {
              if (null == this.detectionResultColumns[this.barcodeColumnCount + 1]) return 0;var t = 0,
                  e = this.detectionResultColumns[this.barcodeColumnCount + 1].getCodewords();for (var _r102 = 0; _r102 < e.length; _r102++) {
                if (null == e[_r102]) continue;var _n92 = e[_r102].getRowNumber(),
                    _i72 = 0;for (var _e159 = this.barcodeColumnCount + 1; _e159 > 0 && _i72 < this.ADJUST_ROW_NUMBER_SKIP; _e159--) {
                  var _o51 = this.detectionResultColumns[_e159].getCodewords()[_r102];null != _o51 && (_i72 = je.adjustRowNumberIfValid(_n92, _i72, _o51), _o51.hasValidRowNumber() || t++);
                }
              }return t;
            }
          }, {
            key: "adjustRowNumbersFromLRI",
            value: function adjustRowNumbersFromLRI() {
              if (null == this.detectionResultColumns[0]) return 0;var t = 0,
                  e = this.detectionResultColumns[0].getCodewords();for (var _r103 = 0; _r103 < e.length; _r103++) {
                if (null == e[_r103]) continue;var _n93 = e[_r103].getRowNumber(),
                    _i73 = 0;for (var _e160 = 1; _e160 < this.barcodeColumnCount + 1 && _i73 < this.ADJUST_ROW_NUMBER_SKIP; _e160++) {
                  var _o52 = this.detectionResultColumns[_e160].getCodewords()[_r103];null != _o52 && (_i73 = je.adjustRowNumberIfValid(_n93, _i73, _o52), _o52.hasValidRowNumber() || t++);
                }
              }return t;
            }
          }, {
            key: "adjustRowNumbers",
            value: function adjustRowNumbers(t, e, r) {
              if (!this.detectionResultColumns[t - 1]) return;var n = r[e],
                  i = this.detectionResultColumns[t - 1].getCodewords(),
                  o = i;null != this.detectionResultColumns[t + 1] && (o = this.detectionResultColumns[t + 1].getCodewords());var s = new Array(14);s[2] = i[e], s[3] = o[e], e > 0 && (s[0] = r[e - 1], s[4] = i[e - 1], s[5] = o[e - 1]), e > 1 && (s[8] = r[e - 2], s[10] = i[e - 2], s[11] = o[e - 2]), e < r.length - 1 && (s[1] = r[e + 1], s[6] = i[e + 1], s[7] = o[e + 1]), e < r.length - 2 && (s[9] = r[e + 2], s[12] = i[e + 2], s[13] = o[e + 2]);var _iteratorNormalCompletion61 = true;
              var _didIteratorError61 = false;
              var _iteratorError61 = undefined;

              try {
                for (var _iterator61 = s[Symbol.iterator](), _step61; !(_iteratorNormalCompletion61 = (_step61 = _iterator61.next()).done); _iteratorNormalCompletion61 = true) {
                  var _t170 = _step61.value;
                  if (je.adjustRowNumber(n, _t170)) return;
                }
              } catch (err) {
                _didIteratorError61 = true;
                _iteratorError61 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion61 && _iterator61.return) {
                    _iterator61.return();
                  }
                } finally {
                  if (_didIteratorError61) {
                    throw _iteratorError61;
                  }
                }
              }
            }
          }, {
            key: "getBarcodeColumnCount",
            value: function getBarcodeColumnCount() {
              return this.barcodeColumnCount;
            }
          }, {
            key: "getBarcodeRowCount",
            value: function getBarcodeRowCount() {
              return this.barcodeMetadata.getRowCount();
            }
          }, {
            key: "getBarcodeECLevel",
            value: function getBarcodeECLevel() {
              return this.barcodeMetadata.getErrorCorrectionLevel();
            }
          }, {
            key: "setBoundingBox",
            value: function setBoundingBox(t) {
              this.boundingBox = t;
            }
          }, {
            key: "getBoundingBox",
            value: function getBoundingBox() {
              return this.boundingBox;
            }
          }, {
            key: "setDetectionResultColumn",
            value: function setDetectionResultColumn(t, e) {
              this.detectionResultColumns[t] = e;
            }
          }, {
            key: "getDetectionResultColumn",
            value: function getDetectionResultColumn(t) {
              return this.detectionResultColumns[t];
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = this.detectionResultColumns[0];null == t && (t = this.detectionResultColumns[this.barcodeColumnCount + 1]);var e = new Ge();for (var _r104 = 0; _r104 < t.getCodewords().length; _r104++) {
                e.format("CW %3d:", _r104);for (var _t171 = 0; _t171 < this.barcodeColumnCount + 2; _t171++) {
                  if (null == this.detectionResultColumns[_t171]) {
                    e.format("    |   ");continue;
                  }var _n94 = this.detectionResultColumns[_t171].getCodewords()[_r104];null != _n94 ? e.format(" %3d|%3d", _n94.getRowNumber(), _n94.getValue()) : e.format("    |   ");
                }e.format("%n");
              }return e.toString();
            }
          }], [{
            key: "adjustRowNumberIfValid",
            value: function adjustRowNumberIfValid(t, e, r) {
              return null == r || r.hasValidRowNumber() || (r.isValidRowNumber(t) ? (r.setRowNumber(t), e = 0) : ++e), e;
            }
          }, {
            key: "adjustRowNumber",
            value: function adjustRowNumber(t, e) {
              return !(null == e || !e.hasValidRowNumber() || e.getBucket() !== t.getBucket() || (t.setRowNumber(e.getRowNumber()), 0));
            }
          }]);

          return je;
        }();

        var Ze = function () {
          function Ze(t, e, r, n) {
            _classCallCheck(this, Ze);

            this.rowNumber = Ze.BARCODE_ROW_UNKNOWN, this.startX = Math.trunc(t), this.endX = Math.trunc(e), this.bucket = Math.trunc(r), this.value = Math.trunc(n);
          }

          _createClass(Ze, [{
            key: "hasValidRowNumber",
            value: function hasValidRowNumber() {
              return this.isValidRowNumber(this.rowNumber);
            }
          }, {
            key: "isValidRowNumber",
            value: function isValidRowNumber(t) {
              return t !== Ze.BARCODE_ROW_UNKNOWN && this.bucket === t % 3 * 3;
            }
          }, {
            key: "setRowNumberAsRowIndicatorColumn",
            value: function setRowNumberAsRowIndicatorColumn() {
              this.rowNumber = Math.trunc(3 * Math.trunc(this.value / 30) + Math.trunc(this.bucket / 3));
            }
          }, {
            key: "getWidth",
            value: function getWidth() {
              return this.endX - this.startX;
            }
          }, {
            key: "getStartX",
            value: function getStartX() {
              return this.startX;
            }
          }, {
            key: "getEndX",
            value: function getEndX() {
              return this.endX;
            }
          }, {
            key: "getBucket",
            value: function getBucket() {
              return this.bucket;
            }
          }, {
            key: "getValue",
            value: function getValue() {
              return this.value;
            }
          }, {
            key: "getRowNumber",
            value: function getRowNumber() {
              return this.rowNumber;
            }
          }, {
            key: "setRowNumber",
            value: function setRowNumber(t) {
              this.rowNumber = t;
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.rowNumber + "|" + this.value;
            }
          }]);

          return Ze;
        }();

        Ze.BARCODE_ROW_UNKNOWN = -1;
        var Qe = function () {
          function Qe() {
            _classCallCheck(this, Qe);
          }

          _createClass(Qe, null, [{
            key: "initialize",
            value: function initialize() {
              for (var t = 0; t < Pe.SYMBOL_TABLE.length; t++) {
                var _e161 = Pe.SYMBOL_TABLE[t],
                    _r105 = 1 & _e161;for (var _n95 = 0; _n95 < Pe.BARS_IN_MODULE; _n95++) {
                  var _i74 = 0;for (; (1 & _e161) === _r105;) {
                    _i74 += 1, _e161 >>= 1;
                  }_r105 = 1 & _e161, Qe.RATIOS_TABLE[t] || (Qe.RATIOS_TABLE[t] = new Array(Pe.BARS_IN_MODULE)), Qe.RATIOS_TABLE[t][Pe.BARS_IN_MODULE - _n95 - 1] = Math.fround(_i74 / Pe.MODULES_IN_CODEWORD);
                }
              }this.bSymbolTableReady = !0;
            }
          }, {
            key: "getDecodedValue",
            value: function getDecodedValue(t) {
              var e = Qe.getDecodedCodewordValue(Qe.sampleBitCounts(t));return -1 !== e ? e : Qe.getClosestDecodedValue(t);
            }
          }, {
            key: "sampleBitCounts",
            value: function sampleBitCounts(t) {
              var e = rt.sum(t),
                  r = new Int32Array(Pe.BARS_IN_MODULE),
                  n = 0,
                  i = 0;for (var _o53 = 0; _o53 < Pe.MODULES_IN_CODEWORD; _o53++) {
                var _s49 = e / (2 * Pe.MODULES_IN_CODEWORD) + _o53 * e / Pe.MODULES_IN_CODEWORD;i + t[n] <= _s49 && (i += t[n], n++), r[n]++;
              }return r;
            }
          }, {
            key: "getDecodedCodewordValue",
            value: function getDecodedCodewordValue(t) {
              var e = Qe.getBitValue(t);return -1 === Pe.getCodeword(e) ? -1 : e;
            }
          }, {
            key: "getBitValue",
            value: function getBitValue(t) {
              var e = 0;for (var _r106 = 0; _r106 < t.length; _r106++) {
                for (var _n96 = 0; _n96 < t[_r106]; _n96++) {
                  e = e << 1 | (_r106 % 2 == 0 ? 1 : 0);
                }
              }return Math.trunc(e);
            }
          }, {
            key: "getClosestDecodedValue",
            value: function getClosestDecodedValue(t) {
              var e = rt.sum(t),
                  r = new Array(Pe.BARS_IN_MODULE);if (e > 1) for (var _n97 = 0; _n97 < r.length; _n97++) {
                r[_n97] = Math.fround(t[_n97] / e);
              }var n = nt.MAX_VALUE,
                  i = -1;this.bSymbolTableReady || Qe.initialize();for (var _t172 = 0; _t172 < Qe.RATIOS_TABLE.length; _t172++) {
                var _e162 = 0,
                    _o54 = Qe.RATIOS_TABLE[_t172];for (var _t173 = 0; _t173 < Pe.BARS_IN_MODULE; _t173++) {
                  var _i75 = Math.fround(_o54[_t173] - r[_t173]);if (_e162 += Math.fround(_i75 * _i75), _e162 >= n) break;
                }_e162 < n && (n = _e162, i = Pe.SYMBOL_TABLE[_t172]);
              }return i;
            }
          }]);

          return Qe;
        }();

        Qe.bSymbolTableReady = !1, Qe.RATIOS_TABLE = new Array(Pe.SYMBOL_TABLE.length).map(function (t) {
          return new Array(Pe.BARS_IN_MODULE);
        });
        var Ke = function () {
          function Ke() {
            _classCallCheck(this, Ke);

            this.segmentCount = -1, this.fileSize = -1, this.timestamp = -1, this.checksum = -1;
          }

          _createClass(Ke, [{
            key: "getSegmentIndex",
            value: function getSegmentIndex() {
              return this.segmentIndex;
            }
          }, {
            key: "setSegmentIndex",
            value: function setSegmentIndex(t) {
              this.segmentIndex = t;
            }
          }, {
            key: "getFileId",
            value: function getFileId() {
              return this.fileId;
            }
          }, {
            key: "setFileId",
            value: function setFileId(t) {
              this.fileId = t;
            }
          }, {
            key: "getOptionalData",
            value: function getOptionalData() {
              return this.optionalData;
            }
          }, {
            key: "setOptionalData",
            value: function setOptionalData(t) {
              this.optionalData = t;
            }
          }, {
            key: "isLastSegment",
            value: function isLastSegment() {
              return this.lastSegment;
            }
          }, {
            key: "setLastSegment",
            value: function setLastSegment(t) {
              this.lastSegment = t;
            }
          }, {
            key: "getSegmentCount",
            value: function getSegmentCount() {
              return this.segmentCount;
            }
          }, {
            key: "setSegmentCount",
            value: function setSegmentCount(t) {
              this.segmentCount = t;
            }
          }, {
            key: "getSender",
            value: function getSender() {
              return this.sender || null;
            }
          }, {
            key: "setSender",
            value: function setSender(t) {
              this.sender = t;
            }
          }, {
            key: "getAddressee",
            value: function getAddressee() {
              return this.addressee || null;
            }
          }, {
            key: "setAddressee",
            value: function setAddressee(t) {
              this.addressee = t;
            }
          }, {
            key: "getFileName",
            value: function getFileName() {
              return this.fileName;
            }
          }, {
            key: "setFileName",
            value: function setFileName(t) {
              this.fileName = t;
            }
          }, {
            key: "getFileSize",
            value: function getFileSize() {
              return this.fileSize;
            }
          }, {
            key: "setFileSize",
            value: function setFileSize(t) {
              this.fileSize = t;
            }
          }, {
            key: "getChecksum",
            value: function getChecksum() {
              return this.checksum;
            }
          }, {
            key: "setChecksum",
            value: function setChecksum(t) {
              this.checksum = t;
            }
          }, {
            key: "getTimestamp",
            value: function getTimestamp() {
              return this.timestamp;
            }
          }, {
            key: "setTimestamp",
            value: function setTimestamp(t) {
              this.timestamp = t;
            }
          }]);

          return Ke;
        }();

        var qe = function () {
          function qe() {
            _classCallCheck(this, qe);
          }

          _createClass(qe, null, [{
            key: "parseLong",
            value: function parseLong(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
              return parseInt(t, e);
            }
          }]);

          return qe;
        }();

        var Je = function (_s50) {
          _inherits(Je, _s50);

          function Je() {
            _classCallCheck(this, Je);

            return _possibleConstructorReturn(this, (Je.__proto__ || Object.getPrototypeOf(Je)).apply(this, arguments));
          }

          return Je;
        }(s);

        Je.kind = "NullPointerException";
        var $e = function () {
          function $e() {
            _classCallCheck(this, $e);
          }

          _createClass($e, [{
            key: "writeBytes",
            value: function writeBytes(t) {
              this.writeBytesOffset(t, 0, t.length);
            }
          }, {
            key: "writeBytesOffset",
            value: function writeBytesOffset(t, e, r) {
              if (null == t) throw new Je();if (e < 0 || e > t.length || r < 0 || e + r > t.length || e + r < 0) throw new f();if (0 !== r) for (var _n98 = 0; _n98 < r; _n98++) {
                this.write(t[e + _n98]);
              }
            }
          }, {
            key: "flush",
            value: function flush() {}
          }, {
            key: "close",
            value: function close() {}
          }]);

          return $e;
        }();

        var tr = function (_s51) {
          _inherits(tr, _s51);

          function tr() {
            _classCallCheck(this, tr);

            return _possibleConstructorReturn(this, (tr.__proto__ || Object.getPrototypeOf(tr)).apply(this, arguments));
          }

          return tr;
        }(s);

        var er = function (_$e) {
          _inherits(er, _$e);

          function er() {
            var _this59;

            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;

            _classCallCheck(this, er);

            if ((_this59 = _possibleConstructorReturn(this, (er.__proto__ || Object.getPrototypeOf(er)).call(this)), _this59), _this59.count = 0, t < 0) throw new c("Negative initial size: " + t);_this59.buf = new Uint8Array(t);return _possibleConstructorReturn(_this59);
          }

          _createClass(er, [{
            key: "ensureCapacity",
            value: function ensureCapacity(t) {
              t - this.buf.length > 0 && this.grow(t);
            }
          }, {
            key: "grow",
            value: function grow(t) {
              var e = this.buf.length << 1;if (e - t < 0 && (e = t), e < 0) {
                if (t < 0) throw new tr();e = m.MAX_VALUE;
              }this.buf = w.copyOfUint8Array(this.buf, e);
            }
          }, {
            key: "write",
            value: function write(t) {
              this.ensureCapacity(this.count + 1), this.buf[this.count] = t, this.count += 1;
            }
          }, {
            key: "writeBytesOffset",
            value: function writeBytesOffset(t, e, r) {
              if (e < 0 || e > t.length || r < 0 || e + r - t.length > 0) throw new f();this.ensureCapacity(this.count + r), d.arraycopy(t, e, this.buf, this.count, r), this.count += r;
            }
          }, {
            key: "writeTo",
            value: function writeTo(t) {
              t.writeBytesOffset(this.buf, 0, this.count);
            }
          }, {
            key: "reset",
            value: function reset() {
              this.count = 0;
            }
          }, {
            key: "toByteArray",
            value: function toByteArray() {
              return w.copyOfUint8Array(this.buf, this.count);
            }
          }, {
            key: "size",
            value: function size() {
              return this.count;
            }
          }, {
            key: "toString",
            value: function toString(t) {
              return t ? "string" == typeof t ? this.toString_string(t) : this.toString_number(t) : this.toString_void();
            }
          }, {
            key: "toString_void",
            value: function toString_void() {
              return new String(this.buf).toString();
            }
          }, {
            key: "toString_string",
            value: function toString_string(t) {
              return new String(this.buf).toString();
            }
          }, {
            key: "toString_number",
            value: function toString_number(t) {
              return new String(this.buf).toString();
            }
          }, {
            key: "close",
            value: function close() {}
          }]);

          return er;
        }($e);

        function rr() {
          if ("undefined" != typeof window) return window.BigInt || null;if (void 0 !== r.g) return r.g.BigInt || null;if ("undefined" != typeof self) return self.BigInt || null;throw new Error("Can't search globals for BigInt!");
        }var nr = void 0;function ir(t) {
          if (void 0 === nr && (nr = rr()), null === nr) throw new Error("BigInt is not supported!");return nr(t);
        }!function (t) {
          t[t.ALPHA = 0] = "ALPHA", t[t.LOWER = 1] = "LOWER", t[t.MIXED = 2] = "MIXED", t[t.PUNCT = 3] = "PUNCT", t[t.ALPHA_SHIFT = 4] = "ALPHA_SHIFT", t[t.PUNCT_SHIFT = 5] = "PUNCT_SHIFT";
        }(X || (X = {}));
        var or = function () {
          function or() {
            _classCallCheck(this, or);
          }

          _createClass(or, null, [{
            key: "decode",
            value: function decode(t, e) {
              var r = new y(""),
                  n = I.ISO8859_1;r.enableDecoding(n);var i = 1,
                  o = t[i++],
                  s = new Ke();for (; i < t[0];) {
                switch (o) {case or.TEXT_COMPACTION_MODE_LATCH:
                    i = or.textCompaction(t, i, r);break;case or.BYTE_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH_6:
                    i = or.byteCompaction(o, t, n, i, r);break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                    r.append(t[i++]);break;case or.NUMERIC_COMPACTION_MODE_LATCH:
                    i = or.numericCompaction(t, i, r);break;case or.ECI_CHARSET:
                    I.getCharacterSetECIByValue(t[i++]);break;case or.ECI_GENERAL_PURPOSE:
                    i += 2;break;case or.ECI_USER_DEFINED:
                    i++;break;case or.BEGIN_MACRO_PDF417_CONTROL_BLOCK:
                    i = or.decodeMacroBlock(t, i, s);break;case or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case or.MACRO_PDF417_TERMINATOR:
                    throw new E();default:
                    i--, i = or.textCompaction(t, i, r);}if (!(i < t.length)) throw E.getFormatInstance();o = t[i++];
              }if (0 === r.length()) throw E.getFormatInstance();var a = new j(null, r.toString(), null, e);return a.setOther(s), a;
            }
          }, {
            key: "decodeMacroBlock",
            value: function decodeMacroBlock(t, e, r) {
              if (e + or.NUMBER_OF_SEQUENCE_CODEWORDS > t[0]) throw E.getFormatInstance();var n = new Int32Array(or.NUMBER_OF_SEQUENCE_CODEWORDS);for (var _r107 = 0; _r107 < or.NUMBER_OF_SEQUENCE_CODEWORDS; _r107++, e++) {
                n[_r107] = t[e];
              }r.setSegmentIndex(m.parseInt(or.decodeBase900toBase10(n, or.NUMBER_OF_SEQUENCE_CODEWORDS)));var i = new y();e = or.textCompaction(t, e, i), r.setFileId(i.toString());var o = -1;for (t[e] === or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD && (o = e + 1); e < t[0];) {
                switch (t[e]) {case or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
                    switch (t[++e]) {case or.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:
                        var _n99 = new y();e = or.textCompaction(t, e + 1, _n99), r.setFileName(_n99.toString());break;case or.MACRO_PDF417_OPTIONAL_FIELD_SENDER:
                        var _i76 = new y();e = or.textCompaction(t, e + 1, _i76), r.setSender(_i76.toString());break;case or.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:
                        var _o55 = new y();e = or.textCompaction(t, e + 1, _o55), r.setAddressee(_o55.toString());break;case or.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:
                        var _s52 = new y();e = or.numericCompaction(t, e + 1, _s52), r.setSegmentCount(m.parseInt(_s52.toString()));break;case or.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:
                        var _a21 = new y();e = or.numericCompaction(t, e + 1, _a21), r.setTimestamp(qe.parseLong(_a21.toString()));break;case or.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:
                        var _c21 = new y();e = or.numericCompaction(t, e + 1, _c21), r.setChecksum(m.parseInt(_c21.toString()));break;case or.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:
                        var _l10 = new y();e = or.numericCompaction(t, e + 1, _l10), r.setFileSize(qe.parseLong(_l10.toString()));break;default:
                        throw E.getFormatInstance();}break;case or.MACRO_PDF417_TERMINATOR:
                    e++, r.setLastSegment(!0);break;default:
                    throw E.getFormatInstance();}
              }if (-1 !== o) {
                var _n100 = e - o;r.isLastSegment() && _n100--, r.setOptionalData(w.copyOfRange(t, o, o + _n100));
              }return e;
            }
          }, {
            key: "textCompaction",
            value: function textCompaction(t, e, r) {
              var n = new Int32Array(2 * (t[0] - e)),
                  i = new Int32Array(2 * (t[0] - e)),
                  o = 0,
                  s = !1;for (; e < t[0] && !s;) {
                var _r108 = t[e++];if (_r108 < or.TEXT_COMPACTION_MODE_LATCH) n[o] = _r108 / 30, n[o + 1] = _r108 % 30, o += 2;else switch (_r108) {case or.TEXT_COMPACTION_MODE_LATCH:
                    n[o++] = or.TEXT_COMPACTION_MODE_LATCH;break;case or.BYTE_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH_6:case or.NUMERIC_COMPACTION_MODE_LATCH:case or.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case or.MACRO_PDF417_TERMINATOR:
                    e--, s = !0;break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                    n[o] = or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE, _r108 = t[e++], i[o] = _r108, o++;}
              }return or.decodeTextCompaction(n, i, o, r), e;
            }
          }, {
            key: "decodeTextCompaction",
            value: function decodeTextCompaction(t, e, r, n) {
              var i = X.ALPHA,
                  o = X.ALPHA,
                  s = 0;for (; s < r;) {
                var _r109 = t[s],
                    _a22 = "";switch (i) {case X.ALPHA:
                    if (_r109 < 26) _a22 = String.fromCharCode(65 + _r109);else switch (_r109) {case 26:
                        _a22 = " ";break;case or.LL:
                        i = X.LOWER;break;case or.ML:
                        i = X.MIXED;break;case or.PS:
                        o = i, i = X.PUNCT_SHIFT;break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                        n.append(e[s]);break;case or.TEXT_COMPACTION_MODE_LATCH:
                        i = X.ALPHA;}break;case X.LOWER:
                    if (_r109 < 26) _a22 = String.fromCharCode(97 + _r109);else switch (_r109) {case 26:
                        _a22 = " ";break;case or.AS:
                        o = i, i = X.ALPHA_SHIFT;break;case or.ML:
                        i = X.MIXED;break;case or.PS:
                        o = i, i = X.PUNCT_SHIFT;break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                        n.append(e[s]);break;case or.TEXT_COMPACTION_MODE_LATCH:
                        i = X.ALPHA;}break;case X.MIXED:
                    if (_r109 < or.PL) _a22 = or.MIXED_CHARS[_r109];else switch (_r109) {case or.PL:
                        i = X.PUNCT;break;case 26:
                        _a22 = " ";break;case or.LL:
                        i = X.LOWER;break;case or.AL:
                        i = X.ALPHA;break;case or.PS:
                        o = i, i = X.PUNCT_SHIFT;break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                        n.append(e[s]);break;case or.TEXT_COMPACTION_MODE_LATCH:
                        i = X.ALPHA;}break;case X.PUNCT:
                    if (_r109 < or.PAL) _a22 = or.PUNCT_CHARS[_r109];else switch (_r109) {case or.PAL:
                        i = X.ALPHA;break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                        n.append(e[s]);break;case or.TEXT_COMPACTION_MODE_LATCH:
                        i = X.ALPHA;}break;case X.ALPHA_SHIFT:
                    if (i = o, _r109 < 26) _a22 = String.fromCharCode(65 + _r109);else switch (_r109) {case 26:
                        _a22 = " ";break;case or.TEXT_COMPACTION_MODE_LATCH:
                        i = X.ALPHA;}break;case X.PUNCT_SHIFT:
                    if (i = o, _r109 < or.PAL) _a22 = or.PUNCT_CHARS[_r109];else switch (_r109) {case or.PAL:
                        i = X.ALPHA;break;case or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                        n.append(e[s]);break;case or.TEXT_COMPACTION_MODE_LATCH:
                        i = X.ALPHA;}}"" !== _a22 && n.append(_a22), s++;
              }
            }
          }, {
            key: "byteCompaction",
            value: function byteCompaction(t, e, r, n, i) {
              var o = new er(),
                  s = 0,
                  a = 0,
                  c = !1;switch (_t174) {case or.BYTE_COMPACTION_MODE_LATCH:
                  var _t174 = new Int32Array(6),
                      _r110 = e[n++];for (; n < e[0] && !c;) {
                    switch (_t174[s++] = _r110, a = 900 * a + _r110, _r110 = e[n++], _r110) {case or.TEXT_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH:case or.NUMERIC_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH_6:case or.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case or.MACRO_PDF417_TERMINATOR:
                        n--, c = !0;break;default:
                        if (s % 5 == 0 && s > 0) {
                          for (var _t175 = 0; _t175 < 6; ++_t175) {
                            o.write(Number(ir(a) >> ir(8 * (5 - _t175))));
                          }a = 0, s = 0;
                        }}
                  }n === e[0] && _r110 < or.TEXT_COMPACTION_MODE_LATCH && (_t174[s++] = _r110);for (var _e163 = 0; _e163 < s; _e163++) {
                    o.write(_t174[_e163]);
                  }break;case or.BYTE_COMPACTION_MODE_LATCH_6:
                  for (; n < e[0] && !c;) {
                    var _t176 = e[n++];if (_t176 < or.TEXT_COMPACTION_MODE_LATCH) s++, a = 900 * a + _t176;else switch (_t176) {case or.TEXT_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH:case or.NUMERIC_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH_6:case or.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case or.MACRO_PDF417_TERMINATOR:
                        n--, c = !0;}if (s % 5 == 0 && s > 0) {
                      for (var _t177 = 0; _t177 < 6; ++_t177) {
                        o.write(Number(ir(a) >> ir(8 * (5 - _t177))));
                      }a = 0, s = 0;
                    }
                  }}return i.append(_.decode(o.toByteArray(), r)), n;
            }
          }, {
            key: "numericCompaction",
            value: function numericCompaction(t, e, r) {
              var n = 0,
                  i = !1,
                  o = new Int32Array(or.MAX_NUMERIC_CODEWORDS);for (; e < t[0] && !i;) {
                var _s53 = t[e++];if (e === t[0] && (i = !0), _s53 < or.TEXT_COMPACTION_MODE_LATCH) o[n] = _s53, n++;else switch (_s53) {case or.TEXT_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH:case or.BYTE_COMPACTION_MODE_LATCH_6:case or.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case or.MACRO_PDF417_TERMINATOR:
                    e--, i = !0;}(n % or.MAX_NUMERIC_CODEWORDS == 0 || _s53 === or.NUMERIC_COMPACTION_MODE_LATCH || i) && n > 0 && (r.append(or.decodeBase900toBase10(o, n)), n = 0);
              }return e;
            }
          }, {
            key: "decodeBase900toBase10",
            value: function decodeBase900toBase10(t, e) {
              var r = ir(0);for (var _n101 = 0; _n101 < e; _n101++) {
                r += or.EXP900[e - _n101 - 1] * ir(t[_n101]);
              }var n = r.toString();if ("1" !== n.charAt(0)) throw new E();return n.substring(1);
            }
          }]);

          return or;
        }();

        or.TEXT_COMPACTION_MODE_LATCH = 900, or.BYTE_COMPACTION_MODE_LATCH = 901, or.NUMERIC_COMPACTION_MODE_LATCH = 902, or.BYTE_COMPACTION_MODE_LATCH_6 = 924, or.ECI_USER_DEFINED = 925, or.ECI_GENERAL_PURPOSE = 926, or.ECI_CHARSET = 927, or.BEGIN_MACRO_PDF417_CONTROL_BLOCK = 928, or.BEGIN_MACRO_PDF417_OPTIONAL_FIELD = 923, or.MACRO_PDF417_TERMINATOR = 922, or.MODE_SHIFT_TO_BYTE_COMPACTION_MODE = 913, or.MAX_NUMERIC_CODEWORDS = 15, or.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME = 0, or.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT = 1, or.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP = 2, or.MACRO_PDF417_OPTIONAL_FIELD_SENDER = 3, or.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE = 4, or.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE = 5, or.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM = 6, or.PL = 25, or.LL = 27, or.AS = 27, or.ML = 28, or.AL = 28, or.PS = 29, or.PAL = 29, or.PUNCT_CHARS = ";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'", or.MIXED_CHARS = "0123456789&\r\t,:#-.$/+%*=^", or.EXP900 = rr() ? function () {
          var t = [];t[0] = ir(1);var e = ir(900);t[1] = e;for (var _r111 = 2; _r111 < 16; _r111++) {
            t[_r111] = t[_r111 - 1] * e;
          }return t;
        }() : [], or.NUMBER_OF_SEQUENCE_CODEWORDS = 2;
        var sr = function () {
          function sr() {
            _classCallCheck(this, sr);
          }

          _createClass(sr, null, [{
            key: "decode",
            value: function decode(t, e, r, n, i, o, s) {
              var a = void 0,
                  c = new Ve(t, e, r, n, i),
                  l = null,
                  h = null;for (var _r112 = !0;; _r112 = !1) {
                if (null != e && (l = sr.getRowIndicatorColumn(t, c, e, !0, o, s)), null != n && (h = sr.getRowIndicatorColumn(t, c, n, !1, o, s)), a = sr.merge(l, h), null == a) throw D.getNotFoundInstance();var _i77 = a.getBoundingBox();if (!_r112 || null == _i77 || !(_i77.getMinY() < c.getMinY() || _i77.getMaxY() > c.getMaxY())) break;c = _i77;
              }a.setBoundingBox(c);var u = a.getBarcodeColumnCount() + 1;a.setDetectionResultColumn(0, l), a.setDetectionResultColumn(u, h);var d = null != l;for (var _e164 = 1; _e164 <= u; _e164++) {
                var _r113 = void 0,
                    _n102 = d ? _e164 : u - _e164;if (void 0 !== a.getDetectionResultColumn(_n102)) continue;_r113 = 0 === _n102 || _n102 === u ? new We(c, 0 === _n102) : new Ye(c), a.setDetectionResultColumn(_n102, _r113);var _i78 = -1,
                    _l11 = _i78;for (var _e165 = c.getMinY(); _e165 <= c.getMaxY(); _e165++) {
                  if (_i78 = sr.getStartColumn(a, _n102, _e165, d), _i78 < 0 || _i78 > c.getMaxX()) {
                    if (-1 === _l11) continue;_i78 = _l11;
                  }var _h8 = sr.detectCodeword(t, c.getMinX(), c.getMaxX(), d, _i78, _e165, o, s);null != _h8 && (_r113.setCodeword(_e165, _h8), _l11 = _i78, o = Math.min(o, _h8.getWidth()), s = Math.max(s, _h8.getWidth()));
                }
              }return sr.createDecoderResult(a);
            }
          }, {
            key: "merge",
            value: function merge(t, e) {
              if (null == t && null == e) return null;var r = sr.getBarcodeMetadata(t, e);if (null == r) return null;var n = Ve.merge(sr.adjustBoundingBox(t), sr.adjustBoundingBox(e));return new je(r, n);
            }
          }, {
            key: "adjustBoundingBox",
            value: function adjustBoundingBox(t) {
              if (null == t) return null;var e = t.getRowHeights();if (null == e) return null;var r = sr.getMax(e),
                  n = 0;var _iteratorNormalCompletion62 = true;
              var _didIteratorError62 = false;
              var _iteratorError62 = undefined;

              try {
                for (var _iterator62 = e[Symbol.iterator](), _step62; !(_iteratorNormalCompletion62 = (_step62 = _iterator62.next()).done); _iteratorNormalCompletion62 = true) {
                  var _t181 = _step62.value;
                  if (n += r - _t181, _t181 > 0) break;
                }
              } catch (err) {
                _didIteratorError62 = true;
                _iteratorError62 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion62 && _iterator62.return) {
                    _iterator62.return();
                  }
                } finally {
                  if (_didIteratorError62) {
                    throw _iteratorError62;
                  }
                }
              }

              var i = t.getCodewords();for (var _t178 = 0; n > 0 && null == i[_t178]; _t178++) {
                n--;
              }var o = 0;for (var _t179 = e.length - 1; _t179 >= 0 && (o += r - e[_t179], !(e[_t179] > 0)); _t179--) {}for (var _t180 = i.length - 1; o > 0 && null == i[_t180]; _t180--) {
                o--;
              }return t.getBoundingBox().addMissingRows(n, o, t.isLeft());
            }
          }, {
            key: "getMax",
            value: function getMax(t) {
              var e = -1;var _iteratorNormalCompletion63 = true;
              var _didIteratorError63 = false;
              var _iteratorError63 = undefined;

              try {
                for (var _iterator63 = t[Symbol.iterator](), _step63; !(_iteratorNormalCompletion63 = (_step63 = _iterator63.next()).done); _iteratorNormalCompletion63 = true) {
                  var _r114 = _step63.value;
                  e = Math.max(e, _r114);
                }
              } catch (err) {
                _didIteratorError63 = true;
                _iteratorError63 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion63 && _iterator63.return) {
                    _iterator63.return();
                  }
                } finally {
                  if (_didIteratorError63) {
                    throw _iteratorError63;
                  }
                }
              }

              return e;
            }
          }, {
            key: "getBarcodeMetadata",
            value: function getBarcodeMetadata(t, e) {
              var r = void 0,
                  n = void 0;return null == t || null == (r = t.getBarcodeMetadata()) ? null == e ? null : e.getBarcodeMetadata() : null == e || null == (n = e.getBarcodeMetadata()) ? r : r.getColumnCount() !== n.getColumnCount() && r.getErrorCorrectionLevel() !== n.getErrorCorrectionLevel() && r.getRowCount() !== n.getRowCount() ? null : r;
            }
          }, {
            key: "getRowIndicatorColumn",
            value: function getRowIndicatorColumn(t, e, r, n, i, o) {
              var s = new We(e, n);for (var _a23 = 0; _a23 < 2; _a23++) {
                var _c22 = 0 === _a23 ? 1 : -1,
                    _l12 = Math.trunc(Math.trunc(r.getX()));for (var _a24 = Math.trunc(Math.trunc(r.getY())); _a24 <= e.getMaxY() && _a24 >= e.getMinY(); _a24 += _c22) {
                  var _e166 = sr.detectCodeword(t, 0, t.getWidth(), n, _l12, _a24, i, o);null != _e166 && (s.setCodeword(_a24, _e166), _l12 = n ? _e166.getStartX() : _e166.getEndX());
                }
              }return s;
            }
          }, {
            key: "adjustCodewordCount",
            value: function adjustCodewordCount(t, e) {
              var r = e[0][1],
                  n = r.getValue(),
                  i = t.getBarcodeColumnCount() * t.getBarcodeRowCount() - sr.getNumberOfECCodeWords(t.getBarcodeECLevel());if (0 === n.length) {
                if (i < 1 || i > Pe.MAX_CODEWORDS_IN_BARCODE) throw D.getNotFoundInstance();r.setValue(i);
              } else n[0] !== i && r.setValue(i);
            }
          }, {
            key: "createDecoderResult",
            value: function createDecoderResult(t) {
              var e = sr.createBarcodeMatrix(t);sr.adjustCodewordCount(t, e);var r = new Array(),
                  n = new Int32Array(t.getBarcodeRowCount() * t.getBarcodeColumnCount()),
                  i = [],
                  o = new Array();for (var _s54 = 0; _s54 < t.getBarcodeRowCount(); _s54++) {
                for (var _a25 = 0; _a25 < t.getBarcodeColumnCount(); _a25++) {
                  var _c23 = e[_s54][_a25 + 1].getValue(),
                      _l13 = _s54 * t.getBarcodeColumnCount() + _a25;0 === _c23.length ? r.push(_l13) : 1 === _c23.length ? n[_l13] = _c23[0] : (o.push(_l13), i.push(_c23));
                }
              }var s = new Array(i.length);for (var _t182 = 0; _t182 < s.length; _t182++) {
                s[_t182] = i[_t182];
              }return sr.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(), n, Pe.toIntArray(r), Pe.toIntArray(o), s);
            }
          }, {
            key: "createDecoderResultFromAmbiguousValues",
            value: function createDecoderResultFromAmbiguousValues(t, e, r, n, i) {
              var o = new Int32Array(n.length),
                  s = 100;for (; s-- > 0;) {
                for (var _t183 = 0; _t183 < o.length; _t183++) {
                  e[n[_t183]] = i[_t183][o[_t183]];
                }try {
                  return sr.decodeCodewords(e, t, r);
                } catch (t) {
                  if (!(t instanceof h)) throw t;
                }if (0 === o.length) throw h.getChecksumInstance();for (var _t184 = 0; _t184 < o.length; _t184++) {
                  if (o[_t184] < i[_t184].length - 1) {
                    o[_t184]++;break;
                  }if (o[_t184] = 0, _t184 === o.length - 1) throw h.getChecksumInstance();
                }
              }throw h.getChecksumInstance();
            }
          }, {
            key: "createBarcodeMatrix",
            value: function createBarcodeMatrix(t) {
              var e = Array.from({ length: t.getBarcodeRowCount() }, function () {
                return new Array(t.getBarcodeColumnCount() + 2);
              });for (var _t185 = 0; _t185 < e.length; _t185++) {
                for (var _r115 = 0; _r115 < e[_t185].length; _r115++) {
                  e[_t185][_r115] = new Xe();
                }
              }var r = 0;var _iteratorNormalCompletion64 = true;
              var _didIteratorError64 = false;
              var _iteratorError64 = undefined;

              try {
                for (var _iterator64 = t.getDetectionResultColumns()[Symbol.iterator](), _step64; !(_iteratorNormalCompletion64 = (_step64 = _iterator64.next()).done); _iteratorNormalCompletion64 = true) {
                  var _n103 = _step64.value;
                  if (null != _n103) {
                    var _iteratorNormalCompletion65 = true;
                    var _didIteratorError65 = false;
                    var _iteratorError65 = undefined;

                    try {
                      for (var _iterator65 = _n103.getCodewords()[Symbol.iterator](), _step65; !(_iteratorNormalCompletion65 = (_step65 = _iterator65.next()).done); _iteratorNormalCompletion65 = true) {
                        var _t186 = _step65.value;
                        if (null != _t186) {
                          var _n104 = _t186.getRowNumber();if (_n104 >= 0) {
                            if (_n104 >= e.length) continue;e[_n104][r].setValue(_t186.getValue());
                          }
                        }
                      }
                    } catch (err) {
                      _didIteratorError65 = true;
                      _iteratorError65 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion65 && _iterator65.return) {
                          _iterator65.return();
                        }
                      } finally {
                        if (_didIteratorError65) {
                          throw _iteratorError65;
                        }
                      }
                    }
                  }r++;
                }
              } catch (err) {
                _didIteratorError64 = true;
                _iteratorError64 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion64 && _iterator64.return) {
                    _iterator64.return();
                  }
                } finally {
                  if (_didIteratorError64) {
                    throw _iteratorError64;
                  }
                }
              }

              return e;
            }
          }, {
            key: "isValidBarcodeColumn",
            value: function isValidBarcodeColumn(t, e) {
              return e >= 0 && e <= t.getBarcodeColumnCount() + 1;
            }
          }, {
            key: "getStartColumn",
            value: function getStartColumn(t, e, r, n) {
              var i = n ? 1 : -1,
                  o = null;if (sr.isValidBarcodeColumn(t, e - i) && (o = t.getDetectionResultColumn(e - i).getCodeword(r)), null != o) return n ? o.getEndX() : o.getStartX();if (o = t.getDetectionResultColumn(e).getCodewordNearby(r), null != o) return n ? o.getStartX() : o.getEndX();if (sr.isValidBarcodeColumn(t, e - i) && (o = t.getDetectionResultColumn(e - i).getCodewordNearby(r)), null != o) return n ? o.getEndX() : o.getStartX();var s = 0;for (; sr.isValidBarcodeColumn(t, e - i);) {
                e -= i;var _iteratorNormalCompletion66 = true;
                var _didIteratorError66 = false;
                var _iteratorError66 = undefined;

                try {
                  for (var _iterator66 = t.getDetectionResultColumn(e).getCodewords()[Symbol.iterator](), _step66; !(_iteratorNormalCompletion66 = (_step66 = _iterator66.next()).done); _iteratorNormalCompletion66 = true) {
                    var _r116 = _step66.value;
                    if (null != _r116) return (n ? _r116.getEndX() : _r116.getStartX()) + i * s * (_r116.getEndX() - _r116.getStartX());
                  }
                } catch (err) {
                  _didIteratorError66 = true;
                  _iteratorError66 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion66 && _iterator66.return) {
                      _iterator66.return();
                    }
                  } finally {
                    if (_didIteratorError66) {
                      throw _iteratorError66;
                    }
                  }
                }

                s++;
              }return n ? t.getBoundingBox().getMinX() : t.getBoundingBox().getMaxX();
            }
          }, {
            key: "detectCodeword",
            value: function detectCodeword(t, e, r, n, i, o, s, a) {
              i = sr.adjustCodewordStartColumn(t, e, r, n, i, o);var c = void 0,
                  l = sr.getModuleBitCount(t, e, r, n, i, o);if (null == l) return null;var h = rt.sum(l);if (n) c = i + h;else {
                for (var _t187 = 0; _t187 < l.length / 2; _t187++) {
                  var _e167 = l[_t187];l[_t187] = l[l.length - 1 - _t187], l[l.length - 1 - _t187] = _e167;
                }c = i, i = c - h;
              }if (!sr.checkCodewordSkew(h, s, a)) return null;var u = Qe.getDecodedValue(l),
                  d = Pe.getCodeword(u);return -1 === d ? null : new Ze(i, c, sr.getCodewordBucketNumber(u), d);
            }
          }, {
            key: "getModuleBitCount",
            value: function getModuleBitCount(t, e, r, n, i, o) {
              var s = i,
                  a = new Int32Array(8),
                  c = 0,
                  l = n ? 1 : -1,
                  h = n;for (; (n ? s < r : s >= e) && c < a.length;) {
                t.get(s, o) === h ? (a[c]++, s += l) : (c++, h = !h);
              }return c === a.length || s === (n ? r : e) && c === a.length - 1 ? a : null;
            }
          }, {
            key: "getNumberOfECCodeWords",
            value: function getNumberOfECCodeWords(t) {
              return 2 << t;
            }
          }, {
            key: "adjustCodewordStartColumn",
            value: function adjustCodewordStartColumn(t, e, r, n, i, o) {
              var s = i,
                  a = n ? -1 : 1;for (var _c24 = 0; _c24 < 2; _c24++) {
                for (; (n ? s >= e : s < r) && n === t.get(s, o);) {
                  if (Math.abs(i - s) > sr.CODEWORD_SKEW_SIZE) return i;s += a;
                }a = -a, n = !n;
              }return s;
            }
          }, {
            key: "checkCodewordSkew",
            value: function checkCodewordSkew(t, e, r) {
              return e - sr.CODEWORD_SKEW_SIZE <= t && t <= r + sr.CODEWORD_SKEW_SIZE;
            }
          }, {
            key: "decodeCodewords",
            value: function decodeCodewords(t, e, r) {
              if (0 === t.length) throw E.getFormatInstance();var n = 1 << e + 1,
                  i = sr.correctErrors(t, r, n);sr.verifyCodewordCount(t, n);var o = or.decode(t, "" + e);return o.setErrorsCorrected(i), o.setErasures(r.length), o;
            }
          }, {
            key: "correctErrors",
            value: function correctErrors(t, e, r) {
              if (null != e && e.length > r / 2 + sr.MAX_ERRORS || r < 0 || r > sr.MAX_EC_CODEWORDS) throw h.getChecksumInstance();return sr.errorCorrection.decode(t, r, e);
            }
          }, {
            key: "verifyCodewordCount",
            value: function verifyCodewordCount(t, e) {
              if (t.length < 4) throw E.getFormatInstance();var r = t[0];if (r > t.length) throw E.getFormatInstance();if (0 === r) {
                if (!(e < t.length)) throw E.getFormatInstance();t[0] = t.length - e;
              }
            }
          }, {
            key: "getBitCountForCodeword",
            value: function getBitCountForCodeword(t) {
              var e = new Int32Array(8),
                  r = 0,
                  n = e.length - 1;for (; !((1 & t) !== r && (r = 1 & t, n--, n < 0));) {
                e[n]++, t >>= 1;
              }return e;
            }
          }, {
            key: "getCodewordBucketNumber",
            value: function getCodewordBucketNumber(t) {
              return t instanceof Int32Array ? this.getCodewordBucketNumber_Int32Array(t) : this.getCodewordBucketNumber_number(t);
            }
          }, {
            key: "getCodewordBucketNumber_number",
            value: function getCodewordBucketNumber_number(t) {
              return sr.getCodewordBucketNumber(sr.getBitCountForCodeword(t));
            }
          }, {
            key: "getCodewordBucketNumber_Int32Array",
            value: function getCodewordBucketNumber_Int32Array(t) {
              return (t[0] - t[2] + t[4] - t[6] + 9) % 9;
            }
          }, {
            key: "toString",
            value: function toString(t) {
              var e = new Ge();for (var _r117 = 0; _r117 < t.length; _r117++) {
                e.format("Row %2d: ", _r117);for (var _n105 = 0; _n105 < t[_r117].length; _n105++) {
                  var _i79 = t[_r117][_n105];0 === _i79.getValue().length ? e.format("        ", null) : e.format("%4d(%2d)", _i79.getValue()[0], _i79.getConfidence(_i79.getValue()[0]));
                }e.format("%n");
              }return e.toString();
            }
          }]);

          return sr;
        }();

        sr.CODEWORD_SKEW_SIZE = 2, sr.MAX_ERRORS = 3, sr.MAX_EC_CODEWORDS = 512, sr.errorCorrection = new He();
        var ar = function () {
          function ar() {
            _classCallCheck(this, ar);
          }

          _createClass(ar, [{
            key: "decode",
            value: function decode(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var r = ar.decode(t, e, !1);if (null == r || 0 === r.length || null == r[0]) throw D.getNotFoundInstance();return r[0];
            }
          }, {
            key: "decodeMultiple",
            value: function decodeMultiple(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              try {
                return ar.decode(t, e, !0);
              } catch (t) {
                if (t instanceof E || t instanceof h) throw D.getNotFoundInstance();throw t;
              }
            }
          }, {
            key: "reset",
            value: function reset() {}
          }], [{
            key: "decode",
            value: function decode(t, e, r) {
              var n = new Array(),
                  i = Fe.detectMultiple(t, e, r);var _iteratorNormalCompletion67 = true;
              var _didIteratorError67 = false;
              var _iteratorError67 = undefined;

              try {
                for (var _iterator67 = i.getPoints()[Symbol.iterator](), _step67; !(_iteratorNormalCompletion67 = (_step67 = _iterator67.next()).done); _iteratorNormalCompletion67 = true) {
                  var _t188 = _step67.value;
                  var _e168 = sr.decode(i.getBits(), _t188[4], _t188[5], _t188[6], _t188[7], ar.getMinCodewordWidth(_t188), ar.getMaxCodewordWidth(_t188)),
                      _r118 = new x(_e168.getText(), _e168.getRawBytes(), void 0, _t188, U.PDF_417);_r118.putMetadata(W.ERROR_CORRECTION_LEVEL, _e168.getECLevel());var _o56 = _e168.getOther();null != _o56 && _r118.putMetadata(W.PDF417_EXTRA_METADATA, _o56), n.push(_r118);
                }
              } catch (err) {
                _didIteratorError67 = true;
                _iteratorError67 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion67 && _iterator67.return) {
                    _iterator67.return();
                  }
                } finally {
                  if (_didIteratorError67) {
                    throw _iteratorError67;
                  }
                }
              }

              return n.map(function (t) {
                return t;
              });
            }
          }, {
            key: "getMaxWidth",
            value: function getMaxWidth(t, e) {
              return null == t || null == e ? 0 : Math.trunc(Math.abs(t.getX() - e.getX()));
            }
          }, {
            key: "getMinWidth",
            value: function getMinWidth(t, e) {
              return null == t || null == e ? m.MAX_VALUE : Math.trunc(Math.abs(t.getX() - e.getX()));
            }
          }, {
            key: "getMaxCodewordWidth",
            value: function getMaxCodewordWidth(t) {
              return Math.floor(Math.max(Math.max(ar.getMaxWidth(t[0], t[4]), ar.getMaxWidth(t[6], t[2]) * Pe.MODULES_IN_CODEWORD / Pe.MODULES_IN_STOP_PATTERN), Math.max(ar.getMaxWidth(t[1], t[5]), ar.getMaxWidth(t[7], t[3]) * Pe.MODULES_IN_CODEWORD / Pe.MODULES_IN_STOP_PATTERN)));
            }
          }, {
            key: "getMinCodewordWidth",
            value: function getMinCodewordWidth(t) {
              return Math.floor(Math.min(Math.min(ar.getMinWidth(t[0], t[4]), ar.getMinWidth(t[6], t[2]) * Pe.MODULES_IN_CODEWORD / Pe.MODULES_IN_STOP_PATTERN), Math.min(ar.getMinWidth(t[1], t[5]), ar.getMinWidth(t[7], t[3]) * Pe.MODULES_IN_CODEWORD / Pe.MODULES_IN_STOP_PATTERN)));
            }
          }]);

          return ar;
        }();

        var cr = function (_s55) {
          _inherits(cr, _s55);

          function cr() {
            _classCallCheck(this, cr);

            return _possibleConstructorReturn(this, (cr.__proto__ || Object.getPrototypeOf(cr)).apply(this, arguments));
          }

          return cr;
        }(s);

        cr.kind = "ReaderException";
        var lr = function () {
          function lr(t, e) {
            _classCallCheck(this, lr);

            this.verbose = !0 === t, e && this.setHints(e);
          }

          _createClass(lr, [{
            key: "decode",
            value: function decode(t, e) {
              return e && this.setHints(e), this.decodeInternal(t);
            }
          }, {
            key: "decodeWithState",
            value: function decodeWithState(t) {
              return null !== this.readers && void 0 !== this.readers || this.setHints(null), this.decodeInternal(t);
            }
          }, {
            key: "setHints",
            value: function setHints(t) {
              this.hints = t;var r = !e(t) && !0 === t.get(C.TRY_HARDER),
                  n = e(t) ? null : t.get(C.POSSIBLE_FORMATS),
                  i = new Array();if (!e(n)) {
                var _e169 = n.some(function (t) {
                  return t === U.UPC_A || t === U.UPC_E || t === U.EAN_13 || t === U.EAN_8 || t === U.CODABAR || t === U.CODE_39 || t === U.CODE_93 || t === U.CODE_128 || t === U.ITF || t === U.RSS_14 || t === U.RSS_EXPANDED;
                });_e169 && !r && i.push(new ie(t, this.verbose)), n.includes(U.QR_CODE) && i.push(new Le()), n.includes(U.DATA_MATRIX) && i.push(new ge()), n.includes(U.AZTEC) && i.push(new gt()), n.includes(U.PDF_417) && i.push(new ar()), _e169 && r && i.push(new ie(t, this.verbose));
              }0 === i.length && (r || i.push(new ie(t, this.verbose)), i.push(new Le()), i.push(new ge()), i.push(new gt()), i.push(new ar()), r && i.push(new ie(t, this.verbose))), this.readers = i;
            }
          }, {
            key: "reset",
            value: function reset() {
              if (null !== this.readers) {
                var _iteratorNormalCompletion68 = true;
                var _didIteratorError68 = false;
                var _iteratorError68 = undefined;

                try {
                  for (var _iterator68 = this.readers[Symbol.iterator](), _step68; !(_iteratorNormalCompletion68 = (_step68 = _iterator68.next()).done); _iteratorNormalCompletion68 = true) {
                    var _t189 = _step68.value;
                    _t189.reset();
                  }
                } catch (err) {
                  _didIteratorError68 = true;
                  _iteratorError68 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion68 && _iterator68.return) {
                      _iterator68.return();
                    }
                  } finally {
                    if (_didIteratorError68) {
                      throw _iteratorError68;
                    }
                  }
                }
              }
            }
          }, {
            key: "decodeInternal",
            value: function decodeInternal(t) {
              if (null === this.readers) throw new cr("No readers where selected, nothing can be read.");var _iteratorNormalCompletion69 = true;
              var _didIteratorError69 = false;
              var _iteratorError69 = undefined;

              try {
                for (var _iterator69 = this.readers[Symbol.iterator](), _step69; !(_iteratorNormalCompletion69 = (_step69 = _iterator69.next()).done); _iteratorNormalCompletion69 = true) {
                  var _e170 = _step69.value;
                  try {
                    return _e170.decode(t, this.hints);
                  } catch (t) {
                    if (t instanceof cr) continue;
                  }
                }
              } catch (err) {
                _didIteratorError69 = true;
                _iteratorError69 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion69 && _iterator69.return) {
                    _iterator69.return();
                  }
                } finally {
                  if (_didIteratorError69) {
                    throw _iteratorError69;
                  }
                }
              }

              throw new D("No MultiFormat Readers were able to detect the code.");
            }
          }]);

          return lr;
        }();

        var hr;!function (t) {
          t[t.ERROR_CORRECTION = 0] = "ERROR_CORRECTION", t[t.CHARACTER_SET = 1] = "CHARACTER_SET", t[t.DATA_MATRIX_SHAPE = 2] = "DATA_MATRIX_SHAPE", t[t.MIN_SIZE = 3] = "MIN_SIZE", t[t.MAX_SIZE = 4] = "MAX_SIZE", t[t.MARGIN = 5] = "MARGIN", t[t.PDF417_COMPACT = 6] = "PDF417_COMPACT", t[t.PDF417_COMPACTION = 7] = "PDF417_COMPACTION", t[t.PDF417_DIMENSIONS = 8] = "PDF417_DIMENSIONS", t[t.AZTEC_LAYERS = 9] = "AZTEC_LAYERS", t[t.QR_VERSION = 10] = "QR_VERSION";
        }(hr || (hr = {}));var ur = hr;
        var dr = function () {
          function dr(t) {
            _classCallCheck(this, dr);

            this.field = t, this.cachedGenerators = [], this.cachedGenerators.push(new Q(t, Int32Array.from([1])));
          }

          _createClass(dr, [{
            key: "buildGenerator",
            value: function buildGenerator(t) {
              var e = this.cachedGenerators;if (t >= e.length) {
                var _r119 = e[e.length - 1];var _n106 = this.field;for (var _i80 = e.length; _i80 <= t; _i80++) {
                  var _t190 = _r119.multiply(new Q(_n106, Int32Array.from([1, _n106.exp(_i80 - 1 + _n106.getGeneratorBase())])));e.push(_t190), _r119 = _t190;
                }
              }return e[t];
            }
          }, {
            key: "encode",
            value: function encode(t, e) {
              if (0 === e) throw new c("No error correction bytes");var r = t.length - e;if (r <= 0) throw new c("No data bytes provided");var n = this.buildGenerator(e),
                  i = new Int32Array(r);d.arraycopy(t, 0, i, 0, r);var o = new Q(this.field, i);o = o.multiplyByMonomial(e, 1);var s = o.divide(n)[1].getCoefficients(),
                  a = e - s.length;for (var _e171 = 0; _e171 < a; _e171++) {
                t[r + _e171] = 0;
              }d.arraycopy(s, 0, t, r + a, s.length);
            }
          }]);

          return dr;
        }();

        var fr = function () {
          function fr() {
            _classCallCheck(this, fr);
          }

          _createClass(fr, null, [{
            key: "applyMaskPenaltyRule1",
            value: function applyMaskPenaltyRule1(t) {
              return fr.applyMaskPenaltyRule1Internal(t, !0) + fr.applyMaskPenaltyRule1Internal(t, !1);
            }
          }, {
            key: "applyMaskPenaltyRule2",
            value: function applyMaskPenaltyRule2(t) {
              var e = 0;var r = t.getArray(),
                  n = t.getWidth(),
                  i = t.getHeight();for (var _t191 = 0; _t191 < i - 1; _t191++) {
                var _i81 = r[_t191];for (var _o57 = 0; _o57 < n - 1; _o57++) {
                  var _n107 = _i81[_o57];_n107 === _i81[_o57 + 1] && _n107 === r[_t191 + 1][_o57] && _n107 === r[_t191 + 1][_o57 + 1] && e++;
                }
              }return fr.N2 * e;
            }
          }, {
            key: "applyMaskPenaltyRule3",
            value: function applyMaskPenaltyRule3(t) {
              var e = 0;var r = t.getArray(),
                  n = t.getWidth(),
                  i = t.getHeight();for (var _t192 = 0; _t192 < i; _t192++) {
                for (var _o58 = 0; _o58 < n; _o58++) {
                  var _s56 = r[_t192];_o58 + 6 < n && 1 === _s56[_o58] && 0 === _s56[_o58 + 1] && 1 === _s56[_o58 + 2] && 1 === _s56[_o58 + 3] && 1 === _s56[_o58 + 4] && 0 === _s56[_o58 + 5] && 1 === _s56[_o58 + 6] && (fr.isWhiteHorizontal(_s56, _o58 - 4, _o58) || fr.isWhiteHorizontal(_s56, _o58 + 7, _o58 + 11)) && e++, _t192 + 6 < i && 1 === r[_t192][_o58] && 0 === r[_t192 + 1][_o58] && 1 === r[_t192 + 2][_o58] && 1 === r[_t192 + 3][_o58] && 1 === r[_t192 + 4][_o58] && 0 === r[_t192 + 5][_o58] && 1 === r[_t192 + 6][_o58] && (fr.isWhiteVertical(r, _o58, _t192 - 4, _t192) || fr.isWhiteVertical(r, _o58, _t192 + 7, _t192 + 11)) && e++;
                }
              }return e * fr.N3;
            }
          }, {
            key: "isWhiteHorizontal",
            value: function isWhiteHorizontal(t, e, r) {
              e = Math.max(e, 0), r = Math.min(r, t.length);for (var _n108 = e; _n108 < r; _n108++) {
                if (1 === t[_n108]) return !1;
              }return !0;
            }
          }, {
            key: "isWhiteVertical",
            value: function isWhiteVertical(t, e, r, n) {
              r = Math.max(r, 0), n = Math.min(n, t.length);for (var _i82 = r; _i82 < n; _i82++) {
                if (1 === t[_i82][e]) return !1;
              }return !0;
            }
          }, {
            key: "applyMaskPenaltyRule4",
            value: function applyMaskPenaltyRule4(t) {
              var e = 0;var r = t.getArray(),
                  n = t.getWidth(),
                  i = t.getHeight();for (var _t193 = 0; _t193 < i; _t193++) {
                var _i83 = r[_t193];for (var _t194 = 0; _t194 < n; _t194++) {
                  1 === _i83[_t194] && e++;
                }
              }var o = t.getHeight() * t.getWidth();return Math.floor(10 * Math.abs(2 * e - o) / o) * fr.N4;
            }
          }, {
            key: "getDataMaskBit",
            value: function getDataMaskBit(t, e, r) {
              var n = void 0,
                  i = void 0;switch (t) {case 0:
                  n = r + e & 1;break;case 1:
                  n = 1 & r;break;case 2:
                  n = e % 3;break;case 3:
                  n = (r + e) % 3;break;case 4:
                  n = Math.floor(r / 2) + Math.floor(e / 3) & 1;break;case 5:
                  i = r * e, n = (1 & i) + i % 3;break;case 6:
                  i = r * e, n = (1 & i) + i % 3 & 1;break;case 7:
                  i = r * e, n = i % 3 + (r + e & 1) & 1;break;default:
                  throw new c("Invalid mask pattern: " + t);}return 0 === n;
            }
          }, {
            key: "applyMaskPenaltyRule1Internal",
            value: function applyMaskPenaltyRule1Internal(t, e) {
              var r = 0;var n = e ? t.getHeight() : t.getWidth(),
                  i = e ? t.getWidth() : t.getHeight(),
                  o = t.getArray();for (var _t195 = 0; _t195 < n; _t195++) {
                var _n109 = 0,
                    _s57 = -1;for (var _a26 = 0; _a26 < i; _a26++) {
                  var _i84 = e ? o[_t195][_a26] : o[_a26][_t195];_i84 === _s57 ? _n109++ : (_n109 >= 5 && (r += fr.N1 + (_n109 - 5)), _n109 = 1, _s57 = _i84);
                }_n109 >= 5 && (r += fr.N1 + (_n109 - 5));
              }return r;
            }
          }]);

          return fr;
        }();

        fr.N1 = 3, fr.N2 = 3, fr.N3 = 40, fr.N4 = 10;
        var gr = function () {
          function gr(t, e) {
            _classCallCheck(this, gr);

            this.width = t, this.height = e;var r = new Array(e);for (var _n110 = 0; _n110 !== e; _n110++) {
              r[_n110] = new Uint8Array(t);
            }this.bytes = r;
          }

          _createClass(gr, [{
            key: "getHeight",
            value: function getHeight() {
              return this.height;
            }
          }, {
            key: "getWidth",
            value: function getWidth() {
              return this.width;
            }
          }, {
            key: "get",
            value: function get(t, e) {
              return this.bytes[e][t];
            }
          }, {
            key: "getArray",
            value: function getArray() {
              return this.bytes;
            }
          }, {
            key: "setNumber",
            value: function setNumber(t, e, r) {
              this.bytes[e][t] = r;
            }
          }, {
            key: "setBoolean",
            value: function setBoolean(t, e, r) {
              this.bytes[e][t] = r ? 1 : 0;
            }
          }, {
            key: "clear",
            value: function clear(t) {
              var _iteratorNormalCompletion70 = true;
              var _didIteratorError70 = false;
              var _iteratorError70 = undefined;

              try {
                for (var _iterator70 = this.bytes[Symbol.iterator](), _step70; !(_iteratorNormalCompletion70 = (_step70 = _iterator70.next()).done); _iteratorNormalCompletion70 = true) {
                  var _e172 = _step70.value;
                  w.fill(_e172, t);
                }
              } catch (err) {
                _didIteratorError70 = true;
                _iteratorError70 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion70 && _iterator70.return) {
                    _iterator70.return();
                  }
                } finally {
                  if (_didIteratorError70) {
                    throw _iteratorError70;
                  }
                }
              }
            }
          }, {
            key: "equals",
            value: function equals(t) {
              if (!(t instanceof gr)) return !1;var e = t;if (this.width !== e.width) return !1;if (this.height !== e.height) return !1;for (var _t196 = 0, _r120 = this.height; _t196 < _r120; ++_t196) {
                var _r121 = this.bytes[_t196],
                    _n111 = e.bytes[_t196];for (var _t197 = 0, _e173 = this.width; _t197 < _e173; ++_t197) {
                  if (_r121[_t197] !== _n111[_t197]) return !1;
                }
              }return !0;
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = new y();for (var _e174 = 0, _r122 = this.height; _e174 < _r122; ++_e174) {
                var _r123 = this.bytes[_e174];for (var _e175 = 0, _n112 = this.width; _e175 < _n112; ++_e175) {
                  switch (_r123[_e175]) {case 0:
                      t.append(" 0");break;case 1:
                      t.append(" 1");break;default:
                      t.append("  ");}
                }t.append("\n");
              }return t.toString();
            }
          }]);

          return gr;
        }();

        var wr = function () {
          function wr() {
            _classCallCheck(this, wr);

            this.maskPattern = -1;
          }

          _createClass(wr, [{
            key: "getMode",
            value: function getMode() {
              return this.mode;
            }
          }, {
            key: "getECLevel",
            value: function getECLevel() {
              return this.ecLevel;
            }
          }, {
            key: "getVersion",
            value: function getVersion() {
              return this.version;
            }
          }, {
            key: "getMaskPattern",
            value: function getMaskPattern() {
              return this.maskPattern;
            }
          }, {
            key: "getMatrix",
            value: function getMatrix() {
              return this.matrix;
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = new y();return t.append("<<\n"), t.append(" mode: "), t.append(this.mode ? this.mode.toString() : "null"), t.append("\n ecLevel: "), t.append(this.ecLevel ? this.ecLevel.toString() : "null"), t.append("\n version: "), t.append(this.version ? this.version.toString() : "null"), t.append("\n maskPattern: "), t.append(this.maskPattern.toString()), this.matrix ? (t.append("\n matrix:\n"), t.append(this.matrix.toString())) : t.append("\n matrix: null\n"), t.append(">>\n"), t.toString();
            }
          }, {
            key: "setMode",
            value: function setMode(t) {
              this.mode = t;
            }
          }, {
            key: "setECLevel",
            value: function setECLevel(t) {
              this.ecLevel = t;
            }
          }, {
            key: "setVersion",
            value: function setVersion(t) {
              this.version = t;
            }
          }, {
            key: "setMaskPattern",
            value: function setMaskPattern(t) {
              this.maskPattern = t;
            }
          }, {
            key: "setMatrix",
            value: function setMatrix(t) {
              this.matrix = t;
            }
          }], [{
            key: "isValidMaskPattern",
            value: function isValidMaskPattern(t) {
              return t >= 0 && t < wr.NUM_MASK_PATTERNS;
            }
          }]);

          return wr;
        }();

        wr.NUM_MASK_PATTERNS = 8;
        var mr = function (_s58) {
          _inherits(mr, _s58);

          function mr() {
            _classCallCheck(this, mr);

            return _possibleConstructorReturn(this, (mr.__proto__ || Object.getPrototypeOf(mr)).apply(this, arguments));
          }

          return mr;
        }(s);

        mr.kind = "WriterException";
        var pr = function () {
          function pr() {
            _classCallCheck(this, pr);
          }

          _createClass(pr, null, [{
            key: "clearMatrix",
            value: function clearMatrix(t) {
              t.clear(255);
            }
          }, {
            key: "buildMatrix",
            value: function buildMatrix(t, e, r, n, i) {
              pr.clearMatrix(i), pr.embedBasicPatterns(r, i), pr.embedTypeInfo(e, n, i), pr.maybeEmbedVersionInfo(r, i), pr.embedDataBits(t, n, i);
            }
          }, {
            key: "embedBasicPatterns",
            value: function embedBasicPatterns(t, e) {
              pr.embedPositionDetectionPatternsAndSeparators(e), pr.embedDarkDotAtLeftBottomCorner(e), pr.maybeEmbedPositionAdjustmentPatterns(t, e), pr.embedTimingPatterns(e);
            }
          }, {
            key: "embedTypeInfo",
            value: function embedTypeInfo(t, e, r) {
              var n = new p();pr.makeTypeInfoBits(t, e, n);for (var _t198 = 0, _e176 = n.getSize(); _t198 < _e176; ++_t198) {
                var _e177 = n.get(n.getSize() - 1 - _t198),
                    _i85 = pr.TYPE_INFO_COORDINATES[_t198],
                    _o59 = _i85[0],
                    _s59 = _i85[1];if (r.setBoolean(_o59, _s59, _e177), _t198 < 8) {
                  var _n113 = r.getWidth() - _t198 - 1,
                      _i86 = 8;r.setBoolean(_n113, _i86, _e177);
                } else {
                  var _n114 = 8,
                      _i87 = r.getHeight() - 7 + (_t198 - 8);r.setBoolean(_n114, _i87, _e177);
                }
              }
            }
          }, {
            key: "maybeEmbedVersionInfo",
            value: function maybeEmbedVersionInfo(t, e) {
              if (t.getVersionNumber() < 7) return;var r = new p();pr.makeVersionInfoBits(t, r);var n = 17;for (var _t199 = 0; _t199 < 6; ++_t199) {
                for (var _i88 = 0; _i88 < 3; ++_i88) {
                  var _o60 = r.get(n);n--, e.setBoolean(_t199, e.getHeight() - 11 + _i88, _o60), e.setBoolean(e.getHeight() - 11 + _i88, _t199, _o60);
                }
              }
            }
          }, {
            key: "embedDataBits",
            value: function embedDataBits(t, e, r) {
              var n = 0,
                  i = -1,
                  o = r.getWidth() - 1,
                  s = r.getHeight() - 1;for (; o > 0;) {
                for (6 === o && (o -= 1); s >= 0 && s < r.getHeight();) {
                  for (var _i89 = 0; _i89 < 2; ++_i89) {
                    var _a27 = o - _i89;if (!pr.isEmpty(r.get(_a27, s))) continue;var _c25 = void 0;n < t.getSize() ? (_c25 = t.get(n), ++n) : _c25 = !1, 255 !== e && fr.getDataMaskBit(e, _a27, s) && (_c25 = !_c25), r.setBoolean(_a27, s, _c25);
                  }s += i;
                }i = -i, s += i, o -= 2;
              }if (n !== t.getSize()) throw new mr("Not all bits consumed: " + n + "/" + t.getSize());
            }
          }, {
            key: "findMSBSet",
            value: function findMSBSet(t) {
              return 32 - m.numberOfLeadingZeros(t);
            }
          }, {
            key: "calculateBCHCode",
            value: function calculateBCHCode(t, e) {
              if (0 === e) throw new c("0 polynomial");var r = pr.findMSBSet(e);for (t <<= r - 1; pr.findMSBSet(t) >= r;) {
                t ^= e << pr.findMSBSet(t) - r;
              }return t;
            }
          }, {
            key: "makeTypeInfoBits",
            value: function makeTypeInfoBits(t, e, r) {
              if (!wr.isValidMaskPattern(e)) throw new mr("Invalid mask pattern");var n = t.getBits() << 3 | e;r.appendBits(n, 5);var i = pr.calculateBCHCode(n, pr.TYPE_INFO_POLY);r.appendBits(i, 10);var o = new p();if (o.appendBits(pr.TYPE_INFO_MASK_PATTERN, 15), r.xor(o), 15 !== r.getSize()) throw new mr("should not happen but we got: " + r.getSize());
            }
          }, {
            key: "makeVersionInfoBits",
            value: function makeVersionInfoBits(t, e) {
              e.appendBits(t.getVersionNumber(), 6);var r = pr.calculateBCHCode(t.getVersionNumber(), pr.VERSION_INFO_POLY);if (e.appendBits(r, 12), 18 !== e.getSize()) throw new mr("should not happen but we got: " + e.getSize());
            }
          }, {
            key: "isEmpty",
            value: function isEmpty(t) {
              return 255 === t;
            }
          }, {
            key: "embedTimingPatterns",
            value: function embedTimingPatterns(t) {
              for (var _e178 = 8; _e178 < t.getWidth() - 8; ++_e178) {
                var _r124 = (_e178 + 1) % 2;pr.isEmpty(t.get(_e178, 6)) && t.setNumber(_e178, 6, _r124), pr.isEmpty(t.get(6, _e178)) && t.setNumber(6, _e178, _r124);
              }
            }
          }, {
            key: "embedDarkDotAtLeftBottomCorner",
            value: function embedDarkDotAtLeftBottomCorner(t) {
              if (0 === t.get(8, t.getHeight() - 8)) throw new mr();t.setNumber(8, t.getHeight() - 8, 1);
            }
          }, {
            key: "embedHorizontalSeparationPattern",
            value: function embedHorizontalSeparationPattern(t, e, r) {
              for (var _n115 = 0; _n115 < 8; ++_n115) {
                if (!pr.isEmpty(r.get(t + _n115, e))) throw new mr();r.setNumber(t + _n115, e, 0);
              }
            }
          }, {
            key: "embedVerticalSeparationPattern",
            value: function embedVerticalSeparationPattern(t, e, r) {
              for (var _n116 = 0; _n116 < 7; ++_n116) {
                if (!pr.isEmpty(r.get(t, e + _n116))) throw new mr();r.setNumber(t, e + _n116, 0);
              }
            }
          }, {
            key: "embedPositionAdjustmentPattern",
            value: function embedPositionAdjustmentPattern(t, e, r) {
              for (var _n117 = 0; _n117 < 5; ++_n117) {
                var _i90 = pr.POSITION_ADJUSTMENT_PATTERN[_n117];for (var _o61 = 0; _o61 < 5; ++_o61) {
                  r.setNumber(t + _o61, e + _n117, _i90[_o61]);
                }
              }
            }
          }, {
            key: "embedPositionDetectionPattern",
            value: function embedPositionDetectionPattern(t, e, r) {
              for (var _n118 = 0; _n118 < 7; ++_n118) {
                var _i91 = pr.POSITION_DETECTION_PATTERN[_n118];for (var _o62 = 0; _o62 < 7; ++_o62) {
                  r.setNumber(t + _o62, e + _n118, _i91[_o62]);
                }
              }
            }
          }, {
            key: "embedPositionDetectionPatternsAndSeparators",
            value: function embedPositionDetectionPatternsAndSeparators(t) {
              var e = pr.POSITION_DETECTION_PATTERN[0].length;pr.embedPositionDetectionPattern(0, 0, t), pr.embedPositionDetectionPattern(t.getWidth() - e, 0, t), pr.embedPositionDetectionPattern(0, t.getWidth() - e, t);pr.embedHorizontalSeparationPattern(0, 7, t), pr.embedHorizontalSeparationPattern(t.getWidth() - 8, 7, t), pr.embedHorizontalSeparationPattern(0, t.getWidth() - 8, t);pr.embedVerticalSeparationPattern(7, 0, t), pr.embedVerticalSeparationPattern(t.getHeight() - 7 - 1, 0, t), pr.embedVerticalSeparationPattern(7, t.getHeight() - 7, t);
            }
          }, {
            key: "maybeEmbedPositionAdjustmentPatterns",
            value: function maybeEmbedPositionAdjustmentPatterns(t, e) {
              if (t.getVersionNumber() < 2) return;var r = t.getVersionNumber() - 1,
                  n = pr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for (var _t200 = 0, _r125 = n.length; _t200 !== _r125; _t200++) {
                var _i92 = n[_t200];if (_i92 >= 0) for (var _t201 = 0; _t201 !== _r125; _t201++) {
                  var _r126 = n[_t201];_r126 >= 0 && pr.isEmpty(e.get(_r126, _i92)) && pr.embedPositionAdjustmentPattern(_r126 - 2, _i92 - 2, e);
                }
              }
            }
          }]);

          return pr;
        }();

        pr.POSITION_DETECTION_PATTERN = Array.from([Int32Array.from([1, 1, 1, 1, 1, 1, 1]), Int32Array.from([1, 0, 0, 0, 0, 0, 1]), Int32Array.from([1, 0, 1, 1, 1, 0, 1]), Int32Array.from([1, 0, 1, 1, 1, 0, 1]), Int32Array.from([1, 0, 1, 1, 1, 0, 1]), Int32Array.from([1, 0, 0, 0, 0, 0, 1]), Int32Array.from([1, 1, 1, 1, 1, 1, 1])]), pr.POSITION_ADJUSTMENT_PATTERN = Array.from([Int32Array.from([1, 1, 1, 1, 1]), Int32Array.from([1, 0, 0, 0, 1]), Int32Array.from([1, 0, 1, 0, 1]), Int32Array.from([1, 0, 0, 0, 1]), Int32Array.from([1, 1, 1, 1, 1])]), pr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE = Array.from([Int32Array.from([-1, -1, -1, -1, -1, -1, -1]), Int32Array.from([6, 18, -1, -1, -1, -1, -1]), Int32Array.from([6, 22, -1, -1, -1, -1, -1]), Int32Array.from([6, 26, -1, -1, -1, -1, -1]), Int32Array.from([6, 30, -1, -1, -1, -1, -1]), Int32Array.from([6, 34, -1, -1, -1, -1, -1]), Int32Array.from([6, 22, 38, -1, -1, -1, -1]), Int32Array.from([6, 24, 42, -1, -1, -1, -1]), Int32Array.from([6, 26, 46, -1, -1, -1, -1]), Int32Array.from([6, 28, 50, -1, -1, -1, -1]), Int32Array.from([6, 30, 54, -1, -1, -1, -1]), Int32Array.from([6, 32, 58, -1, -1, -1, -1]), Int32Array.from([6, 34, 62, -1, -1, -1, -1]), Int32Array.from([6, 26, 46, 66, -1, -1, -1]), Int32Array.from([6, 26, 48, 70, -1, -1, -1]), Int32Array.from([6, 26, 50, 74, -1, -1, -1]), Int32Array.from([6, 30, 54, 78, -1, -1, -1]), Int32Array.from([6, 30, 56, 82, -1, -1, -1]), Int32Array.from([6, 30, 58, 86, -1, -1, -1]), Int32Array.from([6, 34, 62, 90, -1, -1, -1]), Int32Array.from([6, 28, 50, 72, 94, -1, -1]), Int32Array.from([6, 26, 50, 74, 98, -1, -1]), Int32Array.from([6, 30, 54, 78, 102, -1, -1]), Int32Array.from([6, 28, 54, 80, 106, -1, -1]), Int32Array.from([6, 32, 58, 84, 110, -1, -1]), Int32Array.from([6, 30, 58, 86, 114, -1, -1]), Int32Array.from([6, 34, 62, 90, 118, -1, -1]), Int32Array.from([6, 26, 50, 74, 98, 122, -1]), Int32Array.from([6, 30, 54, 78, 102, 126, -1]), Int32Array.from([6, 26, 52, 78, 104, 130, -1]), Int32Array.from([6, 30, 56, 82, 108, 134, -1]), Int32Array.from([6, 34, 60, 86, 112, 138, -1]), Int32Array.from([6, 30, 58, 86, 114, 142, -1]), Int32Array.from([6, 34, 62, 90, 118, 146, -1]), Int32Array.from([6, 30, 54, 78, 102, 126, 150]), Int32Array.from([6, 24, 50, 76, 102, 128, 154]), Int32Array.from([6, 28, 54, 80, 106, 132, 158]), Int32Array.from([6, 32, 58, 84, 110, 136, 162]), Int32Array.from([6, 26, 54, 82, 110, 138, 166]), Int32Array.from([6, 30, 58, 86, 114, 142, 170])]), pr.TYPE_INFO_COORDINATES = Array.from([Int32Array.from([8, 0]), Int32Array.from([8, 1]), Int32Array.from([8, 2]), Int32Array.from([8, 3]), Int32Array.from([8, 4]), Int32Array.from([8, 5]), Int32Array.from([8, 7]), Int32Array.from([8, 8]), Int32Array.from([7, 8]), Int32Array.from([5, 8]), Int32Array.from([4, 8]), Int32Array.from([3, 8]), Int32Array.from([2, 8]), Int32Array.from([1, 8]), Int32Array.from([0, 8])]), pr.VERSION_INFO_POLY = 7973, pr.TYPE_INFO_POLY = 1335, pr.TYPE_INFO_MASK_PATTERN = 21522;
        var Ar = function () {
          function Ar(t, e) {
            _classCallCheck(this, Ar);

            this.dataBytes = t, this.errorCorrectionBytes = e;
          }

          _createClass(Ar, [{
            key: "getDataBytes",
            value: function getDataBytes() {
              return this.dataBytes;
            }
          }, {
            key: "getErrorCorrectionBytes",
            value: function getErrorCorrectionBytes() {
              return this.errorCorrectionBytes;
            }
          }]);

          return Ar;
        }();

        var Cr = function () {
          function Cr() {
            _classCallCheck(this, Cr);
          }

          _createClass(Cr, null, [{
            key: "calculateMaskPenalty",
            value: function calculateMaskPenalty(t) {
              return fr.applyMaskPenaltyRule1(t) + fr.applyMaskPenaltyRule2(t) + fr.applyMaskPenaltyRule3(t) + fr.applyMaskPenaltyRule4(t);
            }
          }, {
            key: "encode",
            value: function encode(t, e) {
              var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
              var n = Cr.DEFAULT_BYTE_MODE_ENCODING;var i = null !== r && void 0 !== r.get(ur.CHARACTER_SET);i && (n = r.get(ur.CHARACTER_SET).toString());var o = this.chooseMode(t, n),
                  s = new p();if (o === _e.BYTE && (i || Cr.DEFAULT_BYTE_MODE_ENCODING !== n)) {
                var _t202 = I.getCharacterSetECIByName(n);void 0 !== _t202 && this.appendECI(_t202, s);
              }this.appendModeInfo(o, s);var a = new p();var c = void 0;if (this.appendBytes(t, o, a, n), null !== r && void 0 !== r.get(ur.QR_VERSION)) {
                var _t203 = Number.parseInt(r.get(ur.QR_VERSION).toString(), 10);c = Ce.getVersionForNumber(_t203);var _n119 = this.calculateBitsNeeded(o, s, a, c);if (!this.willFit(_n119, c, e)) throw new mr("Data too big for requested version");
              } else c = this.recommendVersion(e, o, s, a);var l = new p();l.appendBitArray(s);var h = o === _e.BYTE ? a.getSizeInBytes() : t.length;this.appendLengthInfo(h, c, o, l), l.appendBitArray(a);var u = c.getECBlocksForLevel(e),
                  d = c.getTotalCodewords() - u.getTotalECCodewords();this.terminateBits(d, l);var f = this.interleaveWithECBytes(l, c.getTotalCodewords(), d, u.getNumBlocks()),
                  g = new wr();g.setECLevel(e), g.setMode(o), g.setVersion(c);var w = c.getDimensionForVersion(),
                  m = new gr(w, w),
                  A = this.chooseMaskPattern(f, e, c, m);return g.setMaskPattern(A), pr.buildMatrix(f, e, c, A, m), g.setMatrix(m), g;
            }
          }, {
            key: "recommendVersion",
            value: function recommendVersion(t, e, r, n) {
              var i = this.calculateBitsNeeded(e, r, n, Ce.getVersionForNumber(1)),
                  o = this.chooseVersion(i, t),
                  s = this.calculateBitsNeeded(e, r, n, o);return this.chooseVersion(s, t);
            }
          }, {
            key: "calculateBitsNeeded",
            value: function calculateBitsNeeded(t, e, r, n) {
              return e.getSize() + t.getCharacterCountBits(n) + r.getSize();
            }
          }, {
            key: "getAlphanumericCode",
            value: function getAlphanumericCode(t) {
              return t < Cr.ALPHANUMERIC_TABLE.length ? Cr.ALPHANUMERIC_TABLE[t] : -1;
            }
          }, {
            key: "chooseMode",
            value: function chooseMode(t) {
              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              if (I.SJIS.getName() === e && this.isOnlyDoubleByteKanji(t)) return _e.KANJI;var r = !1,
                  n = !1;for (var _e179 = 0, _i93 = t.length; _e179 < _i93; ++_e179) {
                var _i94 = t.charAt(_e179);if (Cr.isDigit(_i94)) r = !0;else {
                  if (-1 === this.getAlphanumericCode(_i94.charCodeAt(0))) return _e.BYTE;n = !0;
                }
              }return n ? _e.ALPHANUMERIC : r ? _e.NUMERIC : _e.BYTE;
            }
          }, {
            key: "isOnlyDoubleByteKanji",
            value: function isOnlyDoubleByteKanji(t) {
              var e = void 0;try {
                e = _.encode(t, I.SJIS);
              } catch (t) {
                return !1;
              }var r = e.length;if (r % 2 != 0) return !1;for (var _t204 = 0; _t204 < r; _t204 += 2) {
                var _r127 = 255 & e[_t204];if ((_r127 < 129 || _r127 > 159) && (_r127 < 224 || _r127 > 235)) return !1;
              }return !0;
            }
          }, {
            key: "chooseMaskPattern",
            value: function chooseMaskPattern(t, e, r, n) {
              var i = Number.MAX_SAFE_INTEGER,
                  o = -1;for (var _s60 = 0; _s60 < wr.NUM_MASK_PATTERNS; _s60++) {
                pr.buildMatrix(t, e, r, _s60, n);var _a28 = this.calculateMaskPenalty(n);_a28 < i && (i = _a28, o = _s60);
              }return o;
            }
          }, {
            key: "chooseVersion",
            value: function chooseVersion(t, e) {
              for (var _r128 = 1; _r128 <= 40; _r128++) {
                var _n120 = Ce.getVersionForNumber(_r128);if (Cr.willFit(t, _n120, e)) return _n120;
              }throw new mr("Data too big");
            }
          }, {
            key: "willFit",
            value: function willFit(t, e, r) {
              return e.getTotalCodewords() - e.getECBlocksForLevel(r).getTotalECCodewords() >= (t + 7) / 8;
            }
          }, {
            key: "terminateBits",
            value: function terminateBits(t, e) {
              var r = 8 * t;if (e.getSize() > r) throw new mr("data bits cannot fit in the QR Code" + e.getSize() + " > " + r);for (var _t205 = 0; _t205 < 4 && e.getSize() < r; ++_t205) {
                e.appendBit(!1);
              }var n = 7 & e.getSize();if (n > 0) for (var _t206 = n; _t206 < 8; _t206++) {
                e.appendBit(!1);
              }var i = t - e.getSizeInBytes();for (var _t207 = 0; _t207 < i; ++_t207) {
                e.appendBits(0 == (1 & _t207) ? 236 : 17, 8);
              }if (e.getSize() !== r) throw new mr("Bits size does not equal capacity");
            }
          }, {
            key: "getNumDataBytesAndNumECBytesForBlockID",
            value: function getNumDataBytesAndNumECBytesForBlockID(t, e, r, n, i, o) {
              if (n >= r) throw new mr("Block ID too large");var s = t % r,
                  a = r - s,
                  c = Math.floor(t / r),
                  l = c + 1,
                  h = Math.floor(e / r),
                  u = h + 1,
                  d = c - h,
                  f = l - u;if (d !== f) throw new mr("EC bytes mismatch");if (r !== a + s) throw new mr("RS blocks mismatch");if (t !== (h + d) * a + (u + f) * s) throw new mr("Total bytes mismatch");n < a ? (i[0] = h, o[0] = d) : (i[0] = u, o[0] = f);
            }
          }, {
            key: "interleaveWithECBytes",
            value: function interleaveWithECBytes(t, e, r, n) {
              if (t.getSizeInBytes() !== r) throw new mr("Number of bits and data bytes does not match");var i = 0,
                  o = 0,
                  s = 0;var a = new Array();for (var _c26 = 0; _c26 < n; ++_c26) {
                var _l14 = new Int32Array(1),
                    _h9 = new Int32Array(1);Cr.getNumDataBytesAndNumECBytesForBlockID(e, r, n, _c26, _l14, _h9);var _u9 = _l14[0],
                    _d7 = new Uint8Array(_u9);t.toBytes(8 * i, _d7, 0, _u9);var _f7 = Cr.generateECBytes(_d7, _h9[0]);a.push(new Ar(_d7, _f7)), o = Math.max(o, _u9), s = Math.max(s, _f7.length), i += _l14[0];
              }if (r !== i) throw new mr("Data bytes does not match offset");var c = new p();for (var _t208 = 0; _t208 < o; ++_t208) {
                var _iteratorNormalCompletion71 = true;
                var _didIteratorError71 = false;
                var _iteratorError71 = undefined;

                try {
                  for (var _iterator71 = a[Symbol.iterator](), _step71; !(_iteratorNormalCompletion71 = (_step71 = _iterator71.next()).done); _iteratorNormalCompletion71 = true) {
                    var _e180 = _step71.value;
                    var _r129 = _e180.getDataBytes();_t208 < _r129.length && c.appendBits(_r129[_t208], 8);
                  }
                } catch (err) {
                  _didIteratorError71 = true;
                  _iteratorError71 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion71 && _iterator71.return) {
                      _iterator71.return();
                    }
                  } finally {
                    if (_didIteratorError71) {
                      throw _iteratorError71;
                    }
                  }
                }
              }for (var _t209 = 0; _t209 < s; ++_t209) {
                var _iteratorNormalCompletion72 = true;
                var _didIteratorError72 = false;
                var _iteratorError72 = undefined;

                try {
                  for (var _iterator72 = a[Symbol.iterator](), _step72; !(_iteratorNormalCompletion72 = (_step72 = _iterator72.next()).done); _iteratorNormalCompletion72 = true) {
                    var _e181 = _step72.value;
                    var _r130 = _e181.getErrorCorrectionBytes();_t209 < _r130.length && c.appendBits(_r130[_t209], 8);
                  }
                } catch (err) {
                  _didIteratorError72 = true;
                  _iteratorError72 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion72 && _iterator72.return) {
                      _iterator72.return();
                    }
                  } finally {
                    if (_didIteratorError72) {
                      throw _iteratorError72;
                    }
                  }
                }
              }if (e !== c.getSizeInBytes()) throw new mr("Interleaving error: " + e + " and " + c.getSizeInBytes() + " differ.");return c;
            }
          }, {
            key: "generateECBytes",
            value: function generateECBytes(t, e) {
              var r = t.length,
                  n = new Int32Array(r + e);for (var _e182 = 0; _e182 < r; _e182++) {
                n[_e182] = 255 & t[_e182];
              }new dr(q.QR_CODE_FIELD_256).encode(n, e);var i = new Uint8Array(e);for (var _t210 = 0; _t210 < e; _t210++) {
                i[_t210] = n[r + _t210];
              }return i;
            }
          }, {
            key: "appendModeInfo",
            value: function appendModeInfo(t, e) {
              e.appendBits(t.getBits(), 4);
            }
          }, {
            key: "appendLengthInfo",
            value: function appendLengthInfo(t, e, r, n) {
              var i = r.getCharacterCountBits(e);if (t >= 1 << i) throw new mr(t + " is bigger than " + ((1 << i) - 1));n.appendBits(t, i);
            }
          }, {
            key: "appendBytes",
            value: function appendBytes(t, e, r, n) {
              switch (e) {case _e.NUMERIC:
                  Cr.appendNumericBytes(t, r);break;case _e.ALPHANUMERIC:
                  Cr.appendAlphanumericBytes(t, r);break;case _e.BYTE:
                  Cr.append8BitBytes(t, r, n);break;case _e.KANJI:
                  Cr.appendKanjiBytes(t, r);break;default:
                  throw new mr("Invalid mode: " + e);}
            }
          }, {
            key: "getDigit",
            value: function getDigit(t) {
              return t.charCodeAt(0) - 48;
            }
          }, {
            key: "isDigit",
            value: function isDigit(t) {
              var e = Cr.getDigit(t);return e >= 0 && e <= 9;
            }
          }, {
            key: "appendNumericBytes",
            value: function appendNumericBytes(t, e) {
              var r = t.length;var n = 0;for (; n < r;) {
                var _i95 = Cr.getDigit(t.charAt(n));if (n + 2 < r) {
                  var _r131 = Cr.getDigit(t.charAt(n + 1)),
                      _o63 = Cr.getDigit(t.charAt(n + 2));e.appendBits(100 * _i95 + 10 * _r131 + _o63, 10), n += 3;
                } else if (n + 1 < r) {
                  var _r132 = Cr.getDigit(t.charAt(n + 1));e.appendBits(10 * _i95 + _r132, 7), n += 2;
                } else e.appendBits(_i95, 4), n++;
              }
            }
          }, {
            key: "appendAlphanumericBytes",
            value: function appendAlphanumericBytes(t, e) {
              var r = t.length;var n = 0;for (; n < r;) {
                var _i96 = Cr.getAlphanumericCode(t.charCodeAt(n));if (-1 === _i96) throw new mr();if (n + 1 < r) {
                  var _r133 = Cr.getAlphanumericCode(t.charCodeAt(n + 1));if (-1 === _r133) throw new mr();e.appendBits(45 * _i96 + _r133, 11), n += 2;
                } else e.appendBits(_i96, 6), n++;
              }
            }
          }, {
            key: "append8BitBytes",
            value: function append8BitBytes(t, e, r) {
              var n = void 0;try {
                n = _.encode(t, r);
              } catch (t) {
                throw new mr(t);
              }for (var _t211 = 0, _r134 = n.length; _t211 !== _r134; _t211++) {
                var _r135 = n[_t211];e.appendBits(_r135, 8);
              }
            }
          }, {
            key: "appendKanjiBytes",
            value: function appendKanjiBytes(t, e) {
              var r = void 0;try {
                r = _.encode(t, I.SJIS);
              } catch (t) {
                throw new mr(t);
              }var n = r.length;for (var _t212 = 0; _t212 < n; _t212 += 2) {
                var _n121 = (255 & r[_t212]) << 8 & 4294967295 | 255 & r[_t212 + 1];var _i97 = -1;if (_n121 >= 33088 && _n121 <= 40956 ? _i97 = _n121 - 33088 : _n121 >= 57408 && _n121 <= 60351 && (_i97 = _n121 - 49472), -1 === _i97) throw new mr("Invalid byte sequence");var _o64 = 192 * (_i97 >> 8) + (255 & _i97);e.appendBits(_o64, 13);
              }
            }
          }, {
            key: "appendECI",
            value: function appendECI(t, e) {
              e.appendBits(_e.ECI.getBits(), 4), e.appendBits(t.getValue(), 8);
            }
          }]);

          return Cr;
        }();

        Cr.ALPHANUMERIC_TABLE = Int32Array.from([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 36, -1, -1, -1, 37, 38, -1, -1, -1, -1, 39, 40, -1, 41, 42, 43, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 44, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, -1, -1, -1, -1, -1]), Cr.DEFAULT_BYTE_MODE_ENCODING = I.UTF8.getName();
        var Er = function () {
          function Er() {
            _classCallCheck(this, Er);
          }

          _createClass(Er, [{
            key: "write",
            value: function write(t, e, r) {
              var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
              if (0 === t.length) throw new c("Found empty contents");if (e < 0 || r < 0) throw new c("Requested dimensions are too small: " + e + "x" + r);var i = we.L,
                  o = Er.QUIET_ZONE_SIZE;null !== n && (void 0 !== n.get(ur.ERROR_CORRECTION) && (i = we.fromString(n.get(ur.ERROR_CORRECTION).toString())), void 0 !== n.get(ur.MARGIN) && (o = Number.parseInt(n.get(ur.MARGIN).toString(), 10)));var s = Cr.encode(t, i, n);return this.renderResult(s, e, r, o);
            }
          }, {
            key: "writeToDom",
            value: function writeToDom(t, e, r, n) {
              var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
              "string" == typeof t && (t = document.querySelector(t));var o = this.write(e, r, n, i);t && t.appendChild(o);
            }
          }, {
            key: "renderResult",
            value: function renderResult(t, e, r, n) {
              var i = t.getMatrix();if (null === i) throw new $();var o = i.getWidth(),
                  s = i.getHeight(),
                  a = o + 2 * n,
                  c = s + 2 * n,
                  l = Math.max(e, a),
                  h = Math.max(r, c),
                  u = Math.min(Math.floor(l / a), Math.floor(h / c)),
                  d = Math.floor((l - o * u) / 2),
                  f = Math.floor((h - s * u) / 2),
                  g = this.createSVGElement(l, h);for (var _t213 = 0, _e183 = f; _t213 < s; _t213++, _e183 += u) {
                for (var _r136 = 0, _n122 = d; _r136 < o; _r136++, _n122 += u) {
                  if (1 === i.get(_r136, _t213)) {
                    var _t214 = this.createSvgRectElement(_n122, _e183, u, u);g.appendChild(_t214);
                  }
                }
              }return g;
            }
          }, {
            key: "createSVGElement",
            value: function createSVGElement(t, e) {
              var r = document.createElementNS(Er.SVG_NS, "svg");return r.setAttributeNS(null, "height", t.toString()), r.setAttributeNS(null, "width", e.toString()), r;
            }
          }, {
            key: "createSvgRectElement",
            value: function createSvgRectElement(t, e, r, n) {
              var i = document.createElementNS(Er.SVG_NS, "rect");return i.setAttributeNS(null, "x", t.toString()), i.setAttributeNS(null, "y", e.toString()), i.setAttributeNS(null, "height", r.toString()), i.setAttributeNS(null, "width", n.toString()), i.setAttributeNS(null, "fill", "#000000"), i;
            }
          }]);

          return Er;
        }();

        Er.QUIET_ZONE_SIZE = 4, Er.SVG_NS = "http://www.w3.org/2000/svg";
        var Ir = function () {
          function Ir() {
            _classCallCheck(this, Ir);
          }

          _createClass(Ir, [{
            key: "encode",
            value: function encode(t, e, r, n, i) {
              if (0 === t.length) throw new c("Found empty contents");if (e !== U.QR_CODE) throw new c("Can only encode QR_CODE, but got " + e);if (r < 0 || n < 0) throw new c("Requested dimensions are too small: " + r + "x" + n);var o = we.L,
                  s = Ir.QUIET_ZONE_SIZE;null !== i && (void 0 !== i.get(ur.ERROR_CORRECTION) && (o = we.fromString(i.get(ur.ERROR_CORRECTION).toString())), void 0 !== i.get(ur.MARGIN) && (s = Number.parseInt(i.get(ur.MARGIN).toString(), 10)));var a = Cr.encode(t, o, i);return Ir.renderResult(a, r, n, s);
            }
          }], [{
            key: "renderResult",
            value: function renderResult(t, e, r, n) {
              var i = t.getMatrix();if (null === i) throw new $();var o = i.getWidth(),
                  s = i.getHeight(),
                  a = o + 2 * n,
                  c = s + 2 * n,
                  l = Math.max(e, a),
                  h = Math.max(r, c),
                  u = Math.min(Math.floor(l / a), Math.floor(h / c)),
                  d = Math.floor((l - o * u) / 2),
                  f = Math.floor((h - s * u) / 2),
                  g = new N(l, h);for (var _t215 = 0, _e184 = f; _t215 < s; _t215++, _e184 += u) {
                for (var _r137 = 0, _n123 = d; _r137 < o; _r137++, _n123 += u) {
                  1 === i.get(_r137, _t215) && g.setRegion(_n123, _e184, u, u);
                }
              }return g;
            }
          }]);

          return Ir;
        }();

        Ir.QUIET_ZONE_SIZE = 4;
        var Sr = function (_O3) {
          _inherits(Sr, _O3);

          function Sr(t, e, r, n, i, o, s, a) {
            var _this62;

            _classCallCheck(this, Sr);

            if ((_this62 = _possibleConstructorReturn(this, (Sr.__proto__ || Object.getPrototypeOf(Sr)).call(this, o, s)), _this62), _this62.yuvData = t, _this62.dataWidth = e, _this62.dataHeight = r, _this62.left = n, _this62.top = i, n + o > e || i + s > r) throw new c("Crop rectangle does not fit within image data.");a && _this62.reverseHorizontal(o, s);return _possibleConstructorReturn(_this62);
          }

          _createClass(Sr, [{
            key: "getRow",
            value: function getRow(t, e) {
              if (t < 0 || t >= this.getHeight()) throw new c("Requested row is outside the image: " + t);var r = this.getWidth();(null == e || e.length < r) && (e = new Uint8ClampedArray(r));var n = (t + this.top) * this.dataWidth + this.left;return d.arraycopy(this.yuvData, n, e, 0, r), e;
            }
          }, {
            key: "getMatrix",
            value: function getMatrix() {
              var t = this.getWidth(),
                  e = this.getHeight();if (t === this.dataWidth && e === this.dataHeight) return this.yuvData;var r = t * e,
                  n = new Uint8ClampedArray(r);var i = this.top * this.dataWidth + this.left;if (t === this.dataWidth) return d.arraycopy(this.yuvData, i, n, 0, r), n;for (var _r138 = 0; _r138 < e; _r138++) {
                var _e185 = _r138 * t;d.arraycopy(this.yuvData, i, n, _e185, t), i += this.dataWidth;
              }return n;
            }
          }, {
            key: "isCropSupported",
            value: function isCropSupported() {
              return !0;
            }
          }, {
            key: "crop",
            value: function crop(t, e, r, n) {
              return new Sr(this.yuvData, this.dataWidth, this.dataHeight, this.left + t, this.top + e, r, n, !1);
            }
          }, {
            key: "renderThumbnail",
            value: function renderThumbnail() {
              var t = this.getWidth() / Sr.THUMBNAIL_SCALE_FACTOR,
                  e = this.getHeight() / Sr.THUMBNAIL_SCALE_FACTOR,
                  r = new Int32Array(t * e),
                  n = this.yuvData;var i = this.top * this.dataWidth + this.left;for (var _o65 = 0; _o65 < e; _o65++) {
                var _e186 = _o65 * t;for (var _o66 = 0; _o66 < t; _o66++) {
                  var _t216 = 255 & n[i + _o66 * Sr.THUMBNAIL_SCALE_FACTOR];r[_e186 + _o66] = 4278190080 | 65793 * _t216;
                }i += this.dataWidth * Sr.THUMBNAIL_SCALE_FACTOR;
              }return r;
            }
          }, {
            key: "getThumbnailWidth",
            value: function getThumbnailWidth() {
              return this.getWidth() / Sr.THUMBNAIL_SCALE_FACTOR;
            }
          }, {
            key: "getThumbnailHeight",
            value: function getThumbnailHeight() {
              return this.getHeight() / Sr.THUMBNAIL_SCALE_FACTOR;
            }
          }, {
            key: "reverseHorizontal",
            value: function reverseHorizontal(t, e) {
              var r = this.yuvData;for (var n = 0, _i98 = this.top * this.dataWidth + this.left; n < e; n++, _i98 += this.dataWidth) {
                var _e187 = _i98 + t / 2;for (var _n124 = _i98, _o67 = _i98 + t - 1; _n124 < _e187; _n124++, _o67--) {
                  var _t217 = r[_n124];r[_n124] = r[_o67], r[_o67] = _t217;
                }
              }
            }
          }, {
            key: "invert",
            value: function invert() {
              return new b(this);
            }
          }]);

          return Sr;
        }(O);

        Sr.THUMBNAIL_SCALE_FACTOR = 2;
        var _r = function (_O4) {
          _inherits(_r, _O4);

          function _r(t, e, r, n, i, o, s) {
            var _this63;

            _classCallCheck(this, _r);

            if ((_this63 = _possibleConstructorReturn(this, (_r.__proto__ || Object.getPrototypeOf(_r)).call(this, e, r)), _this63), _this63.dataWidth = n, _this63.dataHeight = i, _this63.left = o, _this63.top = s, 4 === t.BYTES_PER_ELEMENT) {
              var _n125 = e * r,
                  _i99 = new Uint8ClampedArray(_n125);for (var _e188 = 0; _e188 < _n125; _e188++) {
                var _r139 = t[_e188],
                    _n126 = _r139 >> 16 & 255,
                    _o68 = _r139 >> 7 & 510,
                    _s61 = 255 & _r139;_i99[_e188] = (_n126 + _o68 + _s61) / 4 & 255;
              }_this63.luminances = _i99;
            } else _this63.luminances = t;if (void 0 === n && (_this63.dataWidth = e), void 0 === i && (_this63.dataHeight = r), void 0 === o && (_this63.left = 0), void 0 === s && (_this63.top = 0), _this63.left + e > _this63.dataWidth || _this63.top + r > _this63.dataHeight) throw new c("Crop rectangle does not fit within image data.");return _possibleConstructorReturn(_this63);
          }

          _createClass(_r, [{
            key: "getRow",
            value: function getRow(t, e) {
              if (t < 0 || t >= this.getHeight()) throw new c("Requested row is outside the image: " + t);var r = this.getWidth();(null == e || e.length < r) && (e = new Uint8ClampedArray(r));var n = (t + this.top) * this.dataWidth + this.left;return d.arraycopy(this.luminances, n, e, 0, r), e;
            }
          }, {
            key: "getMatrix",
            value: function getMatrix() {
              var t = this.getWidth(),
                  e = this.getHeight();if (t === this.dataWidth && e === this.dataHeight) return this.luminances;var r = t * e,
                  n = new Uint8ClampedArray(r);var i = this.top * this.dataWidth + this.left;if (t === this.dataWidth) return d.arraycopy(this.luminances, i, n, 0, r), n;for (var _r140 = 0; _r140 < e; _r140++) {
                var _e189 = _r140 * t;d.arraycopy(this.luminances, i, n, _e189, t), i += this.dataWidth;
              }return n;
            }
          }, {
            key: "isCropSupported",
            value: function isCropSupported() {
              return !0;
            }
          }, {
            key: "crop",
            value: function crop(t, e, r, n) {
              return new _r(this.luminances, r, n, this.dataWidth, this.dataHeight, this.left + t, this.top + e);
            }
          }, {
            key: "invert",
            value: function invert() {
              return new b(this);
            }
          }]);

          return _r;
        }(O);

        var Tr = function (_I) {
          _inherits(Tr, _I);

          function Tr() {
            _classCallCheck(this, Tr);

            return _possibleConstructorReturn(this, (Tr.__proto__ || Object.getPrototypeOf(Tr)).apply(this, arguments));
          }

          _createClass(Tr, null, [{
            key: "forName",
            value: function forName(t) {
              return this.getCharacterSetECIByName(t);
            }
          }]);

          return Tr;
        }(I);

        var yr = function yr() {
          _classCallCheck(this, yr);
        };

        yr.ISO_8859_1 = I.ISO8859_1;
        var Nr = function () {
          function Nr() {
            _classCallCheck(this, Nr);
          }

          _createClass(Nr, [{
            key: "isCompact",
            value: function isCompact() {
              return this.compact;
            }
          }, {
            key: "setCompact",
            value: function setCompact(t) {
              this.compact = t;
            }
          }, {
            key: "getSize",
            value: function getSize() {
              return this.size;
            }
          }, {
            key: "setSize",
            value: function setSize(t) {
              this.size = t;
            }
          }, {
            key: "getLayers",
            value: function getLayers() {
              return this.layers;
            }
          }, {
            key: "setLayers",
            value: function setLayers(t) {
              this.layers = t;
            }
          }, {
            key: "getCodeWords",
            value: function getCodeWords() {
              return this.codeWords;
            }
          }, {
            key: "setCodeWords",
            value: function setCodeWords(t) {
              this.codeWords = t;
            }
          }, {
            key: "getMatrix",
            value: function getMatrix() {
              return this.matrix;
            }
          }, {
            key: "setMatrix",
            value: function setMatrix(t) {
              this.matrix = t;
            }
          }]);

          return Nr;
        }();

        var Dr = function () {
          function Dr() {
            _classCallCheck(this, Dr);
          }

          _createClass(Dr, null, [{
            key: "singletonList",
            value: function singletonList(t) {
              return [t];
            }
          }, {
            key: "min",
            value: function min(t, e) {
              return t.sort(e)[0];
            }
          }]);

          return Dr;
        }();

        var Mr = function () {
          function Mr(t) {
            _classCallCheck(this, Mr);

            this.previous = t;
          }

          _createClass(Mr, [{
            key: "getPrevious",
            value: function getPrevious() {
              return this.previous;
            }
          }]);

          return Mr;
        }();

        var Rr = function (_Mr) {
          _inherits(Rr, _Mr);

          function Rr(t, e, r) {
            var _this65;

            _classCallCheck(this, Rr);

            (_this65 = _possibleConstructorReturn(this, (Rr.__proto__ || Object.getPrototypeOf(Rr)).call(this, t)), _this65), _this65.value = e, _this65.bitCount = r;return _this65;
          }

          _createClass(Rr, [{
            key: "appendTo",
            value: function appendTo(t, e) {
              t.appendBits(this.value, this.bitCount);
            }
          }, {
            key: "add",
            value: function add(t, e) {
              return new Rr(this, t, e);
            }
          }, {
            key: "addBinaryShift",
            value: function addBinaryShift(t, e) {
              return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"), new Rr(this, t, e);
            }
          }, {
            key: "toString",
            value: function toString() {
              var t = this.value & (1 << this.bitCount) - 1;return t |= 1 << this.bitCount, "<" + m.toBinaryString(t | 1 << this.bitCount).substring(1) + ">";
            }
          }]);

          return Rr;
        }(Mr);

        var Or = function (_Rr) {
          _inherits(Or, _Rr);

          function Or(t, e, r) {
            var _this66;

            _classCallCheck(this, Or);

            (_this66 = _possibleConstructorReturn(this, (Or.__proto__ || Object.getPrototypeOf(Or)).call(this, t, 0, 0)), _this66), _this66.binaryShiftStart = e, _this66.binaryShiftByteCount = r;return _this66;
          }

          _createClass(Or, [{
            key: "appendTo",
            value: function appendTo(t, e) {
              for (var _r141 = 0; _r141 < this.binaryShiftByteCount; _r141++) {
                (0 === _r141 || 31 === _r141 && this.binaryShiftByteCount <= 62) && (t.appendBits(31, 5), this.binaryShiftByteCount > 62 ? t.appendBits(this.binaryShiftByteCount - 31, 16) : 0 === _r141 ? t.appendBits(Math.min(this.binaryShiftByteCount, 31), 5) : t.appendBits(this.binaryShiftByteCount - 31, 5)), t.appendBits(e[this.binaryShiftStart + _r141], 8);
              }
            }
          }, {
            key: "addBinaryShift",
            value: function addBinaryShift(t, e) {
              return new Or(this, t, e);
            }
          }, {
            key: "toString",
            value: function toString() {
              return "<" + this.binaryShiftStart + "::" + (this.binaryShiftStart + this.binaryShiftByteCount - 1) + ">";
            }
          }]);

          return Or;
        }(Rr);

        function br(t, e, r) {
          return new Rr(t, e, r);
        }var Br = ["UPPER", "LOWER", "DIGIT", "MIXED", "PUNCT"],
            Lr = 0,
            Pr = 1,
            vr = 2,
            Fr = 3,
            xr = 4,
            kr = new Rr(null, 0, 0),
            Ur = [Int32Array.from([0, 327708, 327710, 327709, 656318]), Int32Array.from([590318, 0, 327710, 327709, 656318]), Int32Array.from([262158, 590300, 0, 590301, 932798]), Int32Array.from([327709, 327708, 656318, 0, 327710]), Int32Array.from([327711, 656380, 656382, 656381, 0])];var Hr = function (t) {
          var _iteratorNormalCompletion73 = true;
          var _didIteratorError73 = false;
          var _iteratorError73 = undefined;

          try {
            for (var _iterator73 = t[Symbol.iterator](), _step73; !(_iteratorNormalCompletion73 = (_step73 = _iterator73.next()).done); _iteratorNormalCompletion73 = true) {
              var _e190 = _step73.value;
              w.fill(_e190, -1);
            }
          } catch (err) {
            _didIteratorError73 = true;
            _iteratorError73 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion73 && _iterator73.return) {
                _iterator73.return();
              }
            } finally {
              if (_didIteratorError73) {
                throw _iteratorError73;
              }
            }
          }

          return t[Lr][xr] = 0, t[Pr][xr] = 0, t[Pr][Lr] = 28, t[Fr][xr] = 0, t[vr][xr] = 0, t[vr][Lr] = 15, t;
        }(w.createInt32Array(6, 6));
        var Vr = function () {
          function Vr(t, e, r, n) {
            _classCallCheck(this, Vr);

            this.token = t, this.mode = e, this.binaryShiftByteCount = r, this.bitCount = n;
          }

          _createClass(Vr, [{
            key: "getMode",
            value: function getMode() {
              return this.mode;
            }
          }, {
            key: "getToken",
            value: function getToken() {
              return this.token;
            }
          }, {
            key: "getBinaryShiftByteCount",
            value: function getBinaryShiftByteCount() {
              return this.binaryShiftByteCount;
            }
          }, {
            key: "getBitCount",
            value: function getBitCount() {
              return this.bitCount;
            }
          }, {
            key: "latchAndAppend",
            value: function latchAndAppend(t, e) {
              var r = this.bitCount,
                  n = this.token;if (t !== this.mode) {
                var _e191 = Ur[this.mode][t];n = br(n, 65535 & _e191, _e191 >> 16), r += _e191 >> 16;
              }var i = t === vr ? 4 : 5;return n = br(n, e, i), new Vr(n, t, 0, r + i);
            }
          }, {
            key: "shiftAndAppend",
            value: function shiftAndAppend(t, e) {
              var r = this.token,
                  n = this.mode === vr ? 4 : 5;return r = br(r, Hr[this.mode][t], n), r = br(r, e, 5), new Vr(r, this.mode, 0, this.bitCount + n + 5);
            }
          }, {
            key: "addBinaryShiftChar",
            value: function addBinaryShiftChar(t) {
              var e = this.token,
                  r = this.mode,
                  n = this.bitCount;if (this.mode === xr || this.mode === vr) {
                var _t218 = Ur[r][Lr];e = br(e, 65535 & _t218, _t218 >> 16), n += _t218 >> 16, r = Lr;
              }var i = 0 === this.binaryShiftByteCount || 31 === this.binaryShiftByteCount ? 18 : 62 === this.binaryShiftByteCount ? 9 : 8,
                  o = new Vr(e, r, this.binaryShiftByteCount + 1, n + i);return 2078 === o.binaryShiftByteCount && (o = o.endBinaryShift(t + 1)), o;
            }
          }, {
            key: "endBinaryShift",
            value: function endBinaryShift(t) {
              if (0 === this.binaryShiftByteCount) return this;var e = this.token;return e = function (t, e, r) {
                return new Or(t, e, r);
              }(e, t - this.binaryShiftByteCount, this.binaryShiftByteCount), new Vr(e, this.mode, 0, this.bitCount);
            }
          }, {
            key: "isBetterThanOrEqualTo",
            value: function isBetterThanOrEqualTo(t) {
              var e = this.bitCount + (Ur[this.mode][t.mode] >> 16);return this.binaryShiftByteCount < t.binaryShiftByteCount ? e += Vr.calculateBinaryShiftCost(t) - Vr.calculateBinaryShiftCost(this) : this.binaryShiftByteCount > t.binaryShiftByteCount && t.binaryShiftByteCount > 0 && (e += 10), e <= t.bitCount;
            }
          }, {
            key: "toBitArray",
            value: function toBitArray(t) {
              var e = [];for (var _r142 = this.endBinaryShift(t.length).token; null !== _r142; _r142 = _r142.getPrevious()) {
                e.unshift(_r142);
              }var r = new p();var _iteratorNormalCompletion74 = true;
              var _didIteratorError74 = false;
              var _iteratorError74 = undefined;

              try {
                for (var _iterator74 = e[Symbol.iterator](), _step74; !(_iteratorNormalCompletion74 = (_step74 = _iterator74.next()).done); _iteratorNormalCompletion74 = true) {
                  var n = _step74.value;
                  n.appendTo(r, t);
                }
              } catch (err) {
                _didIteratorError74 = true;
                _iteratorError74 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion74 && _iterator74.return) {
                    _iterator74.return();
                  }
                } finally {
                  if (_didIteratorError74) {
                    throw _iteratorError74;
                  }
                }
              }

              return r;
            }
          }, {
            key: "toString",
            value: function toString() {
              return T.format("%s bits=%d bytes=%d", Br[this.mode], this.bitCount, this.binaryShiftByteCount);
            }
          }], [{
            key: "calculateBinaryShiftCost",
            value: function calculateBinaryShiftCost(t) {
              return t.binaryShiftByteCount > 62 ? 21 : t.binaryShiftByteCount > 31 ? 20 : t.binaryShiftByteCount > 0 ? 10 : 0;
            }
          }]);

          return Vr;
        }();

        Vr.INITIAL_STATE = new Vr(kr, Lr, 0, 0);var zr = function (t) {
          var e = T.getCharCode(" "),
              r = T.getCharCode("."),
              n = T.getCharCode(",");t[Lr][e] = 1;var i = T.getCharCode("Z"),
              o = T.getCharCode("A");for (var _e192 = o; _e192 <= i; _e192++) {
            t[Lr][_e192] = _e192 - o + 2;
          }t[Pr][e] = 1;var s = T.getCharCode("z"),
              a = T.getCharCode("a");for (var _e193 = a; _e193 <= s; _e193++) {
            t[Pr][_e193] = _e193 - a + 2;
          }t[vr][e] = 1;var c = T.getCharCode("9"),
              l = T.getCharCode("0");for (var _e194 = l; _e194 <= c; _e194++) {
            t[vr][_e194] = _e194 - l + 2;
          }t[vr][n] = 12, t[vr][r] = 13;var h = ["\0", " ", "", "", "", "", "", "", "", "\b", "\t", "\n", "\v", "\f", "\r", "", "", "", "", "", "@", "\\", "^", "_", "`", "|", "~", ""];for (var _e195 = 0; _e195 < h.length; _e195++) {
            t[Fr][T.getCharCode(h[_e195])] = _e195;
          }var u = ["\0", "\r", "\0", "\0", "\0", "\0", "!", "'", "#", "$", "%", "&", "'", "(", ")", "*", "+", ",", "-", ".", "/", ":", ";", "<", "=", ">", "?", "[", "]", "{", "}"];for (var _e196 = 0; _e196 < u.length; _e196++) {
            T.getCharCode(u[_e196]) > 0 && (t[xr][T.getCharCode(u[_e196])] = _e196);
          }return t;
        }(w.createInt32Array(5, 256));
        var Gr = function () {
          function Gr(t) {
            _classCallCheck(this, Gr);

            this.text = t;
          }

          _createClass(Gr, [{
            key: "encode",
            value: function encode() {
              var t = T.getCharCode(" "),
                  e = T.getCharCode("\n");var r = Dr.singletonList(Vr.INITIAL_STATE);for (var n = 0; n < this.text.length; n++) {
                var _i100 = void 0,
                    _o69 = n + 1 < this.text.length ? this.text[n + 1] : 0;switch (this.text[n]) {case T.getCharCode("\r"):
                    _i100 = _o69 === e ? 2 : 0;break;case T.getCharCode("."):
                    _i100 = _o69 === t ? 3 : 0;break;case T.getCharCode(","):
                    _i100 = _o69 === t ? 4 : 0;break;case T.getCharCode(":"):
                    _i100 = _o69 === t ? 5 : 0;break;default:
                    _i100 = 0;}_i100 > 0 ? (r = Gr.updateStateListForPair(r, n, _i100), n++) : r = this.updateStateListForChar(r, n);
              }return Dr.min(r, function (t, e) {
                return t.getBitCount() - e.getBitCount();
              }).toBitArray(this.text);
            }
          }, {
            key: "updateStateListForChar",
            value: function updateStateListForChar(t, e) {
              var r = [];var _iteratorNormalCompletion75 = true;
              var _didIteratorError75 = false;
              var _iteratorError75 = undefined;

              try {
                for (var _iterator75 = t[Symbol.iterator](), _step75; !(_iteratorNormalCompletion75 = (_step75 = _iterator75.next()).done); _iteratorNormalCompletion75 = true) {
                  var n = _step75.value;
                  this.updateStateForChar(n, e, r);
                }
              } catch (err) {
                _didIteratorError75 = true;
                _iteratorError75 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion75 && _iterator75.return) {
                    _iterator75.return();
                  }
                } finally {
                  if (_didIteratorError75) {
                    throw _iteratorError75;
                  }
                }
              }

              return Gr.simplifyStates(r);
            }
          }, {
            key: "updateStateForChar",
            value: function updateStateForChar(t, e, r) {
              var n = 255 & this.text[e],
                  i = zr[t.getMode()][n] > 0,
                  o = null;for (var _s62 = 0; _s62 <= xr; _s62++) {
                var _a29 = zr[_s62][n];if (_a29 > 0) {
                  if (null == o && (o = t.endBinaryShift(e)), !i || _s62 === t.getMode() || _s62 === vr) {
                    var _t219 = o.latchAndAppend(_s62, _a29);r.push(_t219);
                  }if (!i && Hr[t.getMode()][_s62] >= 0) {
                    var _t220 = o.shiftAndAppend(_s62, _a29);r.push(_t220);
                  }
                }
              }if (t.getBinaryShiftByteCount() > 0 || 0 === zr[t.getMode()][n]) {
                var _n127 = t.addBinaryShiftChar(e);r.push(_n127);
              }
            }
          }], [{
            key: "updateStateListForPair",
            value: function updateStateListForPair(t, e, r) {
              var n = [];var _iteratorNormalCompletion76 = true;
              var _didIteratorError76 = false;
              var _iteratorError76 = undefined;

              try {
                for (var _iterator76 = t[Symbol.iterator](), _step76; !(_iteratorNormalCompletion76 = (_step76 = _iterator76.next()).done); _iteratorNormalCompletion76 = true) {
                  var _i101 = _step76.value;
                  this.updateStateForPair(_i101, e, r, n);
                }
              } catch (err) {
                _didIteratorError76 = true;
                _iteratorError76 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion76 && _iterator76.return) {
                    _iterator76.return();
                  }
                } finally {
                  if (_didIteratorError76) {
                    throw _iteratorError76;
                  }
                }
              }

              return this.simplifyStates(n);
            }
          }, {
            key: "updateStateForPair",
            value: function updateStateForPair(t, e, r, n) {
              var i = t.endBinaryShift(e);if (n.push(i.latchAndAppend(xr, r)), t.getMode() !== xr && n.push(i.shiftAndAppend(xr, r)), 3 === r || 4 === r) {
                var _t221 = i.latchAndAppend(vr, 16 - r).latchAndAppend(vr, 1);n.push(_t221);
              }if (t.getBinaryShiftByteCount() > 0) {
                var _r143 = t.addBinaryShiftChar(e).addBinaryShiftChar(e + 1);n.push(_r143);
              }
            }
          }, {
            key: "simplifyStates",
            value: function simplifyStates(t) {
              var e = [];var _iteratorNormalCompletion77 = true;
              var _didIteratorError77 = false;
              var _iteratorError77 = undefined;

              try {
                for (var _iterator77 = t[Symbol.iterator](), _step77; !(_iteratorNormalCompletion77 = (_step77 = _iterator77.next()).done); _iteratorNormalCompletion77 = true) {
                  var _r144 = _step77.value;
                  var _t222 = !0;var _iteratorNormalCompletion78 = true;
                  var _didIteratorError78 = false;
                  var _iteratorError78 = undefined;

                  try {
                    var _loop2 = function _loop2() {
                      var n = _step78.value;
                      if (n.isBetterThanOrEqualTo(_r144)) {
                        _t222 = !1;return "break";
                      }_r144.isBetterThanOrEqualTo(n) && (e = e.filter(function (t) {
                        return t !== n;
                      }));
                    };

                    for (var _iterator78 = e[Symbol.iterator](), _step78; !(_iteratorNormalCompletion78 = (_step78 = _iterator78.next()).done); _iteratorNormalCompletion78 = true) {
                      var _ret3 = _loop2();

                      if (_ret3 === "break") break;
                    }
                  } catch (err) {
                    _didIteratorError78 = true;
                    _iteratorError78 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion78 && _iterator78.return) {
                        _iterator78.return();
                      }
                    } finally {
                      if (_didIteratorError78) {
                        throw _iteratorError78;
                      }
                    }
                  }

                  _t222 && e.push(_r144);
                }
              } catch (err) {
                _didIteratorError77 = true;
                _iteratorError77 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion77 && _iterator77.return) {
                    _iterator77.return();
                  }
                } finally {
                  if (_didIteratorError77) {
                    throw _iteratorError77;
                  }
                }
              }

              return e;
            }
          }]);

          return Gr;
        }();

        var Yr = function () {
          function Yr() {
            _classCallCheck(this, Yr);
          }

          _createClass(Yr, null, [{
            key: "encodeBytes",
            value: function encodeBytes(t) {
              return Yr.encode(t, Yr.DEFAULT_EC_PERCENT, Yr.DEFAULT_AZTEC_LAYERS);
            }
          }, {
            key: "encode",
            value: function encode(t, e, r) {
              var n = void 0,
                  i = void 0,
                  o = void 0,
                  s = void 0,
                  a = void 0,
                  l = new Gr(t).encode(),
                  h = m.truncDivision(l.getSize() * e, 100) + 11,
                  u = l.getSize() + h;if (r !== Yr.DEFAULT_AZTEC_LAYERS) {
                if (n = r < 0, i = Math.abs(r), i > (n ? Yr.MAX_NB_BITS_COMPACT : Yr.MAX_NB_BITS)) throw new c(T.format("Illegal value %s for layers", r));o = Yr.totalBitsInLayer(i, n), s = Yr.WORD_SIZE[i];var _t223 = o - o % s;if (a = Yr.stuffBits(l, s), a.getSize() + h > _t223) throw new c("Data to large for user specified layer");if (n && a.getSize() > 64 * s) throw new c("Data to large for user specified layer");
              } else {
                s = 0, a = null;for (var _t224 = 0;; _t224++) {
                  if (_t224 > Yr.MAX_NB_BITS) throw new c("Data too large for an Aztec code");if (n = _t224 <= 3, i = n ? _t224 + 1 : _t224, o = Yr.totalBitsInLayer(i, n), u > o) continue;null != a && s === Yr.WORD_SIZE[i] || (s = Yr.WORD_SIZE[i], a = Yr.stuffBits(l, s));var _e197 = o - o % s;if (!(n && a.getSize() > 64 * s) && a.getSize() + h <= _e197) break;
                }
              }var d = void 0,
                  f = Yr.generateCheckWords(a, o, s),
                  g = a.getSize() / s,
                  w = Yr.generateModeMessage(n, i, g),
                  p = (n ? 11 : 14) + 4 * i,
                  A = new Int32Array(p);if (n) {
                d = p;for (var _t225 = 0; _t225 < A.length; _t225++) {
                  A[_t225] = _t225;
                }
              } else {
                d = p + 1 + 2 * m.truncDivision(m.truncDivision(p, 2) - 1, 15);var _t226 = m.truncDivision(p, 2),
                    _e198 = m.truncDivision(d, 2);for (var _r145 = 0; _r145 < _t226; _r145++) {
                  var _n128 = _r145 + m.truncDivision(_r145, 15);A[_t226 - _r145 - 1] = _e198 - _n128 - 1, A[_t226 + _r145] = _e198 + _n128 + 1;
                }
              }var C = new N(d);for (var _t227 = 0, _e199 = 0; _t227 < i; _t227++) {
                var _r146 = 4 * (i - _t227) + (n ? 9 : 12);for (var _n129 = 0; _n129 < _r146; _n129++) {
                  var _i102 = 2 * _n129;for (var _o70 = 0; _o70 < 2; _o70++) {
                    f.get(_e199 + _i102 + _o70) && C.set(A[2 * _t227 + _o70], A[2 * _t227 + _n129]), f.get(_e199 + 2 * _r146 + _i102 + _o70) && C.set(A[2 * _t227 + _n129], A[p - 1 - 2 * _t227 - _o70]), f.get(_e199 + 4 * _r146 + _i102 + _o70) && C.set(A[p - 1 - 2 * _t227 - _o70], A[p - 1 - 2 * _t227 - _n129]), f.get(_e199 + 6 * _r146 + _i102 + _o70) && C.set(A[p - 1 - 2 * _t227 - _n129], A[2 * _t227 + _o70]);
                  }
                }_e199 += 8 * _r146;
              }if (Yr.drawModeMessage(C, n, d, w), n) Yr.drawBullsEye(C, m.truncDivision(d, 2), 5);else {
                Yr.drawBullsEye(C, m.truncDivision(d, 2), 7);for (var _t228 = 0, _e200 = 0; _t228 < m.truncDivision(p, 2) - 1; _t228 += 15, _e200 += 16) {
                  for (var _t229 = 1 & m.truncDivision(d, 2); _t229 < d; _t229 += 2) {
                    C.set(m.truncDivision(d, 2) - _e200, _t229), C.set(m.truncDivision(d, 2) + _e200, _t229), C.set(_t229, m.truncDivision(d, 2) - _e200), C.set(_t229, m.truncDivision(d, 2) + _e200);
                  }
                }
              }var E = new Nr();return E.setCompact(n), E.setSize(d), E.setLayers(i), E.setCodeWords(g), E.setMatrix(C), E;
            }
          }, {
            key: "drawBullsEye",
            value: function drawBullsEye(t, e, r) {
              for (var _n130 = 0; _n130 < r; _n130 += 2) {
                for (var _r147 = e - _n130; _r147 <= e + _n130; _r147++) {
                  t.set(_r147, e - _n130), t.set(_r147, e + _n130), t.set(e - _n130, _r147), t.set(e + _n130, _r147);
                }
              }t.set(e - r, e - r), t.set(e - r + 1, e - r), t.set(e - r, e - r + 1), t.set(e + r, e - r), t.set(e + r, e - r + 1), t.set(e + r, e + r - 1);
            }
          }, {
            key: "generateModeMessage",
            value: function generateModeMessage(t, e, r) {
              var n = new p();return t ? (n.appendBits(e - 1, 2), n.appendBits(r - 1, 6), n = Yr.generateCheckWords(n, 28, 4)) : (n.appendBits(e - 1, 5), n.appendBits(r - 1, 11), n = Yr.generateCheckWords(n, 40, 4)), n;
            }
          }, {
            key: "drawModeMessage",
            value: function drawModeMessage(t, e, r, n) {
              var i = m.truncDivision(r, 2);if (e) for (var _e201 = 0; _e201 < 7; _e201++) {
                var _r148 = i - 3 + _e201;n.get(_e201) && t.set(_r148, i - 5), n.get(_e201 + 7) && t.set(i + 5, _r148), n.get(20 - _e201) && t.set(_r148, i + 5), n.get(27 - _e201) && t.set(i - 5, _r148);
              } else for (var _e202 = 0; _e202 < 10; _e202++) {
                var _r149 = i - 5 + _e202 + m.truncDivision(_e202, 5);n.get(_e202) && t.set(_r149, i - 7), n.get(_e202 + 10) && t.set(i + 7, _r149), n.get(29 - _e202) && t.set(_r149, i + 7), n.get(39 - _e202) && t.set(i - 7, _r149);
              }
            }
          }, {
            key: "generateCheckWords",
            value: function generateCheckWords(t, e, r) {
              var n = t.getSize() / r,
                  i = new dr(Yr.getGF(r)),
                  o = m.truncDivision(e, r),
                  s = Yr.bitsToWords(t, r, o);i.encode(s, o - n);var a = e % r,
                  c = new p();c.appendBits(0, a);var _iteratorNormalCompletion79 = true;
              var _didIteratorError79 = false;
              var _iteratorError79 = undefined;

              try {
                for (var _iterator79 = Array.from(s)[Symbol.iterator](), _step79; !(_iteratorNormalCompletion79 = (_step79 = _iterator79.next()).done); _iteratorNormalCompletion79 = true) {
                  var _t230 = _step79.value;
                  c.appendBits(_t230, r);
                }
              } catch (err) {
                _didIteratorError79 = true;
                _iteratorError79 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion79 && _iterator79.return) {
                    _iterator79.return();
                  }
                } finally {
                  if (_didIteratorError79) {
                    throw _iteratorError79;
                  }
                }
              }

              return c;
            }
          }, {
            key: "bitsToWords",
            value: function bitsToWords(t, e, r) {
              var n = void 0,
                  i = void 0,
                  o = new Int32Array(r);for (n = 0, i = t.getSize() / e; n < i; n++) {
                var _r150 = 0;for (var _i103 = 0; _i103 < e; _i103++) {
                  _r150 |= t.get(n * e + _i103) ? 1 << e - _i103 - 1 : 0;
                }o[n] = _r150;
              }return o;
            }
          }, {
            key: "getGF",
            value: function getGF(t) {
              switch (t) {case 4:
                  return q.AZTEC_PARAM;case 6:
                  return q.AZTEC_DATA_6;case 8:
                  return q.AZTEC_DATA_8;case 10:
                  return q.AZTEC_DATA_10;case 12:
                  return q.AZTEC_DATA_12;default:
                  throw new c("Unsupported word size " + t);}
            }
          }, {
            key: "stuffBits",
            value: function stuffBits(t, e) {
              var r = new p(),
                  n = t.getSize(),
                  i = (1 << e) - 2;for (var _o71 = 0; _o71 < n; _o71 += e) {
                var _s63 = 0;for (var _r151 = 0; _r151 < e; _r151++) {
                  (_o71 + _r151 >= n || t.get(_o71 + _r151)) && (_s63 |= 1 << e - 1 - _r151);
                }(_s63 & i) === i ? (r.appendBits(_s63 & i, e), _o71--) : 0 == (_s63 & i) ? (r.appendBits(1 | _s63, e), _o71--) : r.appendBits(_s63, e);
              }return r;
            }
          }, {
            key: "totalBitsInLayer",
            value: function totalBitsInLayer(t, e) {
              return ((e ? 88 : 112) + 16 * t) * t;
            }
          }]);

          return Yr;
        }();

        Yr.DEFAULT_EC_PERCENT = 33, Yr.DEFAULT_AZTEC_LAYERS = 0, Yr.MAX_NB_BITS = 32, Yr.MAX_NB_BITS_COMPACT = 4, Yr.WORD_SIZE = Int32Array.from([4, 6, 6, 8, 8, 8, 8, 8, 8, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12]);
        var Xr = function () {
          function Xr() {
            _classCallCheck(this, Xr);
          }

          _createClass(Xr, [{
            key: "encode",
            value: function encode(t, e, r, n) {
              return this.encodeWithHints(t, e, r, n, null);
            }
          }, {
            key: "encodeWithHints",
            value: function encodeWithHints(t, e, r, n, i) {
              var o = yr.ISO_8859_1,
                  s = Yr.DEFAULT_EC_PERCENT,
                  a = Yr.DEFAULT_AZTEC_LAYERS;return null != i && (i.has(ur.CHARACTER_SET) && (o = Tr.forName(i.get(ur.CHARACTER_SET).toString())), i.has(ur.ERROR_CORRECTION) && (s = m.parseInt(i.get(ur.ERROR_CORRECTION).toString())), i.has(ur.AZTEC_LAYERS) && (a = m.parseInt(i.get(ur.AZTEC_LAYERS).toString()))), Xr.encodeLayers(t, e, r, n, o, s, a);
            }
          }], [{
            key: "encodeLayers",
            value: function encodeLayers(t, e, r, n, i, o, s) {
              if (e !== U.AZTEC) throw new c("Can only encode AZTEC, but got " + e);var a = Yr.encode(T.getBytes(t, i), o, s);return Xr.renderResult(a, r, n);
            }
          }, {
            key: "renderResult",
            value: function renderResult(t, e, r) {
              var n = t.getMatrix();if (null == n) throw new $();var i = n.getWidth(),
                  o = n.getHeight(),
                  s = Math.max(e, i),
                  a = Math.max(r, o),
                  c = Math.min(s / i, a / o),
                  l = (s - i * c) / 2,
                  h = (a - o * c) / 2,
                  u = new N(s, a);for (var _t231 = 0, _e203 = h; _t231 < o; _t231++, _e203 += c) {
                for (var _r152 = 0, _o72 = l; _r152 < i; _r152++, _o72 += c) {
                  n.get(_r152, _t231) && u.setRegion(_o72, _e203, c, c);
                }
              }return u;
            }
          }]);

          return Xr;
        }();

        t.AbstractExpandedDecoder = Vt, t.ArgumentException = a, t.ArithmeticException = K, t.AztecCode = Nr, t.AztecCodeReader = gt, t.AztecCodeWriter = Xr, t.AztecDecoder = et, t.AztecDetector = ft, t.AztecDetectorResult = st, t.AztecEncoder = Yr, t.AztecHighLevelEncoder = Gr, t.AztecPoint = dt, t.BarcodeFormat = U, t.Binarizer = u, t.BinaryBitmap = l, t.BitArray = p, t.BitMatrix = N, t.BitSource = he, t.BrowserAztecCodeReader = function (_F) {
          _inherits(_class, _F);

          function _class() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;

            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, new gt(), t));
          }

          return _class;
        }(F), t.BrowserBarcodeReader = function (_F2) {
          _inherits(_class2, _F2);

          function _class2() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;
            var e = arguments[1];

            _classCallCheck(this, _class2);

            return _possibleConstructorReturn(this, (_class2.__proto__ || Object.getPrototypeOf(_class2)).call(this, new ie(e), t, e));
          }

          return _class2;
        }(F), t.BrowserCodeReader = F, t.BrowserDatamatrixCodeReader = function (_F3) {
          _inherits(_class3, _F3);

          function _class3() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;

            _classCallCheck(this, _class3);

            return _possibleConstructorReturn(this, (_class3.__proto__ || Object.getPrototypeOf(_class3)).call(this, new ge(), t));
          }

          return _class3;
        }(F), t.BrowserMultiFormatReader = function (_F4) {
          _inherits(_class4, _F4);

          function _class4() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

            var _this70;

            var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;

            _classCallCheck(this, _class4);

            var r = new lr();r.setHints(t), (_this70 = _possibleConstructorReturn(this, (_class4.__proto__ || Object.getPrototypeOf(_class4)).call(this, r, e)), _this70);return _this70;
          }

          _createClass(_class4, [{
            key: "decodeBitmap",
            value: function decodeBitmap(t) {
              return this.reader.decodeWithState(t);
            }
          }]);

          return _class4;
        }(F), t.BrowserPDF417Reader = function (_F5) {
          _inherits(_class5, _F5);

          function _class5() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;

            _classCallCheck(this, _class5);

            return _possibleConstructorReturn(this, (_class5.__proto__ || Object.getPrototypeOf(_class5)).call(this, new ar(), t));
          }

          return _class5;
        }(F), t.BrowserQRCodeReader = function (_F6) {
          _inherits(_class6, _F6);

          function _class6() {
            var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;

            _classCallCheck(this, _class6);

            return _possibleConstructorReturn(this, (_class6.__proto__ || Object.getPrototypeOf(_class6)).call(this, new Le(), t));
          }

          return _class6;
        }(F), t.BrowserQRCodeSvgWriter = Er, t.CharacterSetECI = I, t.ChecksumException = h, t.Code128Reader = mt, t.Code39Reader = pt, t.DataMatrixDecodedBitStreamParser = ue, t.DataMatrixReader = ge, t.DecodeHintType = C, t.DecoderResult = j, t.DefaultGridSampler = ht, t.DetectorResult = ot, t.EAN13Reader = Tt, t.EncodeHintType = ur, t.Exception = s, t.FormatException = E, t.GenericGF = q, t.GenericGFPoly = Q, t.GlobalHistogramBinarizer = M, t.GridSampler = ct, t.GridSamplerInstance = ut, t.HTMLCanvasElementLuminanceSource = B, t.HybridBinarizer = R, t.ITFReader = At, t.IllegalArgumentException = c, t.IllegalStateException = $, t.InvertedLuminanceSource = b, t.LuminanceSource = O, t.MathUtils = rt, t.MultiFormatOneDReader = ie, t.MultiFormatReader = lr, t.MultiFormatWriter = function () {
          function _class7() {
            _classCallCheck(this, _class7);
          }

          _createClass(_class7, [{
            key: "encode",
            value: function encode(t, e, r, n, i) {
              var o = void 0;if (e !== U.QR_CODE) throw new c("No encoder available for format " + e);return o = new Ir(), o.encode(t, e, r, n, i);
            }
          }]);

          return _class7;
        }(), t.NotFoundException = D, t.OneDReader = wt, t.PDF417DecodedBitStreamParser = or, t.PDF417DecoderErrorCorrection = He, t.PDF417Reader = ar, t.PDF417ResultMetadata = Ke, t.PerspectiveTransform = lt, t.PlanarYUVLuminanceSource = Sr, t.QRCodeByteMatrix = gr, t.QRCodeDataMask = Ee, t.QRCodeDecodedBitStreamParser = Te, t.QRCodeDecoderErrorCorrectionLevel = we, t.QRCodeDecoderFormatInformation = me, t.QRCodeEncoder = Cr, t.QRCodeEncoderQRCode = wr, t.QRCodeMaskUtil = fr, t.QRCodeMatrixUtil = pr, t.QRCodeMode = _e, t.QRCodeReader = Le, t.QRCodeVersion = Ce, t.QRCodeWriter = Ir, t.RGBLuminanceSource = _r, t.RSS14Reader = ne, t.RSSExpandedReader = ee, t.ReaderException = cr, t.ReedSolomonDecoder = tt, t.ReedSolomonEncoder = dr, t.ReedSolomonException = J, t.Result = x, t.ResultMetadataType = W, t.ResultPoint = it, t.StringUtils = T, t.UnsupportedOperationException = S, t.VideoInputDevice = L, t.WhiteRectangleDetector = at, t.WriterException = mr, t.ZXingArrays = w, t.ZXingCharset = Tr, t.ZXingInteger = m, t.ZXingStandardCharsets = yr, t.ZXingStringBuilder = y, t.ZXingStringEncoding = _, t.ZXingSystem = d, t.createAbstractExpandedDecoder = Jt, Object.defineProperty(t, "__esModule", { value: !0 });
      }(e);
    } },
      e = {};function r(n) {
    var i = e[n];if (void 0 !== i) return i.exports;var o = e[n] = { exports: {} };return t[n].call(o.exports, o, o.exports, r), o.exports;
  }r.d = function (t, e) {
    for (var n in e) {
      r.o(e, n) && !r.o(t, n) && Object.defineProperty(t, n, { enumerable: !0, get: e[n] });
    }
  }, r.g = function () {
    if ("object" == (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis))) return globalThis;try {
      return this || new Function("return this")();
    } catch (t) {
      if ("object" == (typeof window === "undefined" ? "undefined" : _typeof(window))) return window;
    }
  }(), r.o = function (t, e) {
    return Object.prototype.hasOwnProperty.call(t, e);
  }, r.r = function (t) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 });
  };var n = {};(function () {
    "use strict";
    var t;r.r(n), r.d(n, { Html5Qrcode: function Html5Qrcode() {
        return W;
      }, Html5QrcodeScanType: function Html5QrcodeScanType() {
        return i;
      }, Html5QrcodeScanner: function Html5QrcodeScanner() {
        return ft;
      }, Html5QrcodeScannerState: function Html5QrcodeScannerState() {
        return w;
      }, Html5QrcodeSupportedFormats: function Html5QrcodeSupportedFormats() {
        return t;
      } }), function (t) {
      t[t.QR_CODE = 0] = "QR_CODE", t[t.AZTEC = 1] = "AZTEC", t[t.CODABAR = 2] = "CODABAR", t[t.CODE_39 = 3] = "CODE_39", t[t.CODE_93 = 4] = "CODE_93", t[t.CODE_128 = 5] = "CODE_128", t[t.DATA_MATRIX = 6] = "DATA_MATRIX", t[t.MAXICODE = 7] = "MAXICODE", t[t.ITF = 8] = "ITF", t[t.EAN_13 = 9] = "EAN_13", t[t.EAN_8 = 10] = "EAN_8", t[t.PDF_417 = 11] = "PDF_417", t[t.RSS_14 = 12] = "RSS_14", t[t.RSS_EXPANDED = 13] = "RSS_EXPANDED", t[t.UPC_A = 14] = "UPC_A", t[t.UPC_E = 15] = "UPC_E", t[t.UPC_EAN_EXTENSION = 16] = "UPC_EAN_EXTENSION";
    }(t || (t = {}));var e,
        i,
        o = new Map([[t.QR_CODE, "QR_CODE"], [t.AZTEC, "AZTEC"], [t.CODABAR, "CODABAR"], [t.CODE_39, "CODE_39"], [t.CODE_93, "CODE_93"], [t.CODE_128, "CODE_128"], [t.DATA_MATRIX, "DATA_MATRIX"], [t.MAXICODE, "MAXICODE"], [t.ITF, "ITF"], [t.EAN_13, "EAN_13"], [t.EAN_8, "EAN_8"], [t.PDF_417, "PDF_417"], [t.RSS_14, "RSS_14"], [t.RSS_EXPANDED, "RSS_EXPANDED"], [t.UPC_A, "UPC_A"], [t.UPC_E, "UPC_E"], [t.UPC_EAN_EXTENSION, "UPC_EAN_EXTENSION"]]);function s(e) {
      return Object.values(t).includes(e);
    }!function (t) {
      t[t.UNKNOWN = 0] = "UNKNOWN", t[t.URL = 1] = "URL";
    }(e || (e = {})), function (t) {
      t[t.SCAN_TYPE_CAMERA = 0] = "SCAN_TYPE_CAMERA", t[t.SCAN_TYPE_FILE = 1] = "SCAN_TYPE_FILE";
    }(i || (i = {}));var a,
        c = function () {
      function t() {}return t.GITHUB_PROJECT_URL = "https://github.com/mebjas/html5-qrcode", t.SCAN_DEFAULT_FPS = 2, t.DEFAULT_DISABLE_FLIP = !1, t.DEFAULT_REMEMBER_LAST_CAMERA_USED = !0, t.DEFAULT_SUPPORTED_SCAN_TYPE = [i.SCAN_TYPE_CAMERA, i.SCAN_TYPE_FILE], t;
    }(),
        l = function () {
      function t(t, e) {
        this.format = t, this.formatName = e;
      }return t.prototype.toString = function () {
        return this.formatName;
      }, t.create = function (e) {
        if (!o.has(e)) throw "".concat(e, " not in html5QrcodeSupportedFormatsTextMap");return new t(e, o.get(e));
      }, t;
    }(),
        h = function () {
      function t() {}return t.createFromText = function (t) {
        return { decodedText: t, result: { text: t } };
      }, t.createFromQrcodeResult = function (t) {
        return { decodedText: t.text, result: t };
      }, t;
    }();!function (t) {
      t[t.UNKWOWN_ERROR = 0] = "UNKWOWN_ERROR", t[t.IMPLEMENTATION_ERROR = 1] = "IMPLEMENTATION_ERROR", t[t.NO_CODE_FOUND_ERROR = 2] = "NO_CODE_FOUND_ERROR";
    }(a || (a = {}));var u = function () {
      function t() {}return t.createFrom = function (t) {
        return { errorMessage: t, type: a.UNKWOWN_ERROR };
      }, t;
    }(),
        d = function () {
      function t(t) {
        this.verbose = t;
      }return t.prototype.log = function (t) {
        this.verbose && console.log(t);
      }, t.prototype.warn = function (t) {
        this.verbose && console.warn(t);
      }, t.prototype.logError = function (t, e) {
        (this.verbose || !0 === e) && console.error(t);
      }, t.prototype.logErrors = function (t) {
        if (0 === t.length) throw "Logger#logError called without arguments";this.verbose && console.error(t);
      }, t;
    }();function f(t) {
      return null == t;
    }var _g4,
        w,
        m = function () {
      function t() {}return t.codeParseError = function (t) {
        return "QR code parse error, error = ".concat(t);
      }, t.errorGettingUserMedia = function (t) {
        return "Error getting userMedia, error = ".concat(t);
      }, t.onlyDeviceSupportedError = function () {
        return "The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string).";
      }, t.cameraStreamingNotSupported = function () {
        return "Camera streaming not supported by the browser.";
      }, t.unableToQuerySupportedDevices = function () {
        return "Unable to query supported devices, unknown error.";
      }, t.insecureContextCameraQueryError = function () {
        return "Camera access is only supported in secure context like https or localhost.";
      }, t.scannerPaused = function () {
        return "Scanner paused";
      }, t;
    }(),
        p = function () {
      function t() {}return t.scanningStatus = function () {
        return "Scanning";
      }, t.idleStatus = function () {
        return "Idle";
      }, t.errorStatus = function () {
        return "Error";
      }, t.permissionStatus = function () {
        return "Permission";
      }, t.noCameraFoundErrorStatus = function () {
        return "No Cameras";
      }, t.lastMatch = function (t) {
        return "Last Match: ".concat(t);
      }, t.codeScannerTitle = function () {
        return "Code Scanner";
      }, t.cameraPermissionTitle = function () {
        return "Request Camera Permissions";
      }, t.cameraPermissionRequesting = function () {
        return "Requesting camera permissions...";
      }, t.noCameraFound = function () {
        return "No camera found";
      }, t.scanButtonStopScanningText = function () {
        return "Stop Scanning";
      }, t.scanButtonStartScanningText = function () {
        return "Start Scanning";
      }, t.torchOnButton = function () {
        return "Switch On Torch";
      }, t.torchOffButton = function () {
        return "Switch Off Torch";
      }, t.torchOnFailedMessage = function () {
        return "Failed to turn on torch";
      }, t.torchOffFailedMessage = function () {
        return "Failed to turn off torch";
      }, t.scanButtonScanningStarting = function () {
        return "Launching Camera...";
      }, t.textIfCameraScanSelected = function () {
        return "Scan an Image File";
      }, t.textIfFileScanSelected = function () {
        return "Scan using camera directly";
      }, t.selectCamera = function () {
        return "Select Camera";
      }, t.fileSelectionChooseImage = function () {
        return "Choose Image";
      }, t.fileSelectionChooseAnother = function () {
        return "Choose Another";
      }, t.fileSelectionNoImageSelected = function () {
        return "No image choosen";
      }, t.anonymousCameraPrefix = function () {
        return "Anonymous Camera";
      }, t.dragAndDropMessage = function () {
        return "Or drop an image to scan";
      }, t.dragAndDropMessageOnlyImages = function () {
        return "Or drop an image to scan (other files not supported)";
      }, t.zoom = function () {
        return "zoom";
      }, t.loadingImage = function () {
        return "Loading image...";
      }, t.cameraScanAltText = function () {
        return "Camera based scan";
      }, t.fileScanAltText = function () {
        return "Fule based scan";
      }, t;
    }(),
        A = function () {
      function t() {}return t.poweredBy = function () {
        return "Powered by ";
      }, t.reportIssues = function () {
        return "Report issues";
      }, t;
    }(),
        C = function () {
      function t() {}return t.isMediaStreamConstraintsValid = function (t, e) {
        if ("object" != (typeof t === "undefined" ? "undefined" : _typeof(t))) {
          var r = typeof t === "undefined" ? "undefined" : _typeof(t);return e.logError("videoConstraints should be of type object, the " + "object passed is of type ".concat(r, "."), !0), !1;
        }for (var n = new Set(["autoGainControl", "channelCount", "echoCancellation", "latency", "noiseSuppression", "sampleRate", "sampleSize", "volume"]), i = 0, o = Object.keys(t); i < o.length; i++) {
          var s = o[i];if (n.has(s)) return e.logError("".concat(s, " is not supported videoConstaints."), !0), !1;
        }return !0;
      }, t;
    }(),
        E = r(449),
        I = function () {
      function e(e, r, n) {
        if (this.formatMap = new Map([[t.QR_CODE, E.BarcodeFormat.QR_CODE], [t.AZTEC, E.BarcodeFormat.AZTEC], [t.CODABAR, E.BarcodeFormat.CODABAR], [t.CODE_39, E.BarcodeFormat.CODE_39], [t.CODE_93, E.BarcodeFormat.CODE_93], [t.CODE_128, E.BarcodeFormat.CODE_128], [t.DATA_MATRIX, E.BarcodeFormat.DATA_MATRIX], [t.MAXICODE, E.BarcodeFormat.MAXICODE], [t.ITF, E.BarcodeFormat.ITF], [t.EAN_13, E.BarcodeFormat.EAN_13], [t.EAN_8, E.BarcodeFormat.EAN_8], [t.PDF_417, E.BarcodeFormat.PDF_417], [t.RSS_14, E.BarcodeFormat.RSS_14], [t.RSS_EXPANDED, E.BarcodeFormat.RSS_EXPANDED], [t.UPC_A, E.BarcodeFormat.UPC_A], [t.UPC_E, E.BarcodeFormat.UPC_E], [t.UPC_EAN_EXTENSION, E.BarcodeFormat.UPC_EAN_EXTENSION]]), this.reverseFormatMap = this.createReverseFormatMap(), !E) throw "Use html5qrcode.min.js without edit, ZXing not found.";this.verbose = r, this.logger = n;var i = this.createZXingFormats(e),
            o = new Map();o.set(E.DecodeHintType.POSSIBLE_FORMATS, i), o.set(E.DecodeHintType.TRY_HARDER, !1), this.hints = o;
      }return e.prototype.decodeAsync = function (t) {
        var e = this;return new Promise(function (r, n) {
          try {
            r(e.decode(t));
          } catch (t) {
            n(t);
          }
        });
      }, e.prototype.decode = function (t) {
        var e = new E.MultiFormatReader(this.verbose, this.hints),
            r = new E.HTMLCanvasElementLuminanceSource(t),
            n = new E.BinaryBitmap(new E.HybridBinarizer(r)),
            i = e.decode(n);return { text: i.text, format: l.create(this.toHtml5QrcodeSupportedFormats(i.format)), debugData: this.createDebugData() };
      }, e.prototype.createReverseFormatMap = function () {
        var t = new Map();return this.formatMap.forEach(function (e, r, n) {
          t.set(e, r);
        }), t;
      }, e.prototype.toHtml5QrcodeSupportedFormats = function (t) {
        if (!this.reverseFormatMap.has(t)) throw "reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t);
      }, e.prototype.createZXingFormats = function (t) {
        for (var e = [], r = 0, n = t; r < n.length; r++) {
          var i = n[r];this.formatMap.has(i) ? e.push(this.formatMap.get(i)) : this.logger.logError("".concat(i, " is not supported by") + "ZXingHtml5QrcodeShim");
        }return e;
      }, e.prototype.createDebugData = function () {
        return { decoderName: "zxing-js" };
      }, e;
    }(),
        S = function () {
      function e(r, n, i) {
        if (this.formatMap = new Map([[t.QR_CODE, "qr_code"], [t.AZTEC, "aztec"], [t.CODABAR, "codabar"], [t.CODE_39, "code_39"], [t.CODE_93, "code_93"], [t.CODE_128, "code_128"], [t.DATA_MATRIX, "data_matrix"], [t.ITF, "itf"], [t.EAN_13, "ean_13"], [t.EAN_8, "ean_8"], [t.PDF_417, "pdf417"], [t.UPC_A, "upc_a"], [t.UPC_E, "upc_e"]]), this.reverseFormatMap = this.createReverseFormatMap(), !e.isSupported()) throw "Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose = n, this.logger = i;var o = this.createBarcodeDetectorFormats(r);if (this.detector = new BarcodeDetector(o), !this.detector) throw "BarcodeDetector detector not supported";
      }return e.isSupported = function () {
        return "BarcodeDetector" in window && void 0 !== new BarcodeDetector({ formats: ["qr_code"] });
      }, e.prototype.decodeAsync = function (t) {
        return e = this, r = void 0, i = function i() {
          var e, r;return function (t, e) {
            var r,
                n,
                i,
                o,
                s = { label: 0, sent: function sent() {
                if (1 & i[0]) throw i[1];return i[1];
              }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
              return this;
            }), o;function a(a) {
              return function (c) {
                return function (a) {
                  if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
                    try {
                      if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                          i = a;break;case 4:
                          return s.label++, { value: a[1], done: !1 };case 5:
                          s.label++, n = a[1], a = [0];continue;case 7:
                          a = s.ops.pop(), s.trys.pop();continue;default:
                          if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                            s = 0;continue;
                          }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                            s.label = a[1];break;
                          }if (6 === a[0] && s.label < i[1]) {
                            s.label = i[1], i = a;break;
                          }if (i && s.label < i[2]) {
                            s.label = i[2], s.ops.push(a);break;
                          }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
                    } catch (t) {
                      a = [6, t], n = 0;
                    } finally {
                      r = i = 0;
                    }
                  }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
                }([a, c]);
              };
            }
          }(this, function (n) {
            switch (n.label) {case 0:
                return [4, this.detector.detect(t)];case 1:
                if (!(e = n.sent()) || 0 === e.length) throw "No barcode or QR code detected.";return [2, { text: (r = this.selectLargestBarcode(e)).rawValue, format: l.create(this.toHtml5QrcodeSupportedFormats(r.format)), debugData: this.createDebugData() }];}
          });
        }, new ((n = void 0) || (n = Promise))(function (t, o) {
          function s(t) {
            try {
              c(i.next(t));
            } catch (t) {
              o(t);
            }
          }function a(t) {
            try {
              c(i.throw(t));
            } catch (t) {
              o(t);
            }
          }function c(e) {
            var r;e.done ? t(e.value) : (r = e.value, r instanceof n ? r : new n(function (t) {
              t(r);
            })).then(s, a);
          }c((i = i.apply(e, r || [])).next());
        });var e, r, n, i;
      }, e.prototype.selectLargestBarcode = function (t) {
        for (var e = null, r = 0, n = 0, i = t; n < i.length; n++) {
          var o = i[n],
              s = o.boundingBox.width * o.boundingBox.height;s > r && (r = s, e = o);
        }if (!e) throw "No largest barcode found";return e;
      }, e.prototype.createBarcodeDetectorFormats = function (t) {
        for (var e = [], r = 0, n = t; r < n.length; r++) {
          var i = n[r];this.formatMap.has(i) ? e.push(this.formatMap.get(i)) : this.logger.warn("".concat(i, " is not supported by") + "BarcodeDetectorDelegate");
        }return { formats: e };
      }, e.prototype.toHtml5QrcodeSupportedFormats = function (t) {
        if (!this.reverseFormatMap.has(t)) throw "reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t);
      }, e.prototype.createReverseFormatMap = function () {
        var t = new Map();return this.formatMap.forEach(function (e, r, n) {
          t.set(e, r);
        }), t;
      }, e.prototype.createDebugData = function () {
        return { decoderName: "BarcodeDetector" };
      }, e;
    }(),
        _ = function _(t, e, r, n) {
      return new (r || (r = Promise))(function (i, o) {
        function s(t) {
          try {
            c(n.next(t));
          } catch (t) {
            o(t);
          }
        }function a(t) {
          try {
            c(n.throw(t));
          } catch (t) {
            o(t);
          }
        }function c(t) {
          var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
            t(e);
          })).then(s, a);
        }c((n = n.apply(t, e || [])).next());
      });
    },
        T = function T(t, e) {
      var r,
          n,
          i,
          o,
          s = { label: 0, sent: function sent() {
          if (1 & i[0]) throw i[1];return i[1];
        }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
        return this;
      }), o;function a(a) {
        return function (c) {
          return function (a) {
            if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
              try {
                if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                    i = a;break;case 4:
                    return s.label++, { value: a[1], done: !1 };case 5:
                    s.label++, n = a[1], a = [0];continue;case 7:
                    a = s.ops.pop(), s.trys.pop();continue;default:
                    if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                      s = 0;continue;
                    }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                      s.label = a[1];break;
                    }if (6 === a[0] && s.label < i[1]) {
                      s.label = i[1], i = a;break;
                    }if (i && s.label < i[2]) {
                      s.label = i[2], s.ops.push(a);break;
                    }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
              } catch (t) {
                a = [6, t], n = 0;
              } finally {
                r = i = 0;
              }
            }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
          }([a, c]);
        };
      }
    },
        y = function () {
      function t(t, e, r, n) {
        this.EXECUTIONS_TO_REPORT_PERFORMANCE = 100, this.executions = 0, this.executionResults = [], this.wasPrimaryDecoderUsedInLastDecode = !1, this.verbose = r, e && S.isSupported() ? (this.primaryDecoder = new S(t, r, n), this.secondaryDecoder = new I(t, r, n)) : this.primaryDecoder = new I(t, r, n);
      }return t.prototype.decodeAsync = function (t) {
        return _(this, void 0, void 0, function () {
          var e;return T(this, function (r) {
            switch (r.label) {case 0:
                e = performance.now(), r.label = 1;case 1:
                return r.trys.push([1,, 3, 4]), [4, this.getDecoder().decodeAsync(t)];case 2:
                return [2, r.sent()];case 3:
                return this.possiblyLogPerformance(e), [7];case 4:
                return [2];}
          });
        });
      }, t.prototype.decodeRobustlyAsync = function (t) {
        return _(this, void 0, void 0, function () {
          var e, r;return T(this, function (n) {
            switch (n.label) {case 0:
                e = performance.now(), n.label = 1;case 1:
                return n.trys.push([1, 3, 4, 5]), [4, this.primaryDecoder.decodeAsync(t)];case 2:
                return [2, n.sent()];case 3:
                if (r = n.sent(), this.secondaryDecoder) return [2, this.secondaryDecoder.decodeAsync(t)];throw r;case 4:
                return this.possiblyLogPerformance(e), [7];case 5:
                return [2];}
          });
        });
      }, t.prototype.getDecoder = function () {
        return this.secondaryDecoder ? !1 === this.wasPrimaryDecoderUsedInLastDecode ? (this.wasPrimaryDecoderUsedInLastDecode = !0, this.primaryDecoder) : (this.wasPrimaryDecoderUsedInLastDecode = !1, this.secondaryDecoder) : this.primaryDecoder;
      }, t.prototype.possiblyLogPerformance = function (t) {
        if (this.verbose) {
          var e = performance.now() - t;this.executionResults.push(e), this.executions++, this.possiblyFlushPerformanceReport();
        }
      }, t.prototype.possiblyFlushPerformanceReport = function () {
        if (!(this.executions < this.EXECUTIONS_TO_REPORT_PERFORMANCE)) {
          for (var t = 0, e = 0, r = this.executionResults; e < r.length; e++) {
            t += r[e];
          }var n = t / this.executionResults.length;console.log("".concat(n, " ms for ").concat(this.executionResults.length, " last runs.")), this.executions = 0, this.executionResults = [];
        }
      }, t;
    }(),
        N = (_g4 = function g(t, e) {
      return _g4 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) {
        t.__proto__ = e;
      } || function (t, e) {
        for (var r in e) {
          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
        }
      }, _g4(t, e);
    }, function (t, e) {
      if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");function r() {
        this.constructor = t;
      }_g4(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());
    }),
        D = function D(t, e, r, n) {
      return new (r || (r = Promise))(function (i, o) {
        function s(t) {
          try {
            c(n.next(t));
          } catch (t) {
            o(t);
          }
        }function a(t) {
          try {
            c(n.throw(t));
          } catch (t) {
            o(t);
          }
        }function c(t) {
          var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
            t(e);
          })).then(s, a);
        }c((n = n.apply(t, e || [])).next());
      });
    },
        M = function M(t, e) {
      var r,
          n,
          i,
          o,
          s = { label: 0, sent: function sent() {
          if (1 & i[0]) throw i[1];return i[1];
        }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
        return this;
      }), o;function a(a) {
        return function (c) {
          return function (a) {
            if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
              try {
                if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                    i = a;break;case 4:
                    return s.label++, { value: a[1], done: !1 };case 5:
                    s.label++, n = a[1], a = [0];continue;case 7:
                    a = s.ops.pop(), s.trys.pop();continue;default:
                    if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                      s = 0;continue;
                    }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                      s.label = a[1];break;
                    }if (6 === a[0] && s.label < i[1]) {
                      s.label = i[1], i = a;break;
                    }if (i && s.label < i[2]) {
                      s.label = i[2], s.ops.push(a);break;
                    }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
              } catch (t) {
                a = [6, t], n = 0;
              } finally {
                r = i = 0;
              }
            }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
          }([a, c]);
        };
      }
    },
        R = function () {
      function t(t, e) {
        this.name = t, this.track = e;
      }return t.prototype.isSupported = function () {
        return !!this.track.getCapabilities && this.name in this.track.getCapabilities();
      }, t.prototype.apply = function (t) {
        var e = {};e[this.name] = t;var r = { advanced: [e] };return this.track.applyConstraints(r);
      }, t.prototype.value = function () {
        var t = this.track.getSettings();return this.name in t ? t[this.name] : null;
      }, t;
    }(),
        O = function (t) {
      function e(e) {
        return t.call(this, "zoom", e) || this;
      }return N(e, t), e;
    }(function (t) {
      function e(e, r) {
        return t.call(this, e, r) || this;
      }return N(e, t), e.prototype.min = function () {
        return this.getCapabilities().min;
      }, e.prototype.max = function () {
        return this.getCapabilities().max;
      }, e.prototype.step = function () {
        return this.getCapabilities().step;
      }, e.prototype.apply = function (t) {
        var e = {};e[this.name] = t;var r = { advanced: [e] };return this.track.applyConstraints(r);
      }, e.prototype.getCapabilities = function () {
        this.failIfNotSupported();var t = this.track.getCapabilities()[this.name];return { min: t.min, max: t.max, step: t.step };
      }, e.prototype.failIfNotSupported = function () {
        if (!this.isSupported()) throw new Error("".concat(this.name, " capability not supported"));
      }, e;
    }(R)),
        b = function (t) {
      function e(e) {
        return t.call(this, "torch", e) || this;
      }return N(e, t), e;
    }(R),
        B = function () {
      function t(t) {
        this.track = t;
      }return t.prototype.zoomFeature = function () {
        return new O(this.track);
      }, t.prototype.torchFeature = function () {
        return new b(this.track);
      }, t;
    }(),
        L = function () {
      function t(t, e, r) {
        this.isClosed = !1, this.parentElement = t, this.mediaStream = e, this.callbacks = r, this.surface = this.createVideoElement(this.parentElement.clientWidth), t.append(this.surface);
      }return t.prototype.createVideoElement = function (t) {
        var e = document.createElement("video");return e.style.width = "".concat(t, "px"), e.style.display = "block", e.muted = !0, e.setAttribute("muted", "true"), e.playsInline = !0, e;
      }, t.prototype.setupSurface = function () {
        var t = this;this.surface.onabort = function () {
          throw "RenderedCameraImpl video surface onabort() called";
        }, this.surface.onerror = function () {
          throw "RenderedCameraImpl video surface onerror() called";
        };var e = function e() {
          var r = t.surface.clientWidth,
              n = t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r, n), t.surface.removeEventListener("playing", e);
        };this.surface.addEventListener("playing", e), this.surface.srcObject = this.mediaStream, this.surface.play();
      }, t.create = function (e, r, n, i) {
        return D(this, void 0, void 0, function () {
          var o, s;return M(this, function (a) {
            switch (a.label) {case 0:
                return o = new t(e, r, i), n.aspectRatio ? (s = { aspectRatio: n.aspectRatio }, [4, o.getFirstTrackOrFail().applyConstraints(s)]) : [3, 2];case 1:
                a.sent(), a.label = 2;case 2:
                return o.setupSurface(), [2, o];}
          });
        });
      }, t.prototype.failIfClosed = function () {
        if (this.isClosed) throw "The RenderedCamera has already been closed.";
      }, t.prototype.getFirstTrackOrFail = function () {
        if (this.failIfClosed(), 0 === this.mediaStream.getVideoTracks().length) throw "No video tracks found";return this.mediaStream.getVideoTracks()[0];
      }, t.prototype.pause = function () {
        this.failIfClosed(), this.surface.pause();
      }, t.prototype.resume = function (t) {
        this.failIfClosed();var e = this,
            r = function r() {
          setTimeout(t, 200), e.surface.removeEventListener("playing", r);
        };this.surface.addEventListener("playing", r), this.surface.play();
      }, t.prototype.isPaused = function () {
        return this.failIfClosed(), this.surface.paused;
      }, t.prototype.getSurface = function () {
        return this.failIfClosed(), this.surface;
      }, t.prototype.getRunningTrackCapabilities = function () {
        return this.getFirstTrackOrFail().getCapabilities();
      }, t.prototype.getRunningTrackSettings = function () {
        return this.getFirstTrackOrFail().getSettings();
      }, t.prototype.applyVideoConstraints = function (t) {
        return D(this, void 0, void 0, function () {
          return M(this, function (e) {
            if ("aspectRatio" in t) throw "Changing 'aspectRatio' in run-time is not yet supported.";return [2, this.getFirstTrackOrFail().applyConstraints(t)];
          });
        });
      }, t.prototype.close = function () {
        if (this.isClosed) return Promise.resolve();var t = this;return new Promise(function (e, r) {
          var n = t.mediaStream.getVideoTracks().length,
              i = 0;t.mediaStream.getVideoTracks().forEach(function (r) {
            t.mediaStream.removeTrack(r), r.stop(), ++i >= n && (t.isClosed = !0, t.parentElement.removeChild(t.surface), e());
          });
        });
      }, t.prototype.getCapabilities = function () {
        return new B(this.getFirstTrackOrFail());
      }, t;
    }(),
        P = function () {
      function t(t) {
        this.mediaStream = t;
      }return t.prototype.render = function (t, e, r) {
        return D(this, void 0, void 0, function () {
          return M(this, function (n) {
            return [2, L.create(t, this.mediaStream, e, r)];
          });
        });
      }, t.create = function (e) {
        return D(this, void 0, void 0, function () {
          var r;return M(this, function (n) {
            switch (n.label) {case 0:
                if (!navigator.mediaDevices) throw "navigator.mediaDevices not supported";return r = { audio: !1, video: e }, [4, navigator.mediaDevices.getUserMedia(r)];case 1:
                return [2, new t(n.sent())];}
          });
        });
      }, t;
    }(),
        v = function v(t, e, r, n) {
      return new (r || (r = Promise))(function (i, o) {
        function s(t) {
          try {
            c(n.next(t));
          } catch (t) {
            o(t);
          }
        }function a(t) {
          try {
            c(n.throw(t));
          } catch (t) {
            o(t);
          }
        }function c(t) {
          var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
            t(e);
          })).then(s, a);
        }c((n = n.apply(t, e || [])).next());
      });
    },
        F = function F(t, e) {
      var r,
          n,
          i,
          o,
          s = { label: 0, sent: function sent() {
          if (1 & i[0]) throw i[1];return i[1];
        }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
        return this;
      }), o;function a(a) {
        return function (c) {
          return function (a) {
            if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
              try {
                if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                    i = a;break;case 4:
                    return s.label++, { value: a[1], done: !1 };case 5:
                    s.label++, n = a[1], a = [0];continue;case 7:
                    a = s.ops.pop(), s.trys.pop();continue;default:
                    if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                      s = 0;continue;
                    }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                      s.label = a[1];break;
                    }if (6 === a[0] && s.label < i[1]) {
                      s.label = i[1], i = a;break;
                    }if (i && s.label < i[2]) {
                      s.label = i[2], s.ops.push(a);break;
                    }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
              } catch (t) {
                a = [6, t], n = 0;
              } finally {
                r = i = 0;
              }
            }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
          }([a, c]);
        };
      }
    },
        x = function () {
      function t() {}return t.failIfNotSupported = function () {
        return v(this, void 0, void 0, function () {
          return F(this, function (e) {
            if (!navigator.mediaDevices) throw "navigator.mediaDevices not supported";return [2, new t()];
          });
        });
      }, t.prototype.create = function (t) {
        return v(this, void 0, void 0, function () {
          return F(this, function (e) {
            return [2, P.create(t)];
          });
        });
      }, t;
    }(),
        k = function () {
      function t() {}return t.retrieve = function () {
        if (navigator.mediaDevices) return t.getCamerasFromMediaDevices();var e = MediaStreamTrack;return MediaStreamTrack && e.getSources ? t.getCamerasFromMediaStreamTrack() : t.rejectWithError();
      }, t.rejectWithError = function () {
        var e = m.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost() || (e = m.insecureContextCameraQueryError()), Promise.reject(e);
      }, t.isHttpsOrLocalhost = function () {
        if ("https:" === location.protocol) return !0;var t = location.host.split(":")[0];return "127.0.0.1" === t || "localhost" === t;
      }, t.getCamerasFromMediaDevices = function () {
        return t = this, e = void 0, n = function n() {
          var t, e, r, n, i, o, s;return function (t, e) {
            var r,
                n,
                i,
                o,
                s = { label: 0, sent: function sent() {
                if (1 & i[0]) throw i[1];return i[1];
              }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
              return this;
            }), o;function a(a) {
              return function (c) {
                return function (a) {
                  if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
                    try {
                      if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                          i = a;break;case 4:
                          return s.label++, { value: a[1], done: !1 };case 5:
                          s.label++, n = a[1], a = [0];continue;case 7:
                          a = s.ops.pop(), s.trys.pop();continue;default:
                          if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                            s = 0;continue;
                          }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                            s.label = a[1];break;
                          }if (6 === a[0] && s.label < i[1]) {
                            s.label = i[1], i = a;break;
                          }if (i && s.label < i[2]) {
                            s.label = i[2], s.ops.push(a);break;
                          }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
                    } catch (t) {
                      a = [6, t], n = 0;
                    } finally {
                      r = i = 0;
                    }
                  }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
                }([a, c]);
              };
            }
          }(this, function (a) {
            switch (a.label) {case 0:
                return t = function t(_t232) {
                  for (var e = 0, r = _t232.getVideoTracks(); e < r.length; e++) {
                    var n = r[e];n.enabled = !1, n.stop(), _t232.removeTrack(n);
                  }
                }, [4, navigator.mediaDevices.getUserMedia({ audio: !1, video: !0 })];case 1:
                return e = a.sent(), [4, navigator.mediaDevices.enumerateDevices()];case 2:
                for (r = a.sent(), n = [], i = 0, o = r; i < o.length; i++) {
                  "videoinput" === (s = o[i]).kind && n.push({ id: s.deviceId, label: s.label });
                }return t(e), [2, n];}
          });
        }, new ((r = void 0) || (r = Promise))(function (i, o) {
          function s(t) {
            try {
              c(n.next(t));
            } catch (t) {
              o(t);
            }
          }function a(t) {
            try {
              c(n.throw(t));
            } catch (t) {
              o(t);
            }
          }function c(t) {
            var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
              t(e);
            })).then(s, a);
          }c((n = n.apply(t, e || [])).next());
        });var t, e, r, n;
      }, t.getCamerasFromMediaStreamTrack = function () {
        return new Promise(function (t, e) {
          MediaStreamTrack.getSources(function (e) {
            for (var r = [], n = 0, i = e; n < i.length; n++) {
              var o = i[n];"video" === o.kind && r.push({ id: o.id, label: o.label });
            }t(r);
          });
        });
      }, t;
    }();!function (t) {
      t[t.UNKNOWN = 0] = "UNKNOWN", t[t.NOT_STARTED = 1] = "NOT_STARTED", t[t.SCANNING = 2] = "SCANNING", t[t.PAUSED = 3] = "PAUSED";
    }(w || (w = {}));var U,
        H = function () {
      function t() {
        this.state = w.NOT_STARTED, this.onGoingTransactionNewState = w.UNKNOWN;
      }return t.prototype.directTransition = function (t) {
        this.failIfTransitionOngoing(), this.validateTransition(t), this.state = t;
      }, t.prototype.startTransition = function (t) {
        return this.failIfTransitionOngoing(), this.validateTransition(t), this.onGoingTransactionNewState = t, this;
      }, t.prototype.execute = function () {
        if (this.onGoingTransactionNewState === w.UNKNOWN) throw "Transaction is already cancelled, cannot execute().";var t = this.onGoingTransactionNewState;this.onGoingTransactionNewState = w.UNKNOWN, this.directTransition(t);
      }, t.prototype.cancel = function () {
        if (this.onGoingTransactionNewState === w.UNKNOWN) throw "Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState = w.UNKNOWN;
      }, t.prototype.getState = function () {
        return this.state;
      }, t.prototype.failIfTransitionOngoing = function () {
        if (this.onGoingTransactionNewState !== w.UNKNOWN) throw "Cannot transition to a new state, already under transition";
      }, t.prototype.validateTransition = function (t) {
        switch (this.state) {case w.UNKNOWN:
            throw "Transition from unknown is not allowed";case w.NOT_STARTED:
            this.failIfNewStateIs(t, [w.PAUSED]);case w.SCANNING:case w.PAUSED:}
      }, t.prototype.failIfNewStateIs = function (t, e) {
        for (var r = 0, n = e; r < n.length; r++) {
          if (t === n[r]) throw "Cannot transition from ".concat(this.state, " to ").concat(t);
        }
      }, t;
    }(),
        V = function () {
      function t(t) {
        this.stateManager = t;
      }return t.prototype.startTransition = function (t) {
        return this.stateManager.startTransition(t);
      }, t.prototype.directTransition = function (t) {
        this.stateManager.directTransition(t);
      }, t.prototype.getState = function () {
        return this.stateManager.getState();
      }, t.prototype.canScanFile = function () {
        return this.stateManager.getState() === w.NOT_STARTED;
      }, t.prototype.isScanning = function () {
        return this.stateManager.getState() !== w.NOT_STARTED;
      }, t.prototype.isStrictlyScanning = function () {
        return this.stateManager.getState() === w.SCANNING;
      }, t.prototype.isPaused = function () {
        return this.stateManager.getState() === w.PAUSED;
      }, t;
    }(),
        z = function () {
      function t() {}return t.create = function () {
        return new V(new H());
      }, t;
    }(),
        G = function () {
      var _t233 = function t(e, r) {
        return _t233 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, e) {
          t.__proto__ = e;
        } || function (t, e) {
          for (var r in e) {
            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
          }
        }, _t233(e, r);
      };return function (e, r) {
        if ("function" != typeof r && null !== r) throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");function n() {
          this.constructor = e;
        }_t233(e, r), e.prototype = null === r ? Object.create(r) : (n.prototype = r.prototype, new n());
      };
    }(),
        Y = function (t) {
      function e() {
        return null !== t && t.apply(this, arguments) || this;
      }return G(e, t), e.DEFAULT_WIDTH = 300, e.DEFAULT_WIDTH_OFFSET = 2, e.FILE_SCAN_MIN_HEIGHT = 300, e.FILE_SCAN_HIDDEN_CANVAS_PADDING = 100, e.MIN_QR_BOX_SIZE = 50, e.SHADED_LEFT = 1, e.SHADED_RIGHT = 2, e.SHADED_TOP = 3, e.SHADED_BOTTOM = 4, e.SHADED_REGION_ELEMENT_ID = "qr-shaded-region", e.VERBOSE = !1, e.BORDER_SHADER_DEFAULT_COLOR = "#ffffff", e.BORDER_SHADER_MATCH_COLOR = "rgb(90, 193, 56)", e;
    }(c),
        X = function () {
      function t(t, e) {
        this.logger = e, this.fps = Y.SCAN_DEFAULT_FPS, t ? (t.fps && (this.fps = t.fps), this.disableFlip = !0 === t.disableFlip, this.qrbox = t.qrbox, this.aspectRatio = t.aspectRatio, this.videoConstraints = t.videoConstraints) : this.disableFlip = Y.DEFAULT_DISABLE_FLIP;
      }return t.prototype.isMediaStreamConstraintsValid = function () {
        return this.videoConstraints ? C.isMediaStreamConstraintsValid(this.videoConstraints, this.logger) : (this.logger.logError("Empty videoConstraints", !0), !1);
      }, t.prototype.isShadedBoxEnabled = function () {
        return !f(this.qrbox);
      }, t.create = function (e, r) {
        return new t(e, r);
      }, t;
    }(),
        W = function () {
      function e(t, e) {
        if (this.element = null, this.canvasElement = null, this.scannerPausedUiElement = null, this.hasBorderShaders = null, this.borderShaders = null, this.qrMatch = null, this.renderedCamera = null, this.qrRegion = null, this.context = null, this.lastScanImageFile = null, this.isScanning = !1, !document.getElementById(t)) throw "HTML Element with id=".concat(t, " not found");var r;this.elementId = t, this.verbose = !1, "boolean" == typeof e ? this.verbose = !0 === e : e && (r = e, this.verbose = !0 === r.verbose, r.experimentalFeatures), this.logger = new d(this.verbose), this.qrcode = new y(this.getSupportedFormats(e), this.getUseBarCodeDetectorIfSupported(r), this.verbose, this.logger), this.foreverScanTimeout, this.shouldScan = !0, this.stateManagerProxy = z.create();
      }return e.prototype.start = function (t, e, r, n) {
        var i,
            o = this;if (!t) throw "cameraIdOrConfig is required";if (!r || "function" != typeof r) throw "qrCodeSuccessCallback is required and should be a function.";i = n || (this.verbose ? this.logger.log : function () {});var s = X.create(e, this.logger);this.clearElement();var a = !1;s.videoConstraints && (s.isMediaStreamConstraintsValid() ? a = !0 : this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'", !0));var c = a,
            l = document.getElementById(this.elementId);l.clientWidth ? l.clientWidth : Y.DEFAULT_WIDTH, l.style.position = "relative", this.shouldScan = !0, this.element = l;var h = this,
            u = this.stateManagerProxy.startTransition(w.SCANNING);return new Promise(function (e, n) {
          var a = c ? s.videoConstraints : h.createVideoConstraints(t);if (!a) return u.cancel(), void n("videoConstraints should be defined");var l = {};c && !s.aspectRatio || (l.aspectRatio = s.aspectRatio);var d = { onRenderSurfaceReady: function onRenderSurfaceReady(t, e) {
              h.setupUi(t, e, s), h.isScanning = !0, h.foreverScan(s, r, i);
            } };x.failIfNotSupported().then(function (t) {
            t.create(a).then(function (t) {
              return t.render(o.element, l, d).then(function (t) {
                h.renderedCamera = t, u.execute(), e(null);
              }).catch(function (t) {
                u.cancel(), n(t);
              });
            }).catch(function (t) {
              u.cancel(), n(m.errorGettingUserMedia(t));
            });
          }).catch(function (t) {
            u.cancel(), n(m.cameraStreamingNotSupported());
          });
        });
      }, e.prototype.pause = function (t) {
        if (!this.stateManagerProxy.isStrictlyScanning()) throw "Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(w.PAUSED), this.showPausedState(), (f(t) || !0 !== t) && (t = !1), t && this.renderedCamera && this.renderedCamera.pause();
      }, e.prototype.resume = function () {
        if (!this.stateManagerProxy.isPaused()) throw "Cannot result, scanner is not paused.";if (!this.renderedCamera) throw "renderedCamera doesn't exist while trying resume()";var t = this,
            e = function e() {
          t.stateManagerProxy.directTransition(w.SCANNING), t.hidePausedState();
        };this.renderedCamera.isPaused() ? this.renderedCamera.resume(function () {
          e();
        }) : e();
      }, e.prototype.getState = function () {
        return this.stateManagerProxy.getState();
      }, e.prototype.stop = function () {
        var t = this;if (!this.stateManagerProxy.isScanning()) throw "Cannot stop, scanner is not running or paused.";var e = this.stateManagerProxy.startTransition(w.NOT_STARTED);this.shouldScan = !1, this.foreverScanTimeout && clearTimeout(this.foreverScanTimeout);var r = this;return this.renderedCamera.close().then(function () {
          return r.renderedCamera = null, r.element && (r.element.removeChild(r.canvasElement), r.canvasElement = null), function () {
            if (t.element) {
              var e = document.getElementById(Y.SHADED_REGION_ELEMENT_ID);e && t.element.removeChild(e);
            }
          }(), r.qrRegion && (r.qrRegion = null), r.context && (r.context = null), e.execute(), r.hidePausedState(), r.isScanning = !1, Promise.resolve();
        });
      }, e.prototype.scanFile = function (t, e) {
        return this.scanFileV2(t, e).then(function (t) {
          return t.decodedText;
        });
      }, e.prototype.scanFileV2 = function (t, e) {
        var r = this;if (!(t && t instanceof File)) throw "imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if (f(e) && (e = !0), !this.stateManagerProxy.canScanFile()) throw "Cannot start file scan - ongoing camera scan";return new Promise(function (n, i) {
          r.possiblyCloseLastScanImageFile(), r.clearElement(), r.lastScanImageFile = URL.createObjectURL(t);var o = new Image();o.onload = function () {
            var t = o.width,
                s = o.height,
                a = document.getElementById(r.elementId),
                c = a.clientWidth ? a.clientWidth : Y.DEFAULT_WIDTH,
                l = Math.max(a.clientHeight ? a.clientHeight : s, Y.FILE_SCAN_MIN_HEIGHT),
                u = r.computeCanvasDrawConfig(t, s, c, l);if (e) {
              var d = r.createCanvasElement(c, l, "qr-canvas-visible");d.style.display = "inline-block", a.appendChild(d);var f = d.getContext("2d");if (!f) throw "Unable to get 2d context from canvas";f.canvas.width = c, f.canvas.height = l, f.drawImage(o, 0, 0, t, s, u.x, u.y, u.width, u.height);
            }var g = Y.FILE_SCAN_HIDDEN_CANVAS_PADDING,
                w = Math.max(o.width, u.width),
                m = Math.max(o.height, u.height),
                p = w + 2 * g,
                A = m + 2 * g,
                C = r.createCanvasElement(p, A);a.appendChild(C);var E = C.getContext("2d");if (!E) throw "Unable to get 2d context from canvas";E.canvas.width = p, E.canvas.height = A, E.drawImage(o, 0, 0, t, s, g, g, w, m);try {
              r.qrcode.decodeRobustlyAsync(C).then(function (t) {
                n(h.createFromQrcodeResult(t));
              }).catch(i);
            } catch (t) {
              i("QR code parse error, error = ".concat(t));
            }
          }, o.onerror = i, o.onabort = i, o.onstalled = i, o.onsuspend = i, o.src = URL.createObjectURL(t);
        });
      }, e.prototype.clear = function () {
        this.clearElement();
      }, e.getCameras = function () {
        return k.retrieve();
      }, e.prototype.getRunningTrackCapabilities = function () {
        return this.getRenderedCameraOrFail().getRunningTrackCapabilities();
      }, e.prototype.getRunningTrackSettings = function () {
        return this.getRenderedCameraOrFail().getRunningTrackSettings();
      }, e.prototype.getRunningTrackCameraCapabilities = function () {
        return this.getRenderedCameraOrFail().getCapabilities();
      }, e.prototype.applyVideoConstraints = function (t) {
        if (!t) throw "videoConstaints is required argument.";if (!C.isMediaStreamConstraintsValid(t, this.logger)) throw "invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(t);
      }, e.prototype.getRenderedCameraOrFail = function () {
        if (null == this.renderedCamera) throw "Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera;
      }, e.prototype.getSupportedFormats = function (e) {
        var r = [t.QR_CODE, t.AZTEC, t.CODABAR, t.CODE_39, t.CODE_93, t.CODE_128, t.DATA_MATRIX, t.MAXICODE, t.ITF, t.EAN_13, t.EAN_8, t.PDF_417, t.RSS_14, t.RSS_EXPANDED, t.UPC_A, t.UPC_E, t.UPC_EAN_EXTENSION];if (!e || "boolean" == typeof e) return r;if (!e.formatsToSupport) return r;if (!Array.isArray(e.formatsToSupport)) throw "configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if (0 === e.formatsToSupport.length) throw "Atleast 1 formatsToSupport is needed.";for (var n = [], i = 0, o = e.formatsToSupport; i < o.length; i++) {
          var a = o[i];s(a) ? n.push(a) : this.logger.warn("Invalid format: ".concat(a, " passed in config, ignoring."));
        }if (0 === n.length) throw "None of formatsToSupport match supported values.";return n;
      }, e.prototype.getUseBarCodeDetectorIfSupported = function (t) {
        if (f(t)) return !0;if (!f(t.useBarCodeDetectorIfSupported)) return !1 !== t.useBarCodeDetectorIfSupported;if (f(t.experimentalFeatures)) return !0;var e = t.experimentalFeatures;return !!f(e.useBarCodeDetectorIfSupported) || !1 !== e.useBarCodeDetectorIfSupported;
      }, e.prototype.validateQrboxSize = function (t, e, r) {
        var n = r.qrbox;this.validateQrboxConfig(n);var i,
            o = this.toQrdimensions(t, e, n),
            s = function s(t) {
          if (t < Y.MIN_QR_BOX_SIZE) throw "minimum size of 'config.qrbox' dimension value is" + " ".concat(Y.MIN_QR_BOX_SIZE, "px.");
        };s(o.width), s(o.height), o.width = ((i = o.width) > t && (this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."), i = t), i);
      }, e.prototype.validateQrboxConfig = function (t) {
        if ("number" != typeof t && "function" != typeof t && (void 0 === t.width || void 0 === t.height)) throw "Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set.";
      }, e.prototype.toQrdimensions = function (t, e, r) {
        if ("number" == typeof r) return { width: r, height: r };if ("function" == typeof r) try {
          return r(t, e);
        } catch (t) {
          throw new Error("qrbox config was passed as a function but it failed with unknown error" + t);
        }return r;
      }, e.prototype.setupUi = function (t, e, r) {
        r.isShadedBoxEnabled() && this.validateQrboxSize(t, e, r);var n = f(r.qrbox) ? { width: t, height: e } : r.qrbox;this.validateQrboxConfig(n);var i = this.toQrdimensions(t, e, n);i.height > e && this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o = r.isShadedBoxEnabled() && i.height <= e,
            s = { x: 0, y: 0, width: t, height: e },
            a = o ? this.getShadedRegionBounds(t, e, i) : s,
            c = this.createCanvasElement(a.width, a.height),
            l = c.getContext("2d", { willReadFrequently: !0 });l.canvas.width = a.width, l.canvas.height = a.height, this.element.append(c), o && this.possiblyInsertShadingElement(this.element, t, e, i), this.createScannerPausedUiElement(this.element), this.qrRegion = a, this.context = l, this.canvasElement = c;
      }, e.prototype.createScannerPausedUiElement = function (t) {
        var e = document.createElement("div");e.innerText = m.scannerPaused(), e.style.display = "none", e.style.position = "absolute", e.style.top = "0px", e.style.zIndex = "1", e.style.background = "rgba(9, 9, 9, 0.46)", e.style.color = "#FFECEC", e.style.textAlign = "center", e.style.width = "100%", t.appendChild(e), this.scannerPausedUiElement = e;
      }, e.prototype.scanContext = function (t, e) {
        var r = this;return this.stateManagerProxy.isPaused() ? Promise.resolve(!1) : this.qrcode.decodeAsync(this.canvasElement).then(function (e) {
          return t(e.text, h.createFromQrcodeResult(e)), r.possiblyUpdateShaders(!0), !0;
        }).catch(function (t) {
          r.possiblyUpdateShaders(!1);var n = m.codeParseError(t);return e(n, u.createFrom(n)), !1;
        });
      }, e.prototype.foreverScan = function (t, e, r) {
        var n = this;if (this.shouldScan && this.renderedCamera) {
          var i = this.renderedCamera.getSurface(),
              o = i.videoWidth / i.clientWidth,
              s = i.videoHeight / i.clientHeight;if (!this.qrRegion) throw "qrRegion undefined when localMediaStream is ready.";var a = this.qrRegion.width * o,
              c = this.qrRegion.height * s,
              l = this.qrRegion.x * o,
              h = this.qrRegion.y * s;this.context.drawImage(i, l, h, a, c, 0, 0, this.qrRegion.width, this.qrRegion.height);var u = function u() {
            n.foreverScanTimeout = setTimeout(function () {
              n.foreverScan(t, e, r);
            }, n.getTimeoutFps(t.fps));
          };this.scanContext(e, r).then(function (i) {
            i || !0 === t.disableFlip ? u() : (n.context.translate(n.context.canvas.width, 0), n.context.scale(-1, 1), n.scanContext(e, r).finally(function () {
              u();
            }));
          }).catch(function (t) {
            n.logger.logError("Error happend while scanning context", t), u();
          });
        }
      }, e.prototype.createVideoConstraints = function (t) {
        if ("string" == typeof t) return { deviceId: { exact: t } };if ("object" == (typeof t === "undefined" ? "undefined" : _typeof(t))) {
          var e = "facingMode",
              r = "deviceId",
              n = { user: !0, environment: !0 },
              i = "exact",
              o = function o(t) {
            if (t in n) return !0;throw "config has invalid 'facingMode' value = " + "'".concat(t, "'");
          },
              s = Object.keys(t);if (1 !== s.length) throw "'cameraIdOrConfig' object should have exactly 1 key," + " if passed as an object, found ".concat(s.length, " keys");var a = Object.keys(t)[0];if (a !== e && a !== r) throw "Only '".concat(e, "' and '").concat(r, "' ") + " are supported for 'cameraIdOrConfig'";if (a !== e) {
            var c = t.deviceId;if ("string" == typeof c) return { deviceId: c };if ("object" == (typeof c === "undefined" ? "undefined" : _typeof(c))) {
              if (i in c) return { deviceId: { exact: c["".concat(i)] } };throw "'deviceId' should be string or object with" + " ".concat(i, " as key.");
            }throw "Invalid type of 'deviceId' = ".concat(typeof c === "undefined" ? "undefined" : _typeof(c));
          }var l = t.facingMode;if ("string" == typeof l) {
            if (o(l)) return { facingMode: l };
          } else {
            if ("object" != (typeof l === "undefined" ? "undefined" : _typeof(l))) throw "Invalid type of 'facingMode' = ".concat(typeof l === "undefined" ? "undefined" : _typeof(l));if (!(i in l)) throw "'facingMode' should be string or object with" + " ".concat(i, " as key.");if (o(l["".concat(i)])) return { facingMode: { exact: l["".concat(i)] } };
          }
        }throw "Invalid type of 'cameraIdOrConfig' = ".concat(typeof t === "undefined" ? "undefined" : _typeof(t));
      }, e.prototype.computeCanvasDrawConfig = function (t, e, r, n) {
        if (t <= r && e <= n) return { x: (r - t) / 2, y: (n - e) / 2, width: t, height: e };var i = t,
            o = e;return t > r && (e *= r / t, t = r), e > n && (t *= n / e, e = n), this.logger.log("Image downsampled from " + "".concat(i, "X").concat(o) + " to ".concat(t, "X").concat(e, ".")), this.computeCanvasDrawConfig(t, e, r, n);
      }, e.prototype.clearElement = function () {
        if (this.stateManagerProxy.isScanning()) throw "Cannot clear while scan is ongoing, close it first.";var t = document.getElementById(this.elementId);t && (t.innerHTML = "");
      }, e.prototype.possiblyUpdateShaders = function (t) {
        this.qrMatch !== t && (this.hasBorderShaders && this.borderShaders && this.borderShaders.length && this.borderShaders.forEach(function (e) {
          e.style.backgroundColor = t ? Y.BORDER_SHADER_MATCH_COLOR : Y.BORDER_SHADER_DEFAULT_COLOR;
        }), this.qrMatch = t);
      }, e.prototype.possiblyCloseLastScanImageFile = function () {
        this.lastScanImageFile && (URL.revokeObjectURL(this.lastScanImageFile), this.lastScanImageFile = null);
      }, e.prototype.createCanvasElement = function (t, e, r) {
        var n = t,
            i = e,
            o = document.createElement("canvas");return o.style.width = "".concat(n, "px"), o.style.height = "".concat(i, "px"), o.style.display = "none", o.id = f(r) ? "qr-canvas" : r, o;
      }, e.prototype.getShadedRegionBounds = function (t, e, r) {
        if (r.width > t || r.height > e) throw "'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return { x: (t - r.width) / 2, y: (e - r.height) / 2, width: r.width, height: r.height };
      }, e.prototype.possiblyInsertShadingElement = function (t, e, r, n) {
        if (!(e - n.width < 1 || r - n.height < 1)) {
          var i = document.createElement("div");i.style.position = "absolute";var o = (e - n.width) / 2,
              s = (r - n.height) / 2;if (i.style.borderLeft = "".concat(o, "px solid rgba(0, 0, 0, 0.48)"), i.style.borderRight = "".concat(o, "px solid rgba(0, 0, 0, 0.48)"), i.style.borderTop = "".concat(s, "px solid rgba(0, 0, 0, 0.48)"), i.style.borderBottom = "".concat(s, "px solid rgba(0, 0, 0, 0.48)"), i.style.boxSizing = "border-box", i.style.top = "0px", i.style.bottom = "0px", i.style.left = "0px", i.style.right = "0px", i.id = "".concat(Y.SHADED_REGION_ELEMENT_ID), e - n.width < 11 || r - n.height < 11) this.hasBorderShaders = !1;else {
            this.insertShaderBorders(i, 40, 5, -5, null, 0, !0), this.insertShaderBorders(i, 40, 5, -5, null, 0, !1), this.insertShaderBorders(i, 40, 5, null, -5, 0, !0), this.insertShaderBorders(i, 40, 5, null, -5, 0, !1), this.insertShaderBorders(i, 5, 45, -5, null, -5, !0), this.insertShaderBorders(i, 5, 45, null, -5, -5, !0), this.insertShaderBorders(i, 5, 45, -5, null, -5, !1), this.insertShaderBorders(i, 5, 45, null, -5, -5, !1), this.hasBorderShaders = !0;
          }t.append(i);
        }
      }, e.prototype.insertShaderBorders = function (t, e, r, n, i, o, s) {
        var a = document.createElement("div");a.style.position = "absolute", a.style.backgroundColor = Y.BORDER_SHADER_DEFAULT_COLOR, a.style.width = "".concat(e, "px"), a.style.height = "".concat(r, "px"), null !== n && (a.style.top = "".concat(n, "px")), null !== i && (a.style.bottom = "".concat(i, "px")), s ? a.style.left = "".concat(o, "px") : a.style.right = "".concat(o, "px"), this.borderShaders || (this.borderShaders = []), this.borderShaders.push(a), t.appendChild(a);
      }, e.prototype.showPausedState = function () {
        if (!this.scannerPausedUiElement) throw "[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display = "block";
      }, e.prototype.hidePausedState = function () {
        if (!this.scannerPausedUiElement) throw "[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display = "none";
      }, e.prototype.getTimeoutFps = function (t) {
        return 1e3 / t;
      }, e;
    }(),
        j = "data:image/svg+xml;base64,",
        Z = j + "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",
        Q = j + "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",
        K = j + "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",
        q = function () {
      function t() {}return t.createDefault = function () {
        return { hasPermission: !1, lastUsedCameraId: null };
      }, t;
    }(),
        J = function () {
      function t() {
        this.data = q.createDefault();var e = localStorage.getItem(t.LOCAL_STORAGE_KEY);e ? this.data = JSON.parse(e) : this.reset();
      }return t.prototype.hasCameraPermissions = function () {
        return this.data.hasPermission;
      }, t.prototype.getLastUsedCameraId = function () {
        return this.data.lastUsedCameraId;
      }, t.prototype.setHasPermission = function (t) {
        this.data.hasPermission = t, this.flush();
      }, t.prototype.setLastUsedCameraId = function (t) {
        this.data.lastUsedCameraId = t, this.flush();
      }, t.prototype.resetLastUsedCameraId = function () {
        this.data.lastUsedCameraId = null, this.flush();
      }, t.prototype.reset = function () {
        this.data = q.createDefault(), this.flush();
      }, t.prototype.flush = function () {
        localStorage.setItem(t.LOCAL_STORAGE_KEY, JSON.stringify(this.data));
      }, t.LOCAL_STORAGE_KEY = "HTML5_QRCODE_DATA", t;
    }(),
        $ = function () {
      function t() {
        this.infoDiv = document.createElement("div");
      }return t.prototype.renderInto = function (t) {
        this.infoDiv.style.position = "absolute", this.infoDiv.style.top = "10px", this.infoDiv.style.right = "10px", this.infoDiv.style.zIndex = "2", this.infoDiv.style.display = "none", this.infoDiv.style.padding = "5pt", this.infoDiv.style.border = "1px solid #171717", this.infoDiv.style.fontSize = "10pt", this.infoDiv.style.background = "rgb(0 0 0 / 69%)", this.infoDiv.style.borderRadius = "5px", this.infoDiv.style.textAlign = "center", this.infoDiv.style.fontWeight = "400", this.infoDiv.style.color = "white", this.infoDiv.innerText = A.poweredBy();var e = document.createElement("a");e.innerText = "ScanApp", e.href = "https://scanapp.org", e.target = "new", e.style.color = "white", this.infoDiv.appendChild(e);var r = document.createElement("br"),
            n = document.createElement("br");this.infoDiv.appendChild(r), this.infoDiv.appendChild(n);var i = document.createElement("a");i.innerText = A.reportIssues(), i.href = "https://github.com/mebjas/html5-qrcode/issues", i.target = "new", i.style.color = "white", this.infoDiv.appendChild(i), t.appendChild(this.infoDiv);
      }, t.prototype.show = function () {
        this.infoDiv.style.display = "block";
      }, t.prototype.hide = function () {
        this.infoDiv.style.display = "none";
      }, t;
    }(),
        tt = function () {
      function t(t, e) {
        this.isShowingInfoIcon = !0, this.onTapIn = t, this.onTapOut = e, this.infoIcon = document.createElement("img");
      }return t.prototype.renderInto = function (t) {
        var e = this;this.infoIcon.alt = "Info icon", this.infoIcon.src = K, this.infoIcon.style.position = "absolute", this.infoIcon.style.top = "4px", this.infoIcon.style.right = "4px", this.infoIcon.style.opacity = "0.6", this.infoIcon.style.cursor = "pointer", this.infoIcon.style.zIndex = "2", this.infoIcon.style.width = "16px", this.infoIcon.style.height = "16px", this.infoIcon.onmouseover = function (t) {
          return e.onHoverIn();
        }, this.infoIcon.onmouseout = function (t) {
          return e.onHoverOut();
        }, this.infoIcon.onclick = function (t) {
          return e.onClick();
        }, t.appendChild(this.infoIcon);
      }, t.prototype.onHoverIn = function () {
        this.isShowingInfoIcon && (this.infoIcon.style.opacity = "1");
      }, t.prototype.onHoverOut = function () {
        this.isShowingInfoIcon && (this.infoIcon.style.opacity = "0.6");
      }, t.prototype.onClick = function () {
        this.isShowingInfoIcon ? (this.isShowingInfoIcon = !1, this.onTapIn(), this.infoIcon.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=", this.infoIcon.style.opacity = "1") : (this.isShowingInfoIcon = !0, this.onTapOut(), this.infoIcon.src = K, this.infoIcon.style.opacity = "0.6");
      }, t;
    }(),
        et = function () {
      function t() {
        var t = this;this.infoDiv = new $(), this.infoIcon = new tt(function () {
          t.infoDiv.show();
        }, function () {
          t.infoDiv.hide();
        });
      }return t.prototype.renderInto = function (t) {
        this.infoDiv.renderInto(t), this.infoIcon.renderInto(t);
      }, t;
    }(),
        rt = function () {
      function t() {}return t.hasPermissions = function () {
        return t = this, e = void 0, n = function n() {
          var t, e, r, n;return function (t, e) {
            var r,
                n,
                i,
                o,
                s = { label: 0, sent: function sent() {
                if (1 & i[0]) throw i[1];return i[1];
              }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
              return this;
            }), o;function a(a) {
              return function (c) {
                return function (a) {
                  if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
                    try {
                      if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                          i = a;break;case 4:
                          return s.label++, { value: a[1], done: !1 };case 5:
                          s.label++, n = a[1], a = [0];continue;case 7:
                          a = s.ops.pop(), s.trys.pop();continue;default:
                          if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                            s = 0;continue;
                          }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                            s.label = a[1];break;
                          }if (6 === a[0] && s.label < i[1]) {
                            s.label = i[1], i = a;break;
                          }if (i && s.label < i[2]) {
                            s.label = i[2], s.ops.push(a);break;
                          }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
                    } catch (t) {
                      a = [6, t], n = 0;
                    } finally {
                      r = i = 0;
                    }
                  }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
                }([a, c]);
              };
            }
          }(this, function (i) {
            switch (i.label) {case 0:
                return [4, navigator.mediaDevices.enumerateDevices()];case 1:
                for (t = i.sent(), e = 0, r = t; e < r.length; e++) {
                  if ("videoinput" === (n = r[e]).kind && n.label) return [2, !0];
                }return [2, !1];}
          });
        }, new ((r = void 0) || (r = Promise))(function (i, o) {
          function s(t) {
            try {
              c(n.next(t));
            } catch (t) {
              o(t);
            }
          }function a(t) {
            try {
              c(n.throw(t));
            } catch (t) {
              o(t);
            }
          }function c(t) {
            var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
              t(e);
            })).then(s, a);
          }c((n = n.apply(t, e || [])).next());
        });var t, e, r, n;
      }, t;
    }(),
        nt = function () {
      function t(t) {
        this.supportedScanTypes = this.validateAndReturnScanTypes(t);
      }return t.prototype.getDefaultScanType = function () {
        return this.supportedScanTypes[0];
      }, t.prototype.hasMoreThanOneScanType = function () {
        return this.supportedScanTypes.length > 1;
      }, t.prototype.isCameraScanRequired = function () {
        for (var e = 0, r = this.supportedScanTypes; e < r.length; e++) {
          var n = r[e];if (t.isCameraScanType(n)) return !0;
        }return !1;
      }, t.isCameraScanType = function (t) {
        return t === i.SCAN_TYPE_CAMERA;
      }, t.isFileScanType = function (t) {
        return t === i.SCAN_TYPE_FILE;
      }, t.prototype.validateAndReturnScanTypes = function (t) {
        if (!t || 0 === t.length) return c.DEFAULT_SUPPORTED_SCAN_TYPE;var e = c.DEFAULT_SUPPORTED_SCAN_TYPE.length;if (t.length > e) throw "Max ".concat(e, " values expected for ") + "supportedScanTypes";for (var r = 0, n = t; r < n.length; r++) {
          var i = n[r];if (!c.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i)) throw "Unsupported scan type ".concat(i);
        }return t;
      }, t;
    }(),
        it = function () {
      function t() {}return t.ALL_ELEMENT_CLASS = "html5-qrcode-element", t.CAMERA_PERMISSION_BUTTON_ID = "html5-qrcode-button-camera-permission", t.CAMERA_START_BUTTON_ID = "html5-qrcode-button-camera-start", t.CAMERA_STOP_BUTTON_ID = "html5-qrcode-button-camera-stop", t.TORCH_BUTTON_ID = "html5-qrcode-button-torch", t.CAMERA_SELECTION_SELECT_ID = "html5-qrcode-select-camera", t.FILE_SELECTION_BUTTON_ID = "html5-qrcode-button-file-selection", t.ZOOM_SLIDER_ID = "html5-qrcode-input-range-zoom", t.SCAN_TYPE_CHANGE_ANCHOR_ID = "html5-qrcode-anchor-scan-type-change", t.TORCH_BUTTON_CLASS_TORCH_ON = "html5-qrcode-button-torch-on", t.TORCH_BUTTON_CLASS_TORCH_OFF = "html5-qrcode-button-torch-off", t;
    }(),
        ot = function () {
      function t() {}return t.createElement = function (t, e) {
        var r = document.createElement(t);return r.id = e, r.classList.add(it.ALL_ELEMENT_CLASS), "button" === t && r.setAttribute("type", "button"), r;
      }, t;
    }(),
        st = function st(t, e, r, n) {
      return new (r || (r = Promise))(function (i, o) {
        function s(t) {
          try {
            c(n.next(t));
          } catch (t) {
            o(t);
          }
        }function a(t) {
          try {
            c(n.throw(t));
          } catch (t) {
            o(t);
          }
        }function c(t) {
          var e;t.done ? i(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {
            t(e);
          })).then(s, a);
        }c((n = n.apply(t, e || [])).next());
      });
    },
        at = function at(t, e) {
      var r,
          n,
          i,
          o,
          s = { label: 0, sent: function sent() {
          if (1 & i[0]) throw i[1];return i[1];
        }, trys: [], ops: [] };return o = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
        return this;
      }), o;function a(a) {
        return function (c) {
          return function (a) {
            if (r) throw new TypeError("Generator is already executing.");for (; o && (o = 0, a[0] && (s = 0)), s;) {
              try {
                if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {case 0:case 1:
                    i = a;break;case 4:
                    return s.label++, { value: a[1], done: !1 };case 5:
                    s.label++, n = a[1], a = [0];continue;case 7:
                    a = s.ops.pop(), s.trys.pop();continue;default:
                    if (!((i = (i = s.trys).length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                      s = 0;continue;
                    }if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {
                      s.label = a[1];break;
                    }if (6 === a[0] && s.label < i[1]) {
                      s.label = i[1], i = a;break;
                    }if (i && s.label < i[2]) {
                      s.label = i[2], s.ops.push(a);break;
                    }i[2] && s.ops.pop(), s.trys.pop();continue;}a = e.call(t, s);
              } catch (t) {
                a = [6, t], n = 0;
              } finally {
                r = i = 0;
              }
            }if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };
          }([a, c]);
        };
      }
    },
        ct = function () {
      function t(t, e, r) {
        this.isTorchOn = !1, this.torchCapability = t, this.buttonController = e, this.onTorchActionFailureCallback = r;
      }return t.prototype.isTorchEnabled = function () {
        return this.isTorchOn;
      }, t.prototype.flipState = function () {
        return st(this, void 0, void 0, function () {
          var t, e;return at(this, function (r) {
            switch (r.label) {case 0:
                this.buttonController.disable(), t = !this.isTorchOn, r.label = 1;case 1:
                return r.trys.push([1, 3,, 4]), [4, this.torchCapability.apply(t)];case 2:
                return r.sent(), this.updateUiBasedOnLatestSettings(this.torchCapability.value(), t), [3, 4];case 3:
                return e = r.sent(), this.propagateFailure(t, e), this.buttonController.enable(), [3, 4];case 4:
                return [2];}
          });
        });
      }, t.prototype.updateUiBasedOnLatestSettings = function (t, e) {
        t === e ? (this.buttonController.setText(e ? p.torchOffButton() : p.torchOnButton()), this.isTorchOn = e) : this.propagateFailure(e), this.buttonController.enable();
      }, t.prototype.propagateFailure = function (t, e) {
        var r = t ? p.torchOnFailedMessage() : p.torchOffFailedMessage();e && (r += "; Error = " + e), this.onTorchActionFailureCallback(r);
      }, t.prototype.reset = function () {
        this.isTorchOn = !1;
      }, t;
    }(),
        lt = function () {
      function t(t, e) {
        this.onTorchActionFailureCallback = e, this.torchButton = ot.createElement("button", it.TORCH_BUTTON_ID), this.torchController = new ct(t, this, e);
      }return t.prototype.render = function (t, e) {
        var r = this;this.torchButton.innerText = p.torchOnButton(), this.torchButton.style.display = e.display, this.torchButton.style.marginLeft = e.marginLeft;var n = this;this.torchButton.addEventListener("click", function (t) {
          return st(r, void 0, void 0, function () {
            return at(this, function (t) {
              switch (t.label) {case 0:
                  return [4, n.torchController.flipState()];case 1:
                  return t.sent(), n.torchController.isTorchEnabled() ? (n.torchButton.classList.remove(it.TORCH_BUTTON_CLASS_TORCH_OFF), n.torchButton.classList.add(it.TORCH_BUTTON_CLASS_TORCH_ON)) : (n.torchButton.classList.remove(it.TORCH_BUTTON_CLASS_TORCH_ON), n.torchButton.classList.add(it.TORCH_BUTTON_CLASS_TORCH_OFF)), [2];}
            });
          });
        }), t.appendChild(this.torchButton);
      }, t.prototype.updateTorchCapability = function (t) {
        this.torchController = new ct(t, this, this.onTorchActionFailureCallback);
      }, t.prototype.getTorchButton = function () {
        return this.torchButton;
      }, t.prototype.hide = function () {
        this.torchButton.style.display = "none";
      }, t.prototype.show = function () {
        this.torchButton.style.display = "inline-block";
      }, t.prototype.disable = function () {
        this.torchButton.disabled = !0;
      }, t.prototype.enable = function () {
        this.torchButton.disabled = !1;
      }, t.prototype.setText = function (t) {
        this.torchButton.innerText = t;
      }, t.prototype.reset = function () {
        this.torchButton.innerText = p.torchOnButton(), this.torchController.reset();
      }, t.create = function (e, r, n, i) {
        var o = new t(r, i);return o.render(e, n), o;
      }, t;
    }(),
        ht = function () {
      function t(t, e, r) {
        this.fileBasedScanRegion = this.createFileBasedScanRegion(), this.fileBasedScanRegion.style.display = e ? "block" : "none", t.appendChild(this.fileBasedScanRegion);var n = document.createElement("label");n.setAttribute("for", this.getFileScanInputId()), n.style.display = "inline-block", this.fileBasedScanRegion.appendChild(n), this.fileSelectionButton = ot.createElement("button", it.FILE_SELECTION_BUTTON_ID), this.setInitialValueToButton(), this.fileSelectionButton.addEventListener("click", function (t) {
          n.click();
        }), n.append(this.fileSelectionButton), this.fileScanInput = ot.createElement("input", this.getFileScanInputId()), this.fileScanInput.type = "file", this.fileScanInput.accept = "image/*", this.fileScanInput.style.display = "none", n.appendChild(this.fileScanInput);var i = this;this.fileScanInput.addEventListener("change", function (t) {
          if (null != t && null != t.target) {
            var e = t.target;if (!e.files || 0 !== e.files.length) {
              var n = e.files[0],
                  o = n.name;i.setImageNameToButton(o), r(n);
            }
          }
        });var o = this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o), this.fileBasedScanRegion.addEventListener("dragenter", function (t) {
          i.fileBasedScanRegion.style.border = i.fileBasedScanRegionActiveBorder(), t.stopPropagation(), t.preventDefault();
        }), this.fileBasedScanRegion.addEventListener("dragleave", function (t) {
          i.fileBasedScanRegion.style.border = i.fileBasedScanRegionDefaultBorder(), t.stopPropagation(), t.preventDefault();
        }), this.fileBasedScanRegion.addEventListener("dragover", function (t) {
          i.fileBasedScanRegion.style.border = i.fileBasedScanRegionActiveBorder(), t.stopPropagation(), t.preventDefault();
        }), this.fileBasedScanRegion.addEventListener("drop", function (t) {
          t.stopPropagation(), t.preventDefault(), i.fileBasedScanRegion.style.border = i.fileBasedScanRegionDefaultBorder();var e = t.dataTransfer;if (e) {
            var n = e.files;if (!n || 0 === n.length) return;for (var s = !1, a = 0; a < n.length; ++a) {
              var c = n.item(a);if (c && c.type.match(/image.*/)) {
                s = !0;var l = c.name;i.setImageNameToButton(l), r(c), o.innerText = p.dragAndDropMessage();break;
              }
            }s || (o.innerText = p.dragAndDropMessageOnlyImages());
          }
        });
      }return t.prototype.hide = function () {
        this.fileBasedScanRegion.style.display = "none", this.fileScanInput.disabled = !0;
      }, t.prototype.show = function () {
        this.fileBasedScanRegion.style.display = "block", this.fileScanInput.disabled = !1;
      }, t.prototype.isShowing = function () {
        return "block" === this.fileBasedScanRegion.style.display;
      }, t.prototype.resetValue = function () {
        this.fileScanInput.value = "", this.setInitialValueToButton();
      }, t.prototype.createFileBasedScanRegion = function () {
        var t = document.createElement("div");return t.style.textAlign = "center", t.style.margin = "auto", t.style.width = "80%", t.style.maxWidth = "600px", t.style.border = this.fileBasedScanRegionDefaultBorder(), t.style.padding = "10px", t.style.marginBottom = "10px", t;
      }, t.prototype.fileBasedScanRegionDefaultBorder = function () {
        return "6px dashed #ebebeb";
      }, t.prototype.fileBasedScanRegionActiveBorder = function () {
        return "6px dashed rgb(153 151 151)";
      }, t.prototype.createDragAndDropMessage = function () {
        var t = document.createElement("div");return t.innerText = p.dragAndDropMessage(), t.style.fontWeight = "400", t;
      }, t.prototype.setImageNameToButton = function (t) {
        if (t.length > 20) {
          var e = t.substring(0, 8),
              r = t.length,
              n = t.substring(r - 8, r);t = "".concat(e, "....").concat(n);
        }var i = p.fileSelectionChooseAnother() + " - " + t;this.fileSelectionButton.innerText = i;
      }, t.prototype.setInitialValueToButton = function () {
        var t = p.fileSelectionChooseImage() + " - " + p.fileSelectionNoImageSelected();this.fileSelectionButton.innerText = t;
      }, t.prototype.getFileScanInputId = function () {
        return "html5-qrcode-private-filescan-input";
      }, t.create = function (e, r, n) {
        return new t(e, r, n);
      }, t;
    }(),
        ut = function () {
      function t(t) {
        this.selectElement = ot.createElement("select", it.CAMERA_SELECTION_SELECT_ID), this.cameras = t, this.options = [];
      }return t.prototype.render = function (t) {
        var e = document.createElement("span");e.style.marginRight = "10px";var r = this.cameras.length;if (0 === r) throw new Error("No cameras found");if (1 === r) e.style.display = "none";else {
          var n = p.selectCamera();e.innerText = "".concat(n, " (").concat(this.cameras.length, ")  ");
        }for (var i = 1, o = 0, s = this.cameras; o < s.length; o++) {
          var a = s[o],
              c = a.id,
              l = null == a.label ? c : a.label;l && "" !== l || (l = [p.anonymousCameraPrefix(), i++].join(" "));var h = document.createElement("option");h.value = c, h.innerText = l, this.options.push(h), this.selectElement.appendChild(h);
        }e.appendChild(this.selectElement), t.appendChild(e);
      }, t.prototype.disable = function () {
        this.selectElement.disabled = !0;
      }, t.prototype.isDisabled = function () {
        return !0 === this.selectElement.disabled;
      }, t.prototype.enable = function () {
        this.selectElement.disabled = !1;
      }, t.prototype.getValue = function () {
        return this.selectElement.value;
      }, t.prototype.hasValue = function (t) {
        for (var e = 0, r = this.options; e < r.length; e++) {
          if (r[e].value === t) return !0;
        }return !1;
      }, t.prototype.setValue = function (t) {
        if (!this.hasValue(t)) throw new Error("".concat(t, " is not present in the camera list."));this.selectElement.value = t;
      }, t.prototype.hasSingleItem = function () {
        return 1 === this.cameras.length;
      }, t.prototype.numCameras = function () {
        return this.cameras.length;
      }, t.create = function (e, r) {
        var n = new t(r);return n.render(e), n;
      }, t;
    }(),
        dt = function () {
      function t() {
        this.onChangeCallback = null, this.zoomElementContainer = document.createElement("div"), this.rangeInput = ot.createElement("input", it.ZOOM_SLIDER_ID), this.rangeInput.type = "range", this.rangeText = document.createElement("span"), this.rangeInput.min = "1", this.rangeInput.max = "5", this.rangeInput.value = "1", this.rangeInput.step = "0.1";
      }return t.prototype.render = function (t, e) {
        this.zoomElementContainer.style.display = e ? "block" : "none", this.zoomElementContainer.style.padding = "5px 10px", this.zoomElementContainer.style.textAlign = "center", t.appendChild(this.zoomElementContainer), this.rangeInput.style.display = "inline-block", this.rangeInput.style.width = "50%", this.rangeInput.style.height = "5px", this.rangeInput.style.background = "#d3d3d3", this.rangeInput.style.outline = "none", this.rangeInput.style.opacity = "0.7";var r = p.zoom();this.rangeText.innerText = "".concat(this.rangeInput.value, "x ").concat(r), this.rangeText.style.marginRight = "10px";var n = this;this.rangeInput.addEventListener("input", function () {
          return n.onValueChange();
        }), this.rangeInput.addEventListener("change", function () {
          return n.onValueChange();
        }), this.zoomElementContainer.appendChild(this.rangeInput), this.zoomElementContainer.appendChild(this.rangeText);
      }, t.prototype.onValueChange = function () {
        var t = p.zoom();this.rangeText.innerText = "".concat(this.rangeInput.value, "x ").concat(t), this.onChangeCallback && this.onChangeCallback(parseFloat(this.rangeInput.value));
      }, t.prototype.setValues = function (t, e, r, n) {
        this.rangeInput.min = t.toString(), this.rangeInput.max = e.toString(), this.rangeInput.step = n.toString(), this.rangeInput.value = r.toString(), this.onValueChange();
      }, t.prototype.show = function () {
        this.zoomElementContainer.style.display = "block";
      }, t.prototype.hide = function () {
        this.zoomElementContainer.style.display = "none";
      }, t.prototype.setOnCameraZoomValueChangeCallback = function (t) {
        this.onChangeCallback = t;
      }, t.prototype.removeOnCameraZoomValueChangeCallback = function () {
        this.onChangeCallback = null;
      }, t.create = function (e, r) {
        var n = new t();return n.render(e, r), n;
      }, t;
    }();!function (t) {
      t[t.STATUS_DEFAULT = 0] = "STATUS_DEFAULT", t[t.STATUS_SUCCESS = 1] = "STATUS_SUCCESS", t[t.STATUS_WARNING = 2] = "STATUS_WARNING", t[t.STATUS_REQUESTING_PERMISSION = 3] = "STATUS_REQUESTING_PERMISSION";
    }(U || (U = {}));var ft = function () {
      function t(t, e, r) {
        if (this.lastMatchFound = null, this.cameraScanImage = null, this.fileScanImage = null, this.fileSelectionUi = null, this.elementId = t, this.config = this.createConfig(e), this.verbose = !0 === r, !document.getElementById(t)) throw "HTML Element with id=".concat(t, " not found");this.scanTypeSelector = new nt(this.config.supportedScanTypes), this.currentScanType = this.scanTypeSelector.getDefaultScanType(), this.sectionSwapAllowed = !0, this.logger = new d(this.verbose), this.persistedDataManager = new J(), !0 !== e.rememberLastUsedCamera && this.persistedDataManager.reset();
      }return t.prototype.render = function (t, e) {
        var r = this;this.lastMatchFound = null, this.qrCodeSuccessCallback = function (e, n) {
          if (t) t(e, n);else {
            if (r.lastMatchFound === e) return;r.lastMatchFound = e, r.setHeaderMessage(p.lastMatch(e), U.STATUS_SUCCESS);
          }
        }, this.qrCodeErrorCallback = function (t, r) {
          e && e(t, r);
        };var n,
            i,
            o = document.getElementById(this.elementId);if (!o) throw "HTML Element with id=".concat(this.elementId, " not found");o.innerHTML = "", this.createBasicLayout(o), this.html5Qrcode = new W(this.getScanRegionId(), (n = this.config, i = this.verbose, { formatsToSupport: n.formatsToSupport, useBarCodeDetectorIfSupported: n.useBarCodeDetectorIfSupported, experimentalFeatures: n.experimentalFeatures, verbose: i }));
      }, t.prototype.pause = function (t) {
        (f(t) || !0 !== t) && (t = !1), this.getHtml5QrcodeOrFail().pause(t);
      }, t.prototype.resume = function () {
        this.getHtml5QrcodeOrFail().resume();
      }, t.prototype.getState = function () {
        return this.getHtml5QrcodeOrFail().getState();
      }, t.prototype.clear = function () {
        var t = this,
            e = function e() {
          var e = document.getElementById(t.elementId);e && (e.innerHTML = "", t.resetBasicLayout(e));
        };return this.html5Qrcode ? new Promise(function (r, n) {
          t.html5Qrcode ? t.html5Qrcode.isScanning ? t.html5Qrcode.stop().then(function (n) {
            t.html5Qrcode ? (t.html5Qrcode.clear(), e(), r()) : r();
          }).catch(function (e) {
            t.verbose && t.logger.logError("Unable to stop qrcode scanner", e), n(e);
          }) : (t.html5Qrcode.clear(), e(), r()) : r();
        }) : Promise.resolve();
      }, t.prototype.getRunningTrackCapabilities = function () {
        return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities();
      }, t.prototype.getRunningTrackSettings = function () {
        return this.getHtml5QrcodeOrFail().getRunningTrackSettings();
      }, t.prototype.applyVideoConstraints = function (t) {
        return this.getHtml5QrcodeOrFail().applyVideoConstraints(t);
      }, t.prototype.getHtml5QrcodeOrFail = function () {
        if (!this.html5Qrcode) throw "Code scanner not initialized.";return this.html5Qrcode;
      }, t.prototype.createConfig = function (t) {
        return t ? (t.fps || (t.fps = c.SCAN_DEFAULT_FPS), t.rememberLastUsedCamera !== !c.DEFAULT_REMEMBER_LAST_CAMERA_USED && (t.rememberLastUsedCamera = c.DEFAULT_REMEMBER_LAST_CAMERA_USED), t.supportedScanTypes || (t.supportedScanTypes = c.DEFAULT_SUPPORTED_SCAN_TYPE), t) : { fps: c.SCAN_DEFAULT_FPS, rememberLastUsedCamera: c.DEFAULT_REMEMBER_LAST_CAMERA_USED, supportedScanTypes: c.DEFAULT_SUPPORTED_SCAN_TYPE };
      }, t.prototype.createBasicLayout = function (t) {
        t.style.position = "relative", t.style.padding = "0px", t.style.border = "1px solid silver", this.createHeader(t);var e = document.createElement("div"),
            r = this.getScanRegionId();e.id = r, e.style.width = "100%", e.style.minHeight = "100px", e.style.textAlign = "center", t.appendChild(e), nt.isCameraScanType(this.currentScanType) ? this.insertCameraScanImageToScanRegion() : this.insertFileScanImageToScanRegion();var n = document.createElement("div"),
            i = this.getDashboardId();n.id = i, n.style.width = "100%", t.appendChild(n), this.setupInitialDashboard(n);
      }, t.prototype.resetBasicLayout = function (t) {
        t.style.border = "none";
      }, t.prototype.setupInitialDashboard = function (t) {
        this.createSection(t), this.createSectionControlPanel(), this.scanTypeSelector.hasMoreThanOneScanType() && this.createSectionSwap();
      }, t.prototype.createHeader = function (t) {
        var e = document.createElement("div");e.style.textAlign = "left", e.style.margin = "0px", t.appendChild(e), new et().renderInto(e);var r = document.createElement("div");r.id = this.getHeaderMessageContainerId(), r.style.display = "none", r.style.textAlign = "center", r.style.fontSize = "14px", r.style.padding = "2px 10px", r.style.margin = "4px", r.style.borderTop = "1px solid #f6f6f6", e.appendChild(r);
      }, t.prototype.createSection = function (t) {
        var e = document.createElement("div");e.id = this.getDashboardSectionId(), e.style.width = "100%", e.style.padding = "10px 0px 10px 0px", e.style.textAlign = "left", t.appendChild(e);
      }, t.prototype.createCameraListUi = function (t, e, r) {
        var n = this;n.showHideScanTypeSwapLink(!1), n.setHeaderMessage(p.cameraPermissionRequesting());var i = function i() {
          r || n.createPermissionButton(t, e);
        };W.getCameras().then(function (r) {
          n.persistedDataManager.setHasPermission(!0), n.showHideScanTypeSwapLink(!0), n.resetHeaderMessage(), r && r.length > 0 ? (t.removeChild(e), n.renderCameraSelection(r)) : (n.setHeaderMessage(p.noCameraFound(), U.STATUS_WARNING), i());
        }).catch(function (t) {
          n.persistedDataManager.setHasPermission(!1), r ? r.disabled = !1 : i(), n.setHeaderMessage(t, U.STATUS_WARNING), n.showHideScanTypeSwapLink(!0);
        });
      }, t.prototype.createPermissionButton = function (t, e) {
        var r = this,
            n = ot.createElement("button", this.getCameraPermissionButtonId());n.innerText = p.cameraPermissionTitle(), n.addEventListener("click", function () {
          n.disabled = !0, r.createCameraListUi(t, e, n);
        }), e.appendChild(n);
      }, t.prototype.createPermissionsUi = function (t, e) {
        var r = this;nt.isCameraScanType(this.currentScanType) && this.persistedDataManager.hasCameraPermissions() ? rt.hasPermissions().then(function (n) {
          n ? r.createCameraListUi(t, e) : (r.persistedDataManager.setHasPermission(!1), r.createPermissionButton(t, e));
        }).catch(function (n) {
          r.persistedDataManager.setHasPermission(!1), r.createPermissionButton(t, e);
        }) : this.createPermissionButton(t, e);
      }, t.prototype.createSectionControlPanel = function () {
        var t = document.getElementById(this.getDashboardSectionId()),
            e = document.createElement("div");t.appendChild(e);var r = document.createElement("div");r.id = this.getDashboardSectionCameraScanRegionId(), r.style.display = nt.isCameraScanType(this.currentScanType) ? "block" : "none", e.appendChild(r);var n = document.createElement("div");n.style.textAlign = "center", r.appendChild(n), this.scanTypeSelector.isCameraScanRequired() && this.createPermissionsUi(r, n), this.renderFileScanUi(e);
      }, t.prototype.renderFileScanUi = function (t) {
        var e = nt.isFileScanType(this.currentScanType),
            r = this;this.fileSelectionUi = ht.create(t, e, function (t) {
          if (!r.html5Qrcode) throw "html5Qrcode not defined";nt.isFileScanType(r.currentScanType) && (r.setHeaderMessage(p.loadingImage()), r.html5Qrcode.scanFileV2(t, !0).then(function (t) {
            r.resetHeaderMessage(), r.qrCodeSuccessCallback(t.decodedText, t);
          }).catch(function (t) {
            r.setHeaderMessage(t, U.STATUS_WARNING), r.qrCodeErrorCallback(t, u.createFrom(t));
          }));
        });
      }, t.prototype.renderCameraSelection = function (t) {
        var e = this,
            r = this,
            n = document.getElementById(this.getDashboardSectionCameraScanRegionId());n.style.textAlign = "center";var i = dt.create(n, !1),
            o = ut.create(n, t),
            s = document.createElement("span"),
            a = ot.createElement("button", it.CAMERA_START_BUTTON_ID);a.innerText = p.scanButtonStartScanningText(), s.appendChild(a);var c,
            l = ot.createElement("button", it.CAMERA_STOP_BUTTON_ID);l.innerText = p.scanButtonStopScanningText(), l.style.display = "none", l.disabled = !0, s.appendChild(l), n.appendChild(s);var h = function h(t) {
          t || (a.style.display = "none"), a.innerText = p.scanButtonStartScanningText(), a.style.opacity = "1", a.disabled = !1, t && (a.style.display = "inline-block");
        };if (a.addEventListener("click", function (t) {
          a.innerText = p.scanButtonScanningStarting(), o.disable(), a.disabled = !0, a.style.opacity = "0.5", e.scanTypeSelector.hasMoreThanOneScanType() && r.showHideScanTypeSwapLink(!1), r.resetHeaderMessage();var n,
              u = o.getValue();r.persistedDataManager.setLastUsedCameraId(u), r.html5Qrcode.start(u, (n = r.config, { fps: n.fps, qrbox: n.qrbox, aspectRatio: n.aspectRatio, disableFlip: n.disableFlip, videoConstraints: n.videoConstraints }), r.qrCodeSuccessCallback, r.qrCodeErrorCallback).then(function (t) {
            l.disabled = !1, l.style.display = "inline-block", h(!1);var n = r.html5Qrcode.getRunningTrackCameraCapabilities();!0 === e.config.showTorchButtonIfSupported && function (t) {
              t.torchFeature().isSupported() ? (c ? c.updateTorchCapability(t.torchFeature()) : c = lt.create(s, t.torchFeature(), { display: "none", marginLeft: "5px" }, function (t) {
                r.setHeaderMessage(t, U.STATUS_WARNING);
              }), c.show()) : c && c.hide();
            }(n), !0 === e.config.showZoomSliderIfSupported && function (t) {
              var r = t.zoomFeature();if (r.isSupported()) {
                i.setOnCameraZoomValueChangeCallback(function (t) {
                  r.apply(t);
                });var n,
                    o,
                    s,
                    a = 1;e.config.defaultZoomValueIfSupported && (a = e.config.defaultZoomValueIfSupported), n = a, o = r.min(), a = n > (s = r.max()) ? s : n < o ? o : n, i.setValues(r.min(), r.max(), a, r.step()), i.show();
              }
            }(n);
          }).catch(function (t) {
            r.showHideScanTypeSwapLink(!0), o.enable(), h(!0), r.setHeaderMessage(t, U.STATUS_WARNING);
          });
        }), o.hasSingleItem() && a.click(), l.addEventListener("click", function (t) {
          if (!r.html5Qrcode) throw "html5Qrcode not defined";l.disabled = !0, r.html5Qrcode.stop().then(function (t) {
            e.scanTypeSelector.hasMoreThanOneScanType() && r.showHideScanTypeSwapLink(!0), o.enable(), a.disabled = !1, l.style.display = "none", a.style.display = "inline-block", c && (c.reset(), c.hide()), i.removeOnCameraZoomValueChangeCallback(), i.hide(), r.insertCameraScanImageToScanRegion();
          }).catch(function (t) {
            l.disabled = !1, r.setHeaderMessage(t, U.STATUS_WARNING);
          });
        }), r.persistedDataManager.getLastUsedCameraId()) {
          var u = r.persistedDataManager.getLastUsedCameraId();o.hasValue(u) ? (o.setValue(u), a.click()) : r.persistedDataManager.resetLastUsedCameraId();
        }
      }, t.prototype.createSectionSwap = function () {
        var t = this,
            e = p.textIfCameraScanSelected(),
            r = p.textIfFileScanSelected(),
            n = document.getElementById(this.getDashboardSectionId()),
            o = document.createElement("div");o.style.textAlign = "center";var s = ot.createElement("span", this.getDashboardSectionSwapLinkId());s.style.textDecoration = "underline", s.style.cursor = "pointer", s.innerText = nt.isCameraScanType(this.currentScanType) ? e : r, s.addEventListener("click", function () {
          t.sectionSwapAllowed ? (t.resetHeaderMessage(), t.fileSelectionUi.resetValue(), t.sectionSwapAllowed = !1, nt.isCameraScanType(t.currentScanType) ? (t.clearScanRegion(), t.getCameraScanRegion().style.display = "none", t.fileSelectionUi.show(), s.innerText = r, t.currentScanType = i.SCAN_TYPE_FILE, t.insertFileScanImageToScanRegion()) : (t.clearScanRegion(), t.getCameraScanRegion().style.display = "block", t.fileSelectionUi.hide(), s.innerText = e, t.currentScanType = i.SCAN_TYPE_CAMERA, t.insertCameraScanImageToScanRegion(), t.startCameraScanIfPermissionExistsOnSwap()), t.sectionSwapAllowed = !0) : t.verbose && t.logger.logError("Section swap called when not allowed");
        }), o.appendChild(s), n.appendChild(o);
      }, t.prototype.startCameraScanIfPermissionExistsOnSwap = function () {
        var t = this,
            e = this;this.persistedDataManager.hasCameraPermissions() && rt.hasPermissions().then(function (r) {
          if (r) {
            var n = document.getElementById(e.getCameraPermissionButtonId());if (!n) throw t.logger.logError("Permission button not found, fail;"), "Permission button not found";n.click();
          } else e.persistedDataManager.setHasPermission(!1);
        }).catch(function (t) {
          e.persistedDataManager.setHasPermission(!1);
        });
      }, t.prototype.resetHeaderMessage = function () {
        document.getElementById(this.getHeaderMessageContainerId()).style.display = "none";
      }, t.prototype.setHeaderMessage = function (t, e) {
        e || (e = U.STATUS_DEFAULT);var r = this.getHeaderMessageDiv();switch (r.innerText = t, r.style.display = "block", e) {case U.STATUS_SUCCESS:
            r.style.background = "rgba(106, 175, 80, 0.26)", r.style.color = "#477735";break;case U.STATUS_WARNING:
            r.style.background = "rgba(203, 36, 49, 0.14)", r.style.color = "#cb2431";break;case U.STATUS_DEFAULT:default:
            r.style.background = "rgba(0, 0, 0, 0)", r.style.color = "rgb(17, 17, 17)";}
      }, t.prototype.showHideScanTypeSwapLink = function (t) {
        this.scanTypeSelector.hasMoreThanOneScanType() && (!0 !== t && (t = !1), this.sectionSwapAllowed = t, this.getDashboardSectionSwapLink().style.display = t ? "inline-block" : "none");
      }, t.prototype.insertCameraScanImageToScanRegion = function () {
        var t = this,
            e = document.getElementById(this.getScanRegionId());if (this.cameraScanImage) return e.innerHTML = "<br>", void e.appendChild(this.cameraScanImage);this.cameraScanImage = new Image(), this.cameraScanImage.onload = function (r) {
          e.innerHTML = "<br>", e.appendChild(t.cameraScanImage);
        }, this.cameraScanImage.width = 64, this.cameraScanImage.style.opacity = "0.8", this.cameraScanImage.src = Z, this.cameraScanImage.alt = p.cameraScanAltText();
      }, t.prototype.insertFileScanImageToScanRegion = function () {
        var t = this,
            e = document.getElementById(this.getScanRegionId());if (this.fileScanImage) return e.innerHTML = "<br>", void e.appendChild(this.fileScanImage);this.fileScanImage = new Image(), this.fileScanImage.onload = function (r) {
          e.innerHTML = "<br>", e.appendChild(t.fileScanImage);
        }, this.fileScanImage.width = 64, this.fileScanImage.style.opacity = "0.8", this.fileScanImage.src = Q, this.fileScanImage.alt = p.fileScanAltText();
      }, t.prototype.clearScanRegion = function () {
        document.getElementById(this.getScanRegionId()).innerHTML = "";
      }, t.prototype.getDashboardSectionId = function () {
        return "".concat(this.elementId, "__dashboard_section");
      }, t.prototype.getDashboardSectionCameraScanRegionId = function () {
        return "".concat(this.elementId, "__dashboard_section_csr");
      }, t.prototype.getDashboardSectionSwapLinkId = function () {
        return it.SCAN_TYPE_CHANGE_ANCHOR_ID;
      }, t.prototype.getScanRegionId = function () {
        return "".concat(this.elementId, "__scan_region");
      }, t.prototype.getDashboardId = function () {
        return "".concat(this.elementId, "__dashboard");
      }, t.prototype.getHeaderMessageContainerId = function () {
        return "".concat(this.elementId, "__header_message");
      }, t.prototype.getCameraPermissionButtonId = function () {
        return it.CAMERA_PERMISSION_BUTTON_ID;
      }, t.prototype.getCameraScanRegion = function () {
        return document.getElementById(this.getDashboardSectionCameraScanRegionId());
      }, t.prototype.getDashboardSectionSwapLink = function () {
        return document.getElementById(this.getDashboardSectionSwapLinkId());
      }, t.prototype.getHeaderMessageDiv = function () {
        return document.getElementById(this.getHeaderMessageContainerId());
      }, t;
    }();
  })(), __Html5QrcodeLibrary__ = n;
})();if (window) {
  if (!Html5QrcodeScanner) {
    var Html5QrcodeScanner = window.__Html5QrcodeLibrary__.Html5QrcodeScanner;
  }if (!Html5Qrcode) {
    var Html5Qrcode = window.__Html5QrcodeLibrary__.Html5Qrcode;
  }if (!Html5QrcodeSupportedFormats) {
    var Html5QrcodeSupportedFormats = window.__Html5QrcodeLibrary__.Html5QrcodeSupportedFormats;
  }if (!Html5QrcodeScannerState) {
    var Html5QrcodeScannerState = window.__Html5QrcodeLibrary__.Html5QrcodeScannerState;
  }if (!Html5QrcodeScanType) {
    var Html5QrcodeScanType = window.__Html5QrcodeLibrary__.Html5QrcodeScanType;
  }
}
//# sourceMappingURL=html5-qrcode.min.js.map