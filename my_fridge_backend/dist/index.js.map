{"version":3,"sources":["../src/index.js"],"names":["path","require","config","app","server","http","createServer","use","origin","bodyParser","json","urlencoded","extended","kassalClient","process","env","KASSAL_API_KEY","express","static","join","__dirname","get","req","res","sendFile","listen","PORT","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACAA,QAAQ,QAAR,EAAkBC,MAAlB;;AAEA,IAAIC,MAAM,wBAAV;AACAA,IAAIC,MAAJ,GAAaC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;;AAEAA,IAAII,GAAJ,CAAQ,oBAAK;AACTC,YAAQ;AADC,CAAL,CAAR;;AAIAL,IAAII,GAAJ,CAAQE,qBAAWC,IAAX,EAAR;AACAP,IAAII,GAAJ,CAAQE,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;;AAEAV,iBAAOW,YAAP,GAAsB,4BAAaC,QAAQC,GAAR,CAAYC,cAAzB,CAAtB;;AAEA;AACAb,IAAII,GAAJ,CAAQU,kBAAQC,MAAR,CAAelB,KAAKmB,IAAL,CAAUC,SAAV,EAAqB,KAArB,CAAf,CAAR;;AAEA;AACAjB,IAAIkB,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvB;AACAA,QAAIC,QAAJ,CAAaxB,KAAKmB,IAAL,CAAUC,SAAV,EAAqB,KAArB,EAA4B,YAA5B,CAAb;AACH,CAHD;;AAKAjB,IAAII,GAAJ,CAAQ,MAAR,EAAgB,mBAAI,EAAEL,wBAAF,EAAJ,CAAhB;AACAC,IAAIC,MAAJ,CAAWqB,MAAX,CAAkBX,QAAQC,GAAR,CAAYW,IAA9B;AACAC,QAAQC,GAAR,sBAA+Bd,QAAQC,GAAR,CAAYW,IAA3C","file":"index.js","sourcesContent":["import http from 'http';\nimport express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\nimport api from './api';\nimport config from './config.json';\nimport kassalClient from './clients/kassalClient';\nconst path = require('path');\nrequire('dotenv').config();\n\nlet app = express();\napp.server = http.createServer(app);\n\napp.use(cors({\n    origin: '*',\n}));\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n\nconfig.kassalClient = kassalClient(process.env.KASSAL_API_KEY)\n\n// Serve static files from the build directory\napp.use(express.static(path.join(__dirname, 'web')));\n\n// Handle requests to the root URL\napp.get('/', (req, res) => {\n    // Serve the index.html file from the build directory\n    res.sendFile(path.join(__dirname, 'web', 'index.html'));\n});\n\napp.use('/api', api({ config }));\napp.server.listen(process.env.PORT);\nconsole.log(`Started on port ${process.env.PORT}`);"]}